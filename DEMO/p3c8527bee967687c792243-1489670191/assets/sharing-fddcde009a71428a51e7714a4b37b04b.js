!function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(i){var r,s,a,o,c,l;if(n.fire(i,"ajax:before")){if(o=i.data("with-credentials")||null,c=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),s=i.data("ujs:submit-button-formaction")||i.attr("action"),a=e(i[0]).serializeArray();var d=i.data("ujs:submit-button");d&&(a.push(d),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),s=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",s=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),s=n.href(i),a=i.data("params")||null);return l={type:r||"GET",data:a,dataType:c,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!!n.fire(i,"ajax:beforeSend",[e,r])&&void i.trigger("ajax:send",e)},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(s)},o&&(l.xhrFields={withCredentials:o}),s&&(l.url=s),n.ajax(l)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(e){return!0}},handleMethod:function(i){var r=n.href(i),s=i.data("method"),a=i.attr("target"),o=n.csrfToken(),c=n.csrfParam(),l=e('<form method="post" action="'+r+'"></form>'),d='<input name="_method" value="'+s+'" type="hidden" />';c===t||o===t||n.isCrossDomain(r)||(d+='<input name="'+c+'" value="'+o+'" type="hidden" />'),a&&l.attr("target",a),l.hide().append(d).appendTo("body"),l.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),i!==t&&(e.data("ujs:enable-with",e[n]()),e[n](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),r=!1;if(!i)return!0;if(n.fire(e,"confirm")){try{r=n.confirm(i)}catch(e){(console.error||console.log).call(console,e.stack||e)}t=n.fire(e,"confirm:complete",[r])}return r&&t},blankInputs:function(t,n,i){var r,s,a,o,c=e(),l=n||"input,textarea",d=t.find(l),u={};return d.each(function(){r=e(this),r.is("input[type=radio]")?(o=r.attr("name"),u[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(a=t.find('input[type=radio][name="'+o+'"]'),c=c.add(a)),u[o]=o)):(s=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),s===i&&(c=c.add(r)))}),!!c.length&&c},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");i!==t&&(e.data("ujs:enable-with",e.html()),e.html(i)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(t){var i=e(this),r=i.data("method"),s=i.data("params"),a=t.metaKey||t.ctrlKey;if(!n.allowAction(i))return n.stopEverything(t);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(a&&(!r||"GET"===r)&&!s)return!0;var o=n.handleRemote(i);return o===!1?n.enableElement(i):o.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r,s,a=e(this),o=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")===t)if(a.data("ujs:formnovalidate-button")===t){if(r=n.blankInputs(a,n.requiredInputSelector,!1),r&&n.fire(a,"ajax:aborted:required",[r]))return n.stopEverything(i)}else a.data("ujs:formnovalidate-button",t);if(o){if(s=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var c=n.fire(a,"ajax:aborted:file",[s]);return c||setTimeout(function(){n.enableFormElements(a)},13),c}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),s=r?{name:r,value:i.val()}:null,a=i.closest("form");0===a.length&&(a=e("#"+i.attr("form"))),a.data("ujs:submit-button",s),a.data("ujs:formnovalidate-button",i.attr("formnovalidate")),a.data("ujs:submit-button-formaction",i.attr("formaction")),a.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this===t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),+function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(r)}).emulateTransitionEnd(300):n.$element.focus().trigger(r)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,i){return this.each(function(){var r=e(this),s=r.data("bs.modal"),a=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);s||r.data("bs.modal",s=new t(this,a)),"string"==typeof n?s[n](i):a.show&&s.show(i)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());n.is("a")&&t.preventDefault(),r.modal(s,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i);for(var r=this.options.trigger.split(" "),s=r.length;s--;){var a=r[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var o="hover"==a?"mouseenter":"focusin",c="hover"==a?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this,i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(r);a&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var o=this.getPosition(),c=i[0].offsetWidth,l=i[0].offsetHeight;if(a){var d=this.$element.parent(),u=r,h=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:d.outerWidth(),f="body"==this.options.container?window.innerHeight:d.outerHeight(),m="body"==this.options.container?0:d.offset().left;r="bottom"==r&&o.top+o.height+l-h>f?"top":"top"==r&&o.top-h-l<0?"bottom":"right"==r&&o.right+c>p?"left":"left"==r&&o.left-c<m?"right":r,i.removeClass(u).addClass(r)}var g=this.getCalculatedOffset(r,o,c,l);this.applyPlacement(g,r),this.hoverState=null;var b=function(){n.$element.trigger("shown.bs."+n.type)};e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,b).emulateTransitionEnd(150):b()}},t.prototype.applyPlacement=function(t,n){var i,r=this.tip(),s=r[0].offsetWidth,a=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),c=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(c)&&(c=0),t.top=t.top+o,t.left=t.left+c,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,d=r[0].offsetHeight;if("top"==n&&d!=a&&(i=!0,t.top=t.top+a-d),/bottom|top/.test(n)){var u=0;t.left<0&&(u=t.left*-2,t.left=0,r.offset(t),l=r[0].offsetWidth,d=r[0].offsetHeight),this.replaceArrow(u-s+l,l,"left")}else this.replaceArrow(d-a,d,"top");i&&r.offset(t)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=e.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),s="object"==typeof n&&n;(r||"destroy"!=n)&&(r||i.data("bs.tooltip",r=new t(this,s)),"string"==typeof n&&r[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(e){function t(){var t=s.settings;if(t.autoDispose&&!e.contains(document.documentElement,this))return e(this).timeago("dispose"),this;var a=n(this);return isNaN(a.datetime)||(0==t.cutoff||Math.abs(r(a.datetime))<t.cutoff)&&e(this).text(i(a.datetime,e(this).attr("lang")?e(this).attr("lang"):s.settings.lang)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:s.datetime(t)});var n=e.trim(t.text());s.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(n.length>0)||s.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function i(e,t){return s.inWords(r(e),t)}function r(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return i(t instanceof Date?t:"string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var s=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,lang:"en",strings:{en:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}}},inWords:function(t,n){function i(n,i){var s=e.isFunction(n)?n(i,t):n,a=r.numbers&&r.numbers[i]||i;return s.replace(/%d/i,a)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var r=this.settings.strings[n]||this.settings.strings[this.settings.lang]||this.settings.strings.en,s=r.prefixAgo,a=r.suffixAgo;if(this.settings.allowFuture&&t<0&&(s=r.prefixFromNow,a=r.suffixFromNow),!this.settings.allowPast&&t>=0)return r.inPast;var o=Math.abs(t)/1e3,c=o/60,l=c/60,d=l/24,u=d/365,h=o<45&&i(r.seconds,Math.round(o))||o<90&&i(r.minute,1)||c<45&&i(r.minutes,Math.round(c))||c<90&&i(r.hour,1)||l<24&&i(r.hours,Math.round(l))||l<42&&i(r.day,1)||d<30&&i(r.days,Math.round(d))||d<45&&i(r.month,1)||d<365&&i(r.months,Math.round(d/30))||u<1.5&&i(r.year,1)||i(r.years,Math.round(u)),p=r.wordSeparator||"";return void 0===r.wordSeparator&&(p=" "),e.trim([s,h,a].join(p))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(t){var n=s.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return s.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var a={init:function(){var n=e.proxy(t,this);n();var i=s.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){var i=n instanceof Date?n:s.parse(n);e(this).data("timeago",{datetime:i}),s.settings.localeTitle&&e(this).attr("title",i.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:s.parse(s.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?a[e]:a.init;if(!n)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),function(e){e(document).on("ready turbolinks:load page:load ajax:success",function(){e("time[data-time-ago]").timeago()})}(jQuery),function(){var e,t,n,i,r,s,a,o,c,l,d=[].slice,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},h=function(e,t){function n(){this.constructor=e}for(var i in t)p.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty,f=function(e,t){return function(){return e.apply(t,arguments)}};n={bind:function(e,t){var n,i,r,s,a;for(i=e.split(" "),this.hasOwnProperty("_callbacks")||this._callbacks||(this._callbacks={}),r=0,s=i.length;r<s;r++)a=i[r],(n=this._callbacks)[a]||(n[a]=[]),this._callbacks[a].push(t);return this},one:function(e,t){var n;return this.bind(e,n=function(){return this.unbind(e,n),t.apply(this,arguments)})},trigger:function(){var e,t,n,i,r,s,a;if(e=1<=arguments.length?d.call(arguments,0):[],n=e.shift(),s=null!=(a=this._callbacks)?a[n]:void 0){for(i=0,r=s.length;i<r&&(t=s[i],t.apply(this,e)!==!1);i++);return!0}},listenTo:function(e,t,n){return e.bind(t,n),this.listeningTo||(this.listeningTo=[]),this.listeningTo.push({obj:e,ev:t,callback:n}),this},listenToOnce:function(e,t,n){var i,r;return r=this.listeningToOnce||(this.listeningToOnce=[]),e.bind(t,i=function(){var s,a,o,c,l;for(a=-1,s=o=0,c=r.length;o<c;s=++o)l=r[s],l.obj===e&&l.ev===t&&l.callback===i&&(a=s);return e.unbind(t,i),a!==-1&&r.splice(a,1),n.apply(this,arguments)}),r.push({obj:e,ev:t,callback:i}),this},stopListening:function(t,n,i){var r,s,a,o,c,l,d,h,p,f,m,g,b,v,y,w,_,x;if(0===arguments.length){for(w=[this.listeningTo,this.listeningToOnce],c=0,h=w.length;c<h;c++)if(g=w[c],null!=g?g.length:void 0)for(l=0,p=g.length;l<p;l++)b=g[l],b.obj.unbind(b.ev,b.callback);this.listeningTo=void 0,this.listeningToOnce=void 0}else if(t)for(n=n?n.split(" "):[void 0],_=[this.listeningTo,this.listeningToOnce],d=0,f=_.length;d<f;d++)if(g=_[d])for(v=0,m=n.length;v<m;v++)for(s=n[v],o=y=x=g.length-1;x<=0?y<=0:y>=0;o=x<=0?++y:--y)b=g[o],b.obj===t&&(i&&b.callback!==i||(s&&s!==b.ev?s&&(a=b.ev.split(" "),u.call(a,s)>=0&&(a=function(){var e,t,n;for(n=[],t=0,e=a.length;t<e;t++)r=a[t],r!==s&&n.push(r);return n}(),b.ev=e.trim(a.join(" ")),b.obj.unbind(s,b.callback))):(b.obj.unbind(b.ev,b.callback),o!==-1&&g.splice(o,1))));return this},unbind:function(e,t){var n,i,r,s,a,o,c,l,d,u;if(0===arguments.length)return this._callbacks={},this;if(!e)return this;for(i=e.split(" "),s=0,o=i.length;s<o;s++)if(d=i[s],l=null!=(u=this._callbacks)?u[d]:void 0)if(t){for(r=a=0,c=l.length;a<c;r=++a)if(n=l[r],n===t){l=l.slice(),l.splice(r,1),this._callbacks[d]=l;break}}else delete this._callbacks[d];return this}},n.on=n.bind,n.off=n.unbind,i={trace:!0,logPrefix:"(App)",log:function(){var e;if(e=1<=arguments.length?d.call(arguments,0):[],this.trace)return this.logPrefix&&e.unshift(this.logPrefix),"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,e),this}},l=["included","extended"],s=function(){function e(){"function"==typeof this.init&&this.init.apply(this,arguments)}return e.include=function(e){var t,n,i;if(!e)throw new Error("include(obj) requires obj");for(t in e)i=e[t],u.call(l,t)<0&&(this.prototype[t]=i);return null!=(n=e.included)&&n.apply(this),this},e.extend=function(e){var t,n,i;if(!e)throw new Error("extend(obj) requires obj");for(t in e)i=e[t],u.call(l,t)<0&&(this[t]=i);return null!=(n=e.extended)&&n.apply(this),this},e.proxy=function(e){return function(t){return function(){return e.apply(t,arguments)}}(this)},e.prototype.proxy=function(e){return function(t){return function(){return e.apply(t,arguments)}}(this)},e}(),r=function(t){function i(e){i.__super__.constructor.apply(this,arguments),null!=this.constructor.uuid&&"function"==typeof this.constructor.uuid?(this.cid=this.constructor.uuid(),this.id||(this.id=this.cid)):this.cid=(null!=e?e.cid:void 0)||this.constructor.uid("c-"),e&&this.load(e)}return h(i,t),i.extend(n),i.include(n),i.records=[],i.irecords={},i.attributes=[],i.configure=function(){var e,t;return t=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],this.className=t,this.deleteAll(),e.length&&(this.attributes=e),this.attributes&&(this.attributes=c(this.attributes)),this.attributes||(this.attributes=[]),this.unbind(),this},i.toString=function(){return this.className+"("+this.attributes.join(", ")+")"},i.find=function(e,t){var n;return null==t&&(t=this.notFound),(null!=(n=this.irecords[e])?n.clone():void 0)||("function"==typeof t?t(e):void 0)},i.findAll=function(e,t){var n,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)n=e[i],this.find(n,t)&&s.push(this.find(n));return s},i.notFound=function(){return null},i.exists=function(e){return Boolean(this.irecords[e])},i.addRecord=function(e,t){var n;return(n=this.irecords[e.id||e.cid])?n.refresh(e):(e.id||(e.id=e.cid),this.irecords[e.id]=this.irecords[e.cid]=e,void 0!==t?this.records.splice(t,0,e):this.records.push(e)),e},i.refresh=function(e,t){var n,i,r,s,a;for(null==t&&(t={}),t.clear&&this.deleteAll(),s=this.fromJSON(e),Array.isArray(s)||(s=[s]),n=0,i=s.length;n<i;n++)r=s[n],this.addRecord(r);return this.sort(),a=this.cloneArray(s),this.trigger("refresh",a,t),a},i.select=function(e){var t,n,i,r,s;for(r=this.records,s=[],t=0,n=r.length;t<n;t++)i=r[t],e(i)&&s.push(i.clone());return s},i.findByAttribute=function(e,t){var n,i,r,s;for(s=this.records,n=0,i=s.length;n<i;n++)if(r=s[n],r[e]===t)return r.clone();return null},i.findAllByAttribute=function(e,t){return this.select(function(n){return n[e]===t})},i.each=function(e){var t,n,i,r,s;for(r=this.records,s=[],t=0,n=r.length;t<n;t++)i=r[t],s.push(e(i.clone()));return s},i.all=function(){return this.cloneArray(this.records)},i.slice=function(e,t){return null==e&&(e=0),this.cloneArray(this.records.slice(e,t))},i.first=function(e){var t;return null==e&&(e=1),e>1?this.cloneArray(this.records.slice(0,e)):null!=(t=this.records[0])?t.clone():void 0},i.last=function(e){var t;return"number"==typeof e?this.cloneArray(this.records.slice(-e)):null!=(t=this.records[this.records.length-1])?t.clone():void 0},i.count=function(){return this.records.length},i.deleteAll=function(){return this.records=[],this.irecords={}},i.destroyAll=function(e){var t,n,i,r,s;for(r=this.records,s=[],t=0,n=r.length;t<n;t++)i=r[t],s.push(i.destroy(e));return s},i.update=function(e,t,n){return this.find(e).updateAttributes(t,n)},i.create=function(e,t){var n;return n=new this(e),n.save(t)},i.destroy=function(e,t){return this.find(e).destroy(t)},i.change=function(e){return"function"==typeof e?this.bind("change",e):this.trigger.apply(this,["change"].concat(d.call(arguments)))},i.fetch=function(e){return"function"==typeof e?this.bind("fetch",e):this.trigger.apply(this,["fetch"].concat(d.call(arguments)))},i.toJSON=function(){return this.records},i.beforeFromJSON=function(e){return e},i.fromJSON=function(e){var t,n,i,r;if(e){if("string"==typeof e&&(e=JSON.parse(e)),e=this.beforeFromJSON(e),Array.isArray(e)){for(i=[],t=0,n=e.length;t<n;t++)r=e[t],r instanceof this?i.push(r):i.push(new this(r));return i}return e instanceof this?e:new this(e)}},i.fromForm=function(){var e;return(e=new this).fromForm.apply(e,arguments)},i.sort=function(){return this.comparator&&this.records.sort(this.comparator),this},i.cloneArray=function(e){var t,n,i,r;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],i.push(r.clone());return i},i.idCounter=0,i.uid=function(e){var t;return null==e&&(e=""),t=e+this.idCounter++,this.exists(t)&&(t=this.uid(e)),t},i.prototype.isNew=function(){return!this.exists()},i.prototype.isValid=function(){return!this.validate()},i.prototype.validate=function(){},i.prototype.load=function(e){var t,n;e.id&&(this.id=e.id);for(t in e)if(n=e[t],"function"==typeof this[t]){if("function"==typeof n)continue;this[t](n)}else this[t]=n;return this},i.prototype.attributes=function(){var e,t,n,i,r;for(r={},i=this.constructor.attributes,e=0,n=i.length;e<n;e++)t=i[e],t in this&&("function"==typeof this[t]?r[t]=this[t]():r[t]=this[t]);return this.id&&(r.id=this.id),r},i.prototype.eql=function(e){return e&&e.constructor===this.constructor&&(e.cid===this.cid||e.id&&e.id===this.id)},i.prototype.save=function(e){var t,n;return null==e&&(e={}),e.validate!==!1&&(t=this.validate())?(this.trigger("error",this,t),!1):(this.trigger("beforeSave",this,e),n=this.isNew()?this.create(e):this.update(e),this.stripCloneAttrs(),this.trigger("save",n,e),n)},i.prototype.stripCloneAttrs=function(){var e,t;if(!this.hasOwnProperty("cid")){for(e in this)p.call(this,e)&&(t=this[e],u.call(this.constructor.attributes,e)>=0&&delete this[e]);return this}},i.prototype.updateAttribute=function(e,t,n){var i;return i={},i[e]=t,this.updateAttributes(i,n)},i.prototype.updateAttributes=function(e,t){return this.load(e),this.save(t)},i.prototype.changeID=function(e){var t;if(e!==this.id)return t=this.constructor.irecords,t[e]=t[this.id],this.cid!==this.id&&delete t[this.id],this.id=e,this.save()},i.prototype.remove=function(e){var t,n,i,r,s;for(null==e&&(e={}),s=this.constructor.records.slice(0),t=n=0,i=s.length;n<i;t=++n)if(r=s[t],this.eql(r)){s.splice(t,1);break}if(this.constructor.records=s,e.clear)return delete this.constructor.irecords[this.id],delete this.constructor.irecords[this.cid]},i.prototype.destroy=function(e){return null==e&&(e={}),null==e.clear&&(e.clear=!0),this.trigger("beforeDestroy",this,e),this.remove(e),this.destroyed=!0,this.trigger("destroy",this,e),this.trigger("change",this,"destroy",e),this.listeningTo&&this.stopListening(),this.unbind(),this},i.prototype.dup=function(e){var t,n;return null==e&&(e=!0),t=this.attributes(),e?delete t.id:t.cid=this.cid,n=new this.constructor(t),e||this._callbacks&&(n._callbacks=this._callbacks),n},
i.prototype.clone=function(){return o(this)},i.prototype.reload=function(){var e;return this.isNew()?this:(e=this.constructor.find(this.id),this.load(e.attributes()),e)},i.prototype.refresh=function(e){return e=this.constructor.fromJSON(e),e.id&&this.id!==e.id&&this.changeID(e.id),this.constructor.irecords[this.id].load(e),this.trigger("refresh",this),this.trigger("change",this,"refresh"),this},i.prototype.toJSON=function(){return this.attributes()},i.prototype.toString=function(){return"<"+this.constructor.className+" ("+JSON.stringify(this)+")>"},i.prototype.fromForm=function(t){var n,i,r,s,a,o,c,l,d,u,h,p,f,m;for(m={},h=e(t).find("[type=checkbox]:not([value])"),i=0,o=h.length;i<o;i++)n=h[i],m[n.name]=e(n).prop("checked");for(p=e(t).find('[type=checkbox][name$="[]"]'),r=0,c=p.length;r<c;r++)n=p[r],d=n.name.replace(/\[\]$/,""),m[d]||(m[d]=[]),e(n).prop("checked")&&m[d].push(n.value);for(f=e(t).serializeArray(),a=0,l=f.length;a<l;a++)s=f[a],m[u=s.name]||(m[u]=s.value);return this.load(m)},i.prototype.exists=function(){return this.constructor.exists(this.id)},i.prototype.update=function(e){var t,n;return this.trigger("beforeUpdate",this,e),n=this.constructor.irecords,n[this.id].load(this.attributes()),this.constructor.sort(),t=n[this.id].clone(),t.trigger("update",t,e),t.trigger("change",t,"update",e),t},i.prototype.create=function(e){var t,n;return this.trigger("beforeCreate",this,e),this.id||(this.id=this.cid),n=this.dup(!1),this.constructor.addRecord(n,e.idx),this.constructor.sort(),t=n.clone(),t.trigger("create",t,e),t.trigger("change",t,"create",e),t},i.prototype.bind=function(){var e;return e=this.constructor.irecords[this.id]||this,n.bind.apply(e,arguments)},i.prototype.one=function(){var e;return e=this.constructor.irecords[this.id]||this,n.one.apply(e,arguments)},i.prototype.unbind=function(){var e;return e=this.constructor.irecords[this.id]||this,n.unbind.apply(e,arguments)},i.prototype.trigger=function(){var e;return n.trigger.apply(this,arguments),"refresh"===arguments[0]||(e=this.constructor).trigger.apply(e,arguments)},i}(s),r.prototype.on=r.prototype.bind,r.prototype.off=r.prototype.unbind,t=function(t){function r(t){this.release=f(this.release,this);var n,i,s,a,o;this.options=t,a=this.options;for(i in a)o=a[i],this[i]=o;for(this.el||(this.el=document.createElement(this.tag)),this.el=e(this.el),this.className&&this.el.addClass(this.className),this.attributes&&this.el.attr(this.attributes),this.events||(this.events=this.constructor.events),this.elements||(this.elements=this.constructor.elements),n=this;s=n.constructor.__super__;)s.events&&(this.events=e.extend({},s.events,this.events)),s.elements&&(this.elements=e.extend({},s.elements,this.elements)),n=s;this.events&&this.delegateEvents(this.events),this.elements&&this.refreshElements(),r.__super__.constructor.apply(this,arguments)}return h(r,t),r.include(n),r.include(i),r.prototype.eventSplitter=/^(\S+)\s*(.*)$/,r.prototype.tag="div",r.prototype.release=function(){return this.trigger("release",this),this.el.remove(),this.unbind(),this.stopListening()},r.prototype.$=function(e){return this.el.find(e)},r.prototype.delegateEvents=function(e){var t,n,i,r,s,a;s=[];for(n in e){if(r=e[n],"function"==typeof r)r=function(e){return function(t){return function(){return t.apply(e,arguments),!0}}}(this)(r);else{if(!this[r])throw new Error(r+" doesn't exist");r=function(e){return function(t){return function(){return e[t].apply(e,arguments),!0}}}(this)(r)}i=n.match(this.eventSplitter),t=i[1],a=i[2],""===a?s.push(this.el.bind(t,r)):s.push(this.el.on(t,a,r))}return s},r.prototype.refreshElements=function(){var e,t,n,i;t=this.elements,n=[];for(e in t)i=t[e],n.push(this[i]=this.$(e));return n},r.prototype.delay=function(e,t){return setTimeout(this.proxy(e),t||0)},r.prototype.html=function(e){return this.el.html(e.el||e),this.refreshElements(),this.el},r.prototype.append=function(){var e,t,n;return t=1<=arguments.length?d.call(arguments,0):[],t=function(){var n,i,r;for(r=[],n=0,i=t.length;n<i;n++)e=t[n],r.push(e.el||e);return r}(),(n=this.el).append.apply(n,t),this.refreshElements(),this.el},r.prototype.appendTo=function(e){return this.el.appendTo(e.el||e),this.refreshElements(),this.el},r.prototype.prepend=function(){var e,t,n;return t=1<=arguments.length?d.call(arguments,0):[],t=function(){var n,i,r;for(r=[],n=0,i=t.length;n<i;n++)e=t[n],r.push(e.el||e);return r}(),(n=this.el).prepend.apply(n,t),this.refreshElements(),this.el},r.prototype.replace=function(t){var n,i,r;return t=t.el||t,"string"==typeof t&&(t=e.trim(t)),r=[this.el,e((null!=(i=e.parseHTML(t))?i[0]:void 0)||t)],n=r[0],this.el=r[1],n.replaceWith(this.el),this.delegateEvents(this.events),this.refreshElements(),this.el},r}(s),e=("undefined"!=typeof window&&null!==window?window.jQuery:void 0)||("undefined"!=typeof window&&null!==window?window.Zepto:void 0)||function(e){return e},o=Object.create||function(e){var t;return t=function(){},t.prototype=e,new t},c=function(e){return Array.prototype.slice.call(e,0)},a=this.Spine={},"undefined"!=typeof module&&null!==module&&(module.exports=a),a.version="1.6.0",a.$=e,a.Events=n,a.Log=i,a.Module=s,a.Controller=t,a.Model=r,s.extend.call(a,n),s.create=s.sub=t.create=t.sub=r.sub=function(e,t){var n;return n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t}(this),e&&n.include(e),t&&n.extend(t),"function"==typeof n.unbind&&n.unbind(),n},r.setup=function(e,t){var n;return null==t&&(t=[]),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t}(this),n.configure.apply(n,[e].concat(d.call(t))),n},a.Class=s}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,r=[].slice,s=function(e,t){return function(){return e.apply(t,arguments)}};t=this.Spine||require("spine"),e=t.$,t.Manager=function(e){function i(){this.controllers=[],this.bind("change",this.change),this.add.apply(this,arguments)}return n(i,e),i.include(t.Events),i.prototype.add=function(){var e,t,n,i,s;for(t=1<=arguments.length?r.call(arguments,0):[],s=[],n=0,i=t.length;n<i;n++)e=t[n],s.push(this.addOne(e));return s},i.prototype.addOne=function(e){return e.bind("active",function(t){return function(){var n;return n=1<=arguments.length?r.call(arguments,0):[],t.trigger.apply(t,["change",e].concat(r.call(n)))}}(this)),e.bind("release",function(t){return function(){var n;return t.controllers=function(){var t,i,r,s;for(r=this.controllers,s=[],t=0,i=r.length;t<i;t++)n=r[t],n!==e&&s.push(n);return s}.call(t)}}(this)),this.controllers.push(e)},i.prototype.deactivate=function(){return this.trigger.apply(this,["change",!1].concat(r.call(arguments)))},i.prototype.change=function(){var e,t,n,i,s,a;for(n=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],a=this.controllers,i=0,s=a.length;i<s;i++)t=a[i],t!==n&&t.deactivate.apply(t,e);if(n)return n.activate.apply(n,e)},i}(t.Module),t.Controller.include({active:function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],"function"==typeof e[0]?this.bind("active",e[0]):(e.unshift("active"),this.trigger.apply(this,e)),this},isActive:function(){return this.el.hasClass("active")},activate:function(){return this.el.addClass("active"),this},deactivate:function(){return this.el.removeClass("active"),this}}),t.Stack=function(e){function i(){this.release=s(this.release,this);var e,n,r,a,o,c;i.__super__.constructor.apply(this,arguments),this.manager=new t.Manager,this.router=null!=(r=t.Route)?r.create():void 0,a=this.controllers;for(n in a){if(c=a[n],null!=this[n])throw Error("'@"+n+"' already assigned");this[n]=new c({stack:this}),this.add(this[n])}o=this.routes,e=function(e){return function(t,n){var i;return"function"==typeof n&&(i=n),i||(i=function(){var t;return(t=e[n]).active.apply(t,arguments)}),e.route(t,i)}}(this);for(n in o)c=o[n],e(n,c);this["default"]&&this[this["default"]].active()}return n(i,e),i.prototype.controllers={},i.prototype.routes={},i.prototype.className="spine stack",i.prototype.add=function(e){return this.manager.add(e),this.append(e)},i.prototype.release=function(){var e;return null!=(e=this.router)&&e.destroy(),i.__super__.release.apply(this,arguments)},i}(t.Controller),"undefined"!=typeof module&&null!==module&&(module.exports=t.Manager),"undefined"!=typeof module&&null!==module&&(module.exports.Stack=t.Stack)}.call(this),function(){var e,t,n,i,r,s,a,o,c,l,d,u=[].slice,h=function(e,t){return function(){return e.apply(t,arguments)}},p=function(e,t){function n(){this.constructor=e}for(var i in t)f.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},f={}.hasOwnProperty;d=this.Spine||require("spine"),e=d.$,o=d.Model,c=e({}),t={getURL:function(e){return null!=e.className?this.generateURL(e):this.generateURL(e,encodeURIComponent(e.id))},getCollectionURL:function(e){return this.generateURL(e)},getScope:function(e){return("function"==typeof e.scope?e.scope():void 0)||e.scope},getCollection:function(e){return e.url!==e.generateURL?"function"==typeof e.url?e.url():e.url:null!=e.className?e.className.toLowerCase()+"s":void 0},generateURL:function(){var e,n,i,r,s;return i=arguments[0],e=2<=arguments.length?u.call(arguments,1):[],n=t.getCollection(i)||t.getCollection(i.constructor),s=t.getScope(i)||t.getScope(i.constructor),e.unshift(n),e.unshift(s),r=e.join("/"),r=r.replace(/(\/\/)/g,"/"),r=r.replace(/^\/|\/$/g,""),0!==r.indexOf("../")?o.host+"/"+r:r},enabled:!0,disable:function(e){var t;if(!this.enabled)return e();this.enabled=!1;try{return e()}catch(e){throw t=e}finally{this.enabled=!0}},queue:function(e){return e?c.queue(e):c.queue()},clearQueue:function(){return this.queue([])},config:{loadMethod:"GET",updateMethod:"PUT",createMethod:"POST",destroyMethod:"DELETE"}},n=function(){function n(){}return n.prototype.defaults={dataType:"json",processData:!1,headers:{"X-Requested-With":"XMLHttpRequest"}},n.prototype.queue=t.queue,n.prototype.ajax=function(t,n){return e.ajax(this.ajaxSettings(t,n))},n.prototype.ajaxQueue=function(n,i,r){var s,a,o,l,d,h;return a=null,s=e.Deferred(),l=s.promise(),t.enabled?(h=this.ajaxSettings(n,i),o=void 0!==h.parallel?h.parallel:"GET"===h.type,d=function(n){var i,l,d;if(null!=(null!=r?r.id:void 0)&&(null==h.url&&(h.url=t.getURL(r)),null!=(i=h.data)&&(i.id=r.id)),"string"!=typeof h.data&&h.processData!==!0&&(h.data=JSON.stringify(h.data)),d=function(){return s.resolve.apply(this,u.call(arguments).concat([h]))},l=function(){return s.reject.apply(this,u.call(arguments).concat([h]))},a=e.ajax(h),a.done(d),a.fail(l),a.then(n,n),o)return c.dequeue()},l.abort=function(t){var n;return a?a.abort(t):(n=e.inArray(d,this.queue()),n>-1&&this.queue().splice(n,1),s.rejectWith(h.context||h,[l,t,""]),l)},this.queue(d),l):l},n.prototype.ajaxSettings=function(t,n){return e.extend({},this.defaults,n,t)},n}(),i=function(e){function n(e){this.model=e,this.failResponse=h(this.failResponse,this),this.recordsResponse=h(this.recordsResponse,this)}return p(n,e),n.prototype.find=function(e,n,i){var r;return null==i&&(i={}),r=new this.model({id:e}),this.ajaxQueue(n,{type:i.method||t.config.loadMethod,url:i.url||t.getURL(r),parallel:i.parallel}).done(this.recordsResponse(i)).fail(this.failResponse(i))},n.prototype.all=function(e,n){return null==n&&(n={}),this.ajaxQueue(e,{type:n.method||t.config.loadMethod,url:n.url||t.getURL(this.model),parallel:n.parallel}).done(this.recordsResponse(n)).fail(this.failResponse(n))},n.prototype.fetch=function(e,t){var n;return null==e&&(e={}),null==t&&(t={}),(n=e.id)?(delete e.id,this.find(n,e,t).done(function(e){return function(n){return e.model.refresh(n,t)}}(this))):this.all(e,t).done(function(e){return function(n){return e.model.refresh(n,t)}}(this))},n.prototype.recordsResponse=function(e){return function(t){return function(n,i,r,s){var a;return t.model.trigger("ajaxSuccess",null,i,r,s),null!=(a=e.done)?a.call(t.model,s):void 0}}(this)},n.prototype.failResponse=function(e){return function(t){return function(n,i,r,s){var a;return t.model.trigger("ajaxError",null,n,i,r,s),null!=(a=e.fail)?a.call(t.model,s):void 0}}(this)},n}(n),l=function(e){function n(e){this.record=e,this.failResponse=h(this.failResponse,this),this.recordResponse=h(this.recordResponse,this),this.model=this.record.constructor}return p(n,e),n.prototype.reload=function(e,n){return null==n&&(n={}),this.ajaxQueue(e,{type:n.method||t.config.loadMethod,url:n.url,parallel:n.parallel},this.record).done(this.recordResponse(n)).fail(this.failResponse(n))},n.prototype.create=function(e,n){return null==n&&(n={}),this.ajaxQueue(e,{type:n.method||t.config.createMethod,contentType:"application/json",data:this.record.toJSON(),url:n.url||t.getCollectionURL(this.record),parallel:n.parallel}).done(this.recordResponse(n)).fail(this.failResponse(n))},n.prototype.update=function(e,n){return null==n&&(n={}),this.ajaxQueue(e,{type:n.method||t.config.updateMethod,contentType:"application/json",data:this.record.toJSON(),url:n.url,parallel:n.parallel},this.record).done(this.recordResponse(n)).fail(this.failResponse(n))},n.prototype.destroy=function(e,n){return null==n&&(n={}),this.ajaxQueue(e,{type:n.method||t.config.destroyMethod,url:n.url,parallel:n.parallel},this.record).done(this.recordResponse(n)).fail(this.failResponse(n))},n.prototype.recordResponse=function(e){return function(t){return function(n,i,r,s){var a;return null!=n&&Object.getOwnPropertyNames(n).length&&!t.record.destroyed&&t.record.refresh(n,{ajax:!1}),t.record.trigger("ajaxSuccess",t.record,t.model.fromJSON(n),i,r,s),null!=(a=e.done)?a.call(t.record,s):void 0}}(this)},n.prototype.failResponse=function(e){return function(t){return function(n,i,r,s){var a;switch(s.type){case"POST":t.createFailed();break;case"DELETE":t.destroyFailed()}return t.record.trigger("ajaxError",t.record,n,i,r,s),null!=(a=e.fail)?a.call(t.record,s):void 0}}(this)},n.prototype.createFailed=function(){return this.record.remove({clear:!0})},n.prototype.destroyFailed=function(){return this.record.destroyed=!1,this.record.constructor.refresh(this.record)},n}(n),o.host="",s={include:function(){var e;return e=1<=arguments.length?u.call(arguments,0):[],e.unshift(encodeURIComponent(this.id)),t.generateURL.apply(t,[this].concat(u.call(e)))},extend:function(){var e;return e=1<=arguments.length?u.call(arguments,0):[],t.generateURL.apply(t,[this].concat(u.call(e)))}},a={ajax:function(){return new l(this)},generateURL:s.include,url:s.include},r={ajax:function(){return new i(this)},generateURL:s.extend,url:s.extend},o.Ajax={extended:function(){return this.fetch(this.ajaxFetch),this.change(this.ajaxChange),this.extend(r),this.include(a)},ajaxFetch:function(){var e;return(e=this.ajax()).fetch.apply(e,arguments)},ajaxChange:function(e,t,n){var i;if(null==n&&(n={}),n.ajax!==!1)return"function"==typeof(i=e.ajax())[t]?i[t](n.ajax,n):void 0}},o.Ajax.Methods={extended:function(){return this.extend(r),this.include(a)}},t.defaults=n.prototype.defaults,t.Base=n,t.Singleton=l,t.Collection=i,d.Ajax=t,"undefined"!=typeof module&&null!==module&&(module.exports=t)}.call(this),function(){var e;window.MB={},window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,MB.locale=window.MBLocale,MB.v={},MB.l={},MB.f={},MB.config={showRuler:!0,showGeneral:!0},MB.maxTimestamp=1,MB.checkFA=function(e){var t,n;for(t=n=12;n>=1;t=--n)$("#fontawesome .ah").css("font-size",t+"px"),$("#fontawesome .ah").css("line-height","100%"),$("#fontawesome .ah").text("a").height()===t&&(MB.config.minFS=t);return 0!==$("#fontawesome i").width()?e():setTimeout(function(){return MB.checkFA(e)},10)},MB.ga=function(){if(window.ga)return window.ga.apply(window,arguments)},MB.mp=function(e){if(window.mixpanel)return window.mixpanel.track(e)},MB.mpIdentify=function(){if(window.mixpanel&&MB.user.id)return mixpanel.identify(MB.user.id),mixpanel.people.set({$name:MB.user.name,$email:MB.user.email,$plan:MB.user.plan,$trial:MB.user.trial,$expired:MB.user.expired,$next_billing_on:MB.user.next_billing_on?new Date(MB.user.next_billing_on):null,$value:MB.user.value,$email_validated:MB.user.email_validated,$referrer:MB.user.referrer,$mobile:MB.user.mobile,$projects_count:Project.count(),$created_at:new Date(MB.user.created_at),$login_times:MB.user.login_times,$role:MB.user.role})},MB.trackOrder=function(e){return MB.ga("ec:setAction","purchase",{id:e.id,affiliation:e.affiliation,revenue:e.revenue}),MB.ga("send","event","goal","paid"),MB.mp("\u4ed8\u8d39\u6210\u529f")},MB.isMac=function(){return/(Mac)/.test(navigator.userAgent)},MB.isWindows=function(){return/(Windows)/.test(navigator.userAgent)},MB.isElectron=function(){return/Electron/i.test(navigator.userAgent)},MB.isPhantom=function(){return/Phantom/i.test(navigator.userAgent)},MB.isWechat=function(){return/MicroMessenger/i.test(navigator.userAgent)},MB.isEmbedded=function(){return $("body").hasClass("embed")},MB.isLocal=function(){return!!window.MBData},MB.isChrome=function(){return/Chrome/i.test(navigator.userAgent)},MB.isFirefox=function(){return/Firefox/i.test(navigator.userAgent)},MB.isMobile=function(){return/(iPod|iPhone|iPad|Android)/.test(navigator.userAgent)},MB.isAndroid=function(){return/Android/i.test(navigator.userAgent)},MB.isiPad=function(){return/(iPad)/.test(navigator.userAgent)},MB.isIOS=function(){return/(iPod|iPhone|iPad)/.test(navigator.userAgent)},MB.isIOS9=function(){return MB.isIOS()&&window.navigator.standalone&&/(9_0|9_1)/.test(navigator.userAgent)&&($(window).height()>$(window).width()||MB.isiPad())},MB.validDevice=function(e){return $(window).width()===e.width&&$(window).height()===e.height},MB.pointInRect=function(e,t,n){return e>n.left&&e<n.left+n.width&&t>n.top&&t<n.top+n.height},MB.setProject=function(e){return MB.currentProject=e,$("body").data("scale",e.scale),$("#design").removeClass("project template combo").addClass(e.type()),$("title").html(I18N.site_title+" - "+e.name),e.setup()},MB.project=function(){return MB.currentProject},MB.staticMap=function(){var e;return e=/modao.cc/.test(MBServer)?"zh-CN":"en","/images/workspace/staticmap_"+MB.locale+".png"},MB.viewOnly=function(e){return e.isCollaborated()&&e.expired},MB.promptRenew=function(e,t){var n;if(e.expired)return n="renew_modal",MB.mp("\u63d0\u793a\u4ed8\u8d39"),MB.mp("\u7eed\u8d39\u539f\u56e0\uff1a"+t),MB.ga("send","event","goal","\u5f39\u51fa\u4e86\u7eed\u8d39\u63d0\u793a"),$("#"+n+" p.limit").hide(),$("#"+n+" p."+t).show(),$("#"+n).modal(),!0},MB.exceedWidgetLimit=function(){if(Widget.count()>5e4||Widgetstate.serverCount()>2e4)return MB.renderWarningModal({message:I18N.exceed_screen_limit}),!0},MB.scale=function(){return $("body").data("scale")},MB.preference=function(){return Preference.first()},MB.readDataURL=function(e,t){var n,i;if(e)return i=/^image\/(png|jpg|jpeg|gif|svg|tiff|svg\+xml)$/i,i.test(e.type)?e.size>1024e3?void $("#file_too_large").modal():(n=new FileReader,n.onload=function(e){var n,i;return n=e.target.result,i=new Image,i.onload=function(){return t(n,i.width,i.height)},i.src=n},n.readAsDataURL(e)):void alert(I18N.unsupported)},MB.supportedBrowser=function(){return/(Webkit|Firefox|Coding_iOS)/i.test(navigator.userAgent)},MB.nextgid=function(e){return e?e.substr(0,21)+"-"+Math.uuid(21,16):null},MB.triggerProgress=function(e){var t,n;return $("body").trigger("queue:save"),n=MB.workspace.autoSaver.queue.length,t=setInterval(function(){var n;if(n=MB.workspace.autoSaver.queue.length,0===n&&(clearInterval(t),"function"==typeof e))return e()},1e3)},MB.checkDupProgress=function(e,t){return setTimeout(function(){return function(){var n,i;return i="/sidekiq/critical/job/"+e+".json",n=$.getJSON(i,function(n){return"complete"===n.result?"function"==typeof t?t():window.location.reload():MB.checkDupProgress(e,t)})}}(this),2e3)},MB.unescape=function(e){var t;return t={"&amp;":"&","&lt;":"<","&gt;":">"},e.replace(/(&amp;|&lt;|&gt;)/g,function(e){return t[e]})},MB.hex=function(e){return("0"+parseInt(e).toString(16)).slice(-2)},MB.rgb2hex=function(e){return e&&"rgba(0, 0, 0, 0)"!==e&&"transparent"!==e?(e=e.match(/^rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/),"#"+this.hex(e[1])+this.hex(e[2])+this.hex(e[3])):"transparent"},MB.hex2rgb=function(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e}},MB.activePanel=function(){return MB.toolboxes&&MB.toolboxes.state.activePanelState&&$("#screens .panel.selected").length},MB.canvasLeft=function(){var e,t;return e=$("#screens"),t=$("#screen").position().left+e.position().left,MB.activePanel()&&(t+=$(".panel.selected").position().left),t-MB.currentScreen.w()/2-e[0].scrollLeft},MB.canvasTop=function(){var e;return e=116-$("#screens")[0].scrollTop,MB.activePanel()&&(e+=$(".panel.selected").position().top),e},MB.canvasWidth=function(){return $("#canvas").width()},MB.canvasHeight=function(){return $("#canvas").height()},MB.scrollbarWidth=function(){var e;return this._scrollbarWidth?this._scrollbarWidth:(e=document.createElement("div"),e.className="scrollbar-measure",document.body.appendChild(e),this._scrollbarWidth=e.offsetWidth-e.clientWidth,document.body.removeChild(e),this._scrollbarWidth)},MB.trigger=function(e,t){return $("body").trigger(e,t)},MB.timing=function(e,t){var n,i;return i=new Date,t(),n=new Date,console.log(e+": "+(n-i))},MB.penetrateSelect=function(e,t){var n,i,r,s,a,o,c;for(a=MB.currentScreen,o=e.clientX-MB.canvasLeft(),c=e.clientY-MB.canvasTop(),i=a.citems().sort(function(e,t){return t.z-e.z||t.timestamp-e.timestamp}),r=0,s=i.length;r<s;r++)if(n=i[r],n.cid!==t&&o>n.l()&&o<n.r()&&c>n.t()&&c<n.b())return $("body").trigger("selection:clear"),$("body").trigger("selection:select",[[n]]),!0;return!1},MB.shouldDisplay=function(e){return e?null:"none"},MB.lastTimestamp=function(){return MB.maxTimestamp+1},MB.safeAlert=function(e){return $("#safe-modal").find("#alert-msg").html(e),$("#safe-modal").modal({backdrop:"static"})},MB.safeLoading=function(e){return $("#safemode .text").html(e),$("#safemode .progress").text(""),$("#safemode").show()},MB.globalStateAlert=function(){return!(!MB.currentScreen.cscreenstates().length||$("#ssliglobal").hasClass("active"))&&($("#global-state-warning").modal({backdrop:"static"}),!0)},MB.clearPasteBoard=function(){return $("#clipboard").focus().select(),document.execCommand("copy"),setTimeout(function(){return $("#clipboard").blur()},100)},MB.reportPerformance=function(e){var t;if(window.performance&&window.performance.memory&&(t=window.performance.memory,t.usedJSHeapSize>2e8))return MB.ga("send","event","performance","used:"+t.usedJSHeapSize/1e6+",total:"+t.totalJSHeapSize/1e6+",limit:"+t.jsHeapSizeLimit/1e6+"("+MB.user.id+")("+e+")")},MB.supportsPassive=!1,MB.f.inSharing=/^\/app/.test(window.location.pathname);try{e=Object.defineProperty({},"passive",{get:function(){return MB.supportsPassive=!0}}),window.addEventListener("test",null,e)}catch(e){}}.call(this),function(){var e,t,n;MB.COMPONENTS={basic:{name:I18N.basic,group:!0},label:{id:"label",text:I18N.w.label,tb_text:I18N.w.label,width:33,height:45,fs:16,br:0,bs:0,ha:"center",va:"middle",z:5,lh:1.45},text_view:{id:"text_view",text:I18N.w.text_view_placeholder,tb_text:I18N.w.text_view,width:200,height:65,fs:13,br:0,bs:0,ha:"left",va:"top",z:5,lh:1.45},icon_button:{id:"icon_button",text:"",icon:"star",tb_icon:"star",width:45,height:45,br:0,bs:0,is:24,z:5,tooltip:I18N.icon_tooltip},image_view:{id:"image_view",text:"",width:200,height:120,tb_icon:"picture-o",br:0,bs:0,z:5},button:{id:"button",text:I18N.w.button,tb_text:I18N.w.button,width:80,height:30,fs:14,br:8,bs:1,ha:"center",va:"middle",z:5,icon:"",is:14,padding:8},mtooltip:{id:"mtooltip",text:I18N.w.mtooltip,tb_text:I18N.w.mtooltip,width:220,height:40,fs:14,br:5,ha:"left",va:"top",z:5,lh:1.45,bg:"#8DFA69",bc:"#5FE163",bs:1,padding:10},webpage:{id:"webpage",text:"about:blank",tb_text:I18N.w.webpage,width:"100%",height:400,z:5,ha:"center"},functional:{name:I18N.functional_widgets,group:!0},pg:{id:"pg",tb_icon:"tap",icon:"tap",width:52,height:52,br:0,bs:0,z:7,tooltip:I18N.pg_tooltip,zoomable:" "},lr:{id:"lr",tb_text:I18N.w.lr,width:45,height:45,br:0,bs:0,z:7,tooltip:I18N.lr_tooltip},sticky:{id:"sticky",tb_text:I18N.w.sticky,tooltip:I18N.sticky_tooltip,width:200,height:180,padding:8,fs:14,lh:1.45,z:10},shapes:{name:I18N.shapes,group:!0},rounded_rect:{id:"rounded_rect",text:"",width:200,height:100,br:0,bs:1,fs:14,ha:"center",va:"middle",lh:1.45,z:5},circle_rect:{id:"circle_rect",text:"",width:100,height:100,br:100,bs:1,fs:14,ha:"center",va:"middle",lh:1.45,z:5},hr:{id:"hr",text:"",width:150,height:10,z:5,zoomable:"w,e,n"},ve:{id:"ve",text:"",width:10,height:150,z:5,zoomable:"n,s,w"},triangleb:{id:"triangleb",text:"",width:40,height:30,z:5},triangletl:{id:"triangletl",text:"",width:40,height:40,z:5},minputs:{name:I18N.minputs,group:!0},mtext_input:{id:"mtext_input",text:I18N.w.mtext_input,tb_text:I18N.w.mtext_input,width:200,height:30,fs:14,br:8,bs:1,ha:"left",va:"middle",z:5,padding:8},mtextarea:{id:"mtextarea",text:I18N.w.mtextarea,tb_text:I18N.w.mtextarea,width:280,height:100,fs:14,lh:1.45,br:8,bs:1,ha:"left",z:5,padding:8},mcheckbox2:{id:"mcheckbox2",tb_icon:"check",width:30,height:30,z:5,checked:!1},mradiobutton:{id:"mradiobutton",tb_icon:"dot-circle-o",width:30,height:30,z:5,checked:!1},mfile_input:{id:"mfile_input",tb_text:I18N.w.mfile_input,width:200,height:30,z:5,padding:8},mselect:{id:"mselect",text:"1\n2\n3",tb_text:I18N.w.mselect,width:200,height:30,fs:14,bs:1,z:5,lh:1.45,padding:8},"switch":{id:"switch",text:"",width:50,height:30,br:0,bs:0,z:5,zoomable:" ",checked:!0},bars:{name:I18N.bars,group:!0},navigation_bar:{id:"navigation_bar",text:I18N.w.navbar_title,tb_text:I18N.w.navigation_bar,width:"100%",height:45,fs:18,z:4,zoomable:"s",ha:"center"},search_bar:{id:"search_bar",text:I18N.w.search,tb_text:I18N.w.search,width:"100%",height:45,tb_icon:"search",fs:14,ha:"left",z:5,zoomable:"w,e"},tab_bar:{id:"tab_bar",text:"",tb_text:I18N.w.tab_bar,width:"100%",height:45,z:4,zoomable:"n"},tab_item:{id:"tab_item",text:I18N.w.tab_item,tb_text:I18N.w.tab_item,tb_icon:"home",icon:"home",width:80,height:45,fs:12,is:24,z:5,ha:"center",zoomable:"w,e"},rectangle:{id:"rectangle",text:"",width:"100%",height:100,z:5,zoomable:"n,s"},others:{name:I18N.others,group:!0},map_view:{id:"map_view",text:"",width:"100%",height:230,z:4},keyboard:{id:"keyboard",text:I18N["return"],width:"100%",tb_icon:"keyboard-o",z:3,zoomable:" ",numeric:!1},status_bar:{id:"status_bar",text:I18N.carrier,tb_text:I18N.carrier,width:"100%",height:20,tb_icon:"signal",z:3,zoomable:" "}},MB.FAICONS={adjust:{type:["basics"],names:"adjust",name:"adjust"},anchor:{type:["basics"],names:"anchor,\u951a",name:"anchor"},archive:{type:["basics"],names:"archive,\u5f52\u6863",name:"archive"},"area-chart":{type:["basics"],names:"area-chart,\u56fe\u8868",name:"area-chart"},arrows:{type:["basics","directional"],names:"arrows",name:"arrows"},"arrows-h":{type:["basics","directional"],names:"arrows-h",name:"arrows-h"},"arrows-v":{type:["basics","directional"],names:"arrows-v",name:"arrows-v"},asterisk:{type:["basics"],names:"asterisk,\u661f\u53f7",name:"asterisk"},at:{type:["basics"],names:"at",name:"at"},ban:{type:["basics"],names:"ban,\u7981\u6b62",name:"ban"},"bar-chart":{type:["basics"],names:"bar-chart,\u6761\u5f62\u56fe,\u56fe\u8868",name:"bar-chart"},barcode:{type:["basics"],names:"barcode,\u6761\u5f62\u7801",name:"barcode"},reorder:{type:["basics"],names:"reorder,bars,navicon,\u6392\u5e8f",name:"reorder"},beer:{type:["basics"],names:"beer,\u5564\u9152",name:"beer"},bell:{type:["basics"],names:"bell,\u94c3\u94db",name:"bell"},"bell-o":{type:["basics"],names:"bell-o,\u94c3\u94db",name:"bell-o"},"bell-slash":{type:["basics"],names:"bell-slash,\u94c3\u94db",name:"bell-slash"},"bell-slash-o":{type:["basics"],names:"bell-slash-o,\u94c3\u94db",name:"bell-slash-o"},bicycle:{type:["basics"],names:"bicycle,\u81ea\u884c\u8f66",name:"bicycle"},binoculars:{type:["basics"],names:"binoculars",name:"binoculars"},"birthday-cake":{type:["basics"],names:"birthday-cake,\u751f\u65e5\u86cb\u7cd5",name:"birthday-cake"},flash:{type:["basics"],names:"flash,bolt,\u95ea\u7535",name:"flash"},bomb:{type:["basics"],names:"bomb,\u70b8\u5f39",name:"bomb"},book:{type:["basics"],names:"book,\u4e66",name:"book"},bookmark:{type:["basics"],names:"bookmark,\u4e66\u7b7e",name:"bookmark"},"bookmark-o":{type:["basics"],names:"bookmark-o,\u4e66\u7b7e",name:"bookmark-o"},briefcase:{type:["basics"],names:"briefcase",name:"briefcase"},bug:{type:["basics"],names:"bug,\u866b\u5b50",name:"bug"},building:{type:["basics"],names:"building,\u5efa\u7b51",name:"building"},"building-o":{type:["basics"],names:"building-o,\u5efa\u7b51",name:"building-o"},bullhorn:{type:["basics"],names:"bullhorn,\u653e\u5927\u5668,\u6269\u97f3\u5668,\u8bdd\u7b52",name:"bullhorn"},bullseye:{type:["basics"],names:"bullseye,\u9776\u5b50,\u9776\u5fc3",name:"bullseye"},bus:{type:["basics"],names:"bus,\u516c\u5171\u6c7d\u8f66,\u516c\u8f66",name:"bus"},calculator:{type:["basics"],names:"calculator,\u8ba1\u7b97\u5668",name:"calculator"},calendar:{type:["basics"],names:"calendar,\u65e5\u5386",name:"calendar"},"calendar-o":{type:["basics"],names:"calendar-o,\u65e5\u5386",name:"calendar-o"},"calendar-check-o":{type:["basics"],names:"calendar-check-o,\u65e5\u5386",name:"calendar-check-o"},"calendar-minus-o":{type:["basics"],names:"calendar-minus-o,\u65e5\u5386",name:"calendar-minus-o"},"calendar-plus-o":{type:["basics"],names:"calendar-plus-o,\u65e5\u5386",name:"calendar-plus-o"},"calendar-times-o":{type:["basics"],names:"calendar-times-o,\u65e5\u5386",name:"calendar-times-o"},camera:{type:["basics"],names:"camera,\u955c\u5934,\u7167\u76f8\u673a",name:"camera"},"camera-retro":{type:["basics"],names:"camera-retro,\u955c\u5934,\u7167\u76f8\u673a",name:"camera-retro"},car:{type:["basics"],names:"car,automobile,\u6c7d\u8f66",name:"car"},"caret-square-o-down":{type:["basics"],names:"caret-square-o-down,\u4e09\u89d2",name:"caret-square-o-down"},"caret-square-o-left":{type:["basics"],names:"caret-square-o-left,\u4e09\u89d2",name:"caret-square-o-left"},"caret-square-o-right":{type:["basics"],names:"caret-square-o-right,\u4e09\u89d2",name:"caret-square-o-right"},"caret-square-o-up":{type:["basics"],names:"caret-square-o-up,\u4e09\u89d2",name:"caret-square-o-up"},cc:{type:["basics"],names:"cc,\u6284\u9001",name:"cc"},certificate:{type:["basics"],names:"certificate",name:"certificate"},check:{type:["basics"],names:"check,\u5bf9\u53f7",name:"check"},"check-circle":{type:["basics"],names:"check-circle,\u5bf9\u53f7",name:"check-circle"},"check-circle-o":{type:["basics"],names:"check-circle-o,\u5bf9\u53f7",name:"check-circle-o"},"check-square":{type:["basics","form"],names:"check-square,\u5bf9\u53f7",name:"check-square"},"check-square-o":{type:["basics","form"],names:"check-square-o,\u5bf9\u53f7",name:"check-square-o"},child:{type:["basics"],names:"child,\u5c0f\u5b69,\u5b69\u5b50",name:"child"},circle:{type:["basics","form"],names:"circle,\u5706\u5708",name:"circle"},"circle-o":{type:["basics","form"],names:"circle-o,\u5706\u5708",name:"circle-o"},"circle-o-notch":{type:["basics"],names:"circle-o-notch,\u5706\u5708",name:"circle-o-notch"},"circle-thin":{type:["basics"],names:"circle-thin,\u5706\u5708",name:"circle-thin"},"clock-o":{type:["basics"],names:"clock-o,\u65f6\u949f,\u95f9\u949f",name:"clock-o"},cloud:{type:["basics"],names:"cloud,\u4e91",name:"cloud"},"cloud-download":{type:["basics"],names:"cloud-download,\u4e91,\u4e0b\u8f7d",name:"cloud-download"},"cloud-upload":{type:["basics"],names:"cloud-upload,\u4e91,\u4e0a\u4f20",name:"cloud-upload"},code:{type:["basics"],names:"code,\u4ee3\u7801",name:"code"},"code-fork":{type:["basics"],names:"code-fork,\u4ee3\u7801",name:"code-fork"},coffee:{type:["basics"],names:"coffee,\u5496\u5561",name:"coffee"},gear:{type:["basics"],names:"gear,cog,setting,\u8bbe\u7f6e,\u9f7f\u8f6e",name:"gear"},gears:{type:["basics"],names:"gears,cogs,settings,\u8bbe\u7f6e,\u9f7f\u8f6e",name:"gears"},comment:{type:["basics"],names:"comment,\u8bc4\u8bba",name:"comment"},"comment-o":{type:["basics"],names:"comment-o,\u8bc4\u8bba",name:"comment-o"},comments:{type:["basics"],names:"comments,\u8bc4\u8bba",name:"comments"},"comments-o":{type:["basics"],names:"comments-o,\u8bc4\u8bba",name:"comments-o"},commenting:{type:["basics"],names:"commenting,\u8bc4\u8bba",name:"commenting"},"commenting-o":{type:["basics"],names:"commenting-o,\u8bc4\u8bba",name:"commenting-o"},"creative-commons":{type:["basics"],names:"creative-commons",name:"creative-commons"},hashtag:{type:["basics"],names:"hashtag,\u8bdd\u9898",name:"hashtag"},percent:{
type:["basics"],names:"percent,\u767e\u5206\u53f7",name:"percent"},"sticky-note":{type:["basics"],names:"sticky-note,\u4fbf\u7b3a,\u4fbf\u7b7e",name:"sticky-note"},"sticky-note-o":{type:["basics"],names:"sticky-note-o,\u4fbf\u7b3a,\u4fbf\u7b7e",name:"sticky-note-o"},registered:{type:["basics"],names:"registered,\u6ce8\u518c,\u5546\u6807",name:"registered"},trademark:{type:["basics"],names:"trademark,tm,\u5546\u6807",name:"trademark"},compass:{type:["basics"],names:"compass,\u6307\u5357\u9488",name:"compass"},copyright:{type:["basics"],names:"copyright,\u7248\u6743",name:"copyright"},"credit-card":{type:["basics"],names:"credit-card,\u4fe1\u7528\u5361,\u94f6\u884c\u5361",name:"credit-card"},"credit-card-alt":{type:["basics"],names:"credit-card-alt,\u4fe1\u7528\u5361,\u94f6\u884c\u5361",name:"credit-card-alt"},crop:{type:["basics"],names:"crop,\u88c1\u526a",name:"crop"},crosshairs:{type:["basics"],names:"crosshairs",name:"crosshairs"},cube:{type:["basics"],names:"cube,\u7acb\u65b9\u4f53,\u65b9\u5757",name:"cube"},cubes:{type:["basics"],names:"cubes,\u7acb\u65b9\u4f53,\u65b9\u5757",name:"cubes"},cutlery:{type:["basics"],names:"cutlery,\u9910\u5177,\u5200\u53c9",name:"cutlery"},database:{type:["basics"],names:"database,\u6570\u636e\u5e93",name:"database"},server:{type:["basics"],names:"server,\u670d\u52a1\u5668",name:"server"},desktop:{type:["basics"],names:"desktop,\u684c\u9762",name:"desktop"},television:{type:["basics"],names:"television,tv,\u7535\u89c6",name:"television"},"dot-circle-o":{type:["basics","form"],names:"dot-circle-o,\u5706\u5708",name:"dot-circle-o"},download:{type:["basics"],names:"download,\u4e0b\u8f7d",name:"download"},"ellipsis-h":{type:["basics"],names:"ellipsis-h,\u7701\u7565\u53f7",name:"ellipsis-h"},"ellipsis-v":{type:["basics"],names:"ellipsis-v,\u7701\u7565\u53f7",name:"ellipsis-v"},envelope:{type:["basics"],names:"envelope,\u4fe1\u5c01,\u90ae\u4ef6",name:"envelope"},"envelope-o":{type:["basics"],names:"envelope-o,\u4fe1\u5c01,\u90ae\u4ef6",name:"envelope-o"},"envelope-square":{type:["basics"],names:"envelope-square,\u4fe1\u5c01,\u90ae\u4ef6",name:"envelope-square"},eraser:{type:["basics","text"],names:"eraser,\u6a61\u76ae\u64e6",name:"eraser"},exchange:{type:["basics"],names:"exchange,\u4ea4\u6362",name:"exchange"},exclamation:{type:["basics"],names:"exclamation,\u611f\u53f9\u53f7",name:"exclamation"},"exclamation-circle":{type:["basics"],names:"exclamation-circle,\u611f\u53f9\u53f7",name:"exclamation-circle"},warning:{type:["basics"],names:"warning,exclamation-triangle,\u611f\u53f9\u53f7,\u8b66\u544a",name:"warning"},"external-link":{type:["basics"],names:"external-link,\u94fe\u63a5",name:"external-link"},"external-link-square":{type:["basics"],names:"external-link-square,\u94fe\u63a5",name:"external-link-square"},eye:{type:["basics"],names:"eye,\u9884\u89c8,\u773c\u775b",name:"eye"},"eye-slash":{type:["basics"],names:"eye-slash,\u9884\u89c8,\u773c\u775b",name:"eye-slash"},eyedropper:{type:["basics"],names:"eyedropper,\u62fe\u8272\u5668",name:"eyedropper"},fax:{type:["basics"],names:"fax,\u4f20\u771f",name:"fax"},female:{type:["basics"],names:"female,\u5973\u6027,\u5973\u5b50",name:"female"},mars:{type:["basics"],names:"mars,\u7537\u6027,\u7537\u5b50",name:"mars"},"mars-double":{type:["basics"],names:"mars-double,\u7537\u6027,\u7537\u5b50",name:"mars-double"},"mars-stroke":{type:["basics"],names:"mars-stroke,\u7537\u6027,\u7537\u5b50",name:"mars-stroke"},"mars-stroke-h":{type:["basics"],names:"mars-stroke-h,\u7537\u6027,\u7537\u5b50",name:"mars-stroke-h"},"mars-stroke-v":{type:["basics"],names:"mars-stroke-v,\u7537\u6027,\u7537\u5b50",name:"mars-stroke-v"},mercury:{type:["basics"],names:"mercury",name:"mercury"},venus:{type:["basics"],names:"venus,\u5973\u6027,\u5973\u5b50",name:"venus"},"venus-double":{type:["basics"],names:"venus-double",name:"venus-double"},"venus-mars":{type:["basics"],names:"venus-mars,\u4e24\u6027",name:"venus-mars"},transgender:{type:["basics"],names:"transgender",name:"transgender"},"transgender-alt":{type:["basics"],names:"transgender-alt",name:"transgender-alt"},genderless:{type:["basics"],names:"genderless",name:"genderless"},neuter:{type:["basics"],names:"neuter,\u4e2d\u6027",name:"neuter"},"fighter-jet":{type:["basics"],names:"fighter-jet,\u98de\u673a",name:"fighter-jet"},film:{type:["basics"],names:"film,\u7535\u5f71,\u80f6\u7247",name:"film"},filter:{type:["basics"],names:"filter,\u8fc7\u6ee4",name:"filter"},fire:{type:["basics"],names:"fire,\u706b",name:"fire"},"fire-extinguisher":{type:["basics"],names:"fire-extinguisher,\u706d\u706b\u5668",name:"fire-extinguisher"},flag:{type:["basics"],names:"flag,\u65d7\u5e1c,\u65d7\u5b50",name:"flag"},"flag-checkered":{type:["basics"],names:"flag-checkered,\u65d7\u5e1c,\u65d7\u5b50",name:"flag-checkered"},"flag-o":{type:["basics"],names:"flag-o,\u65d7\u5e1c,\u65d7\u5b50",name:"flag-o"},flask:{type:["basics"],names:"flask,\u70e7\u74f6,\u70e7\u676f",name:"flask"},folder:{type:["basics"],names:"folder,\u6587\u4ef6\u5939",name:"folder"},"folder-o":{type:["basics"],names:"folder-o,\u6587\u4ef6\u5939",name:"folder-o"},"folder-open":{type:["basics"],names:"folder-open,\u6587\u4ef6\u5939",name:"folder-open"},"folder-open-o":{type:["basics"],names:"folder-open-o,\u6587\u4ef6\u5939",name:"folder-open-o"},"frown-o":{type:["basics"],names:"frown-o,\u76b1\u7709,\u96be\u8fc7,\u8868\u60c5",name:"frown-o"},"futbol-o":{type:["basics"],names:"futbol-o",name:"futbol-o"},gamepad:{type:["basics"],names:"gamepad",name:"gamepad"},gavel:{type:["basics"],names:"gavel,legal",name:"gavel"},gift:{type:["basics"],names:"gift,\u793c\u7269",name:"gift"},glass:{type:["basics"],names:"glass,\u73bb\u7483\u676f,\u676f\u5b50",name:"glass"},globe:{type:["basics"],names:"globe,\u5730\u7403",name:"globe"},"graduation-cap":{type:["basics"],names:"graduation-cap",name:"graduation-cap"},"hdd-o":{type:["basics"],names:"hdd-o,\u786c\u76d8",name:"hdd-o"},headphones:{type:["basics"],names:"headphones,\u8033\u673a",name:"headphones"},heart:{type:["basics"],names:"heart,\u5fc3,\u559c\u6b22",name:"heart"},heartbeat:{type:["basics"],names:"heartbeat,\u5fc3\u8df3",name:"heartbeat"},"heart-o":{type:["basics"],names:"heart-o,\u5fc3,\u559c\u6b22",name:"heart-o"},history:{type:["basics"],names:"history,\u5386\u53f2",name:"history"},home:{type:["basics"],names:"home,\u5bb6,\u623f\u5b50",name:"home"},inbox:{type:["basics"],names:"inbox,\u6536\u4ef6\u7bb1",name:"inbox"},info:{type:["basics"],names:"info,\u63d0\u793a",name:"info"},"info-circle":{type:["basics"],names:"info-circle,\u63d0\u793a",name:"info-circle"},key:{type:["basics"],names:"key,\u94a5\u5319",name:"key"},"keyboard-o":{type:["basics"],names:"keyboard-o,\u952e\u76d8",name:"keyboard-o"},language:{type:["basics"],names:"language,\u8bed\u8a00",name:"language"},laptop:{type:["basics"],names:"laptop,\u7b14\u8bb0\u672c",name:"laptop"},leaf:{type:["basics"],names:"leaf,\u6811\u53f6",name:"leaf"},"lemon-o":{type:["basics"],names:"lemon-o,\u67e0\u6aac",name:"lemon-o"},"level-down":{type:["basics"],names:"level-down,\u5411\u4e0b",name:"level-down"},"level-up":{type:["basics"],names:"level-up,\u5411\u4e0a",name:"level-up"},"life-ring":{type:["basics"],names:"life-ring,life-saver,support,\u6551\u751f\u5708,\u652f\u6301",name:"life-ring"},"lightbulb-o":{type:["basics"],names:"lightbulb-o,\u706f\u6ce1",name:"lightbulb-o"},"line-chart":{type:["basics"],names:"line-chart,\u7ebf\u6761\u56fe,\u56fe\u8868",name:"line-chart"},"location-arrow":{type:["basics"],names:"location-arrow,\u4f4d\u7f6e,\u5bfc\u822a",name:"location-arrow"},lock:{type:["basics"],names:"lock,\u9501",name:"lock"},magic:{type:["basics"],names:"magic,\u9b54\u6cd5",name:"magic"},magnet:{type:["basics"],names:"magnet,\u78c1\u94c1",name:"magnet"},male:{type:["basics"],names:"male,\u7537\u6027,\u7537\u5b50",name:"male"},map:{type:["basics"],names:"map,\u5730\u56fe",name:"map"},"map-o":{type:["basics"],names:"map-o,\u5730\u56fe",name:"map-o"},"map-pin":{type:["basics"],names:"map-pin,\u5730\u56fe",name:"map-pin"},"map-signs":{type:["basics"],names:"map-signs,\u5730\u56fe",name:"map-signs"},"map-marker":{type:["basics"],names:"map-marker,\u5730\u56fe",name:"map-marker"},"street-view":{type:["basics"],names:"street-view,\u8857\u666f,\u5730\u56fe",name:"street-view"},industry:{type:["basics"],names:"industry,\u5de5\u4e1a,\u5de5\u5382",name:"industry"},"meh-o":{type:["basics"],names:"meh-o",name:"meh-o"},microphone:{type:["basics"],names:"microphone,\u9ea6\u514b\u98ce,\u8bdd\u7b52",name:"microphone"},"microphone-slash":{type:["basics"],names:"microphone-slash,\u9ea6\u514b\u98ce,\u8bdd\u7b52",name:"microphone-slash"},minus:{type:["basics"],names:"minus,\u51cf\u53f7,\u6a2a\u7ebf",name:"minus"},"minus-circle":{type:["basics"],names:"minus-circle,\u51cf\u53f7,\u6a2a\u7ebf",name:"minus-circle"},"minus-square":{type:["basics","form"],names:"minus-square,\u51cf\u53f7",name:"minus-square"},"minus-square-o":{type:["basics","form"],names:"minus-square-o,\u51cf\u53f7",name:"minus-square-o"},mobile:{type:["basics"],names:"mobile,mobile-phone,\u624b\u673a",name:"mobile"},money:{type:["basics"],names:"money,\u94b1,\u949e\u7968",name:"money"},"moon-o":{type:["basics"],names:"moon-o,\u6708\u4eae",name:"moon-o"},music:{type:["basics"],names:"music,\u97f3\u4e50",name:"music"},"newspaper-o":{type:["basics"],names:"newspaper-o,\u62a5\u7eb8",name:"newspaper-o"},"paint-brush":{type:["basics"],names:"paint-brush,\u753b\u7b14",name:"paint-brush"},send:{type:["basics"],names:"send,paper-plane,\u53d1\u9001,\u7eb8\u98de\u673a",name:"send"},"send-o":{type:["basics"],names:"send-o,paper-plane-o,\u53d1\u9001,\u7eb8\u98de\u673a",name:"send-o"},paw:{type:["basics"],names:"paw,\u624b\u638c,\u718a\u638c",name:"paw"},pencil:{type:["basics"],names:"pencil,\u94c5\u7b14",name:"pencil"},"pencil-square":{type:["basics"],names:"pencil-square,\u94c5\u7b14",name:"pencil-square"},edit:{type:["basics"],names:"edit,pencil-square-o,\u7f16\u8f91,\u94c5\u7b14",name:"edit"},phone:{type:["basics"],names:"phone,\u7535\u8bdd",name:"phone"},"phone-square":{type:["basics"],names:"phone-square,\u7535\u8bdd",name:"phone-square"},image:{type:["basics"],names:"image,photo,picture-o,\u56fe\u7247",name:"image"},"pie-chart":{type:["basics"],names:"pie-chart,\u997c\u72b6\u56fe,\u56fe\u8868",name:"pie-chart"},plane:{type:["basics"],names:"plane,\u98de\u673a",name:"plane"},plug:{type:["basics"],names:"plug,\u63d2\u5934",name:"plug"},plus:{type:["basics"],names:"plus,\u52a0",name:"plus"},"plus-circle":{type:["basics"],names:"plus-circle,\u52a0",name:"plus-circle"},"plus-square":{type:["basics","form"],names:"plus-square,\u52a0\u53f7",name:"plus-square"},"plus-square-o":{type:["basics","form"],names:"plus-square-o,\u52a0\u53f7",name:"plus-square-o"},"power-off":{type:["basics"],names:"power-off,\u5173\u673a",name:"power-off"},print:{type:["basics"],names:"print,\u6253\u5370",name:"print"},"puzzle-piece":{type:["basics"],names:"puzzle-piece",name:"puzzle-piece"},qrcode:{type:["basics"],names:"qrcode,\u4e8c\u7ef4\u7801",name:"qrcode"},question:{type:["basics"],names:"question,\u95ee\u53f7,\u95ee\u9898",name:"question"},"question-circle":{type:["basics"],names:"question-circle,\u95ee\u53f7,\u95ee\u9898",name:"question-circle"},"quote-left":{type:["basics"],names:"quote-left,\u5f15\u53f7",name:"quote-left"},"quote-right":{type:["basics"],names:"quote-right,\u5f15\u53f7",name:"quote-right"},random:{type:["basics"],names:"random,\u968f\u673a",name:"random"},recycle:{type:["basics"],names:"recycle,\u56de\u6536,\u5faa\u73af",name:"recycle"},refresh:{type:["basics"],names:"refresh,\u5237\u65b0",name:"refresh"},reply:{type:["basics"],names:"reply,\u56de\u590d",name:"reply"},"reply-all":{type:["basics"],names:"reply-all,\u56de\u590d\u6240\u6709",name:"reply-all"},retweet:{type:["basics"],names:"retweet,\u8f6c\u63a8,\u8f6c\u53d1",name:"retweet"},road:{type:["basics"],names:"road,\u8def",name:"road"},rocket:{type:["basics"],names:"rocket,\u706b\u7bad",name:"rocket"},rss:{type:["basics"],names:"rss",name:"rss"},"rss-square":{type:["basics"],names:"rss-square",name:"rss-square"},search:{type:["basics"],names:"search,\u641c\u7d22",name:"search"},"search-minus":{type:["basics"],names:"search-minus,\u641c\u7d22",name:"search-minus"},"search-plus":{type:["basics"],names:"search-plus,\u641c\u7d22",name:"search-plus"},share:{type:["basics"],names:"share,\u5206\u4eab",name:"share"},"share-alt":{type:["basics","brand"],names:"share-alt,\u5206\u4eab",name:"share-alt"},"share-alt-square":{type:["basics","brand"],names:"share-alt-square,\u5206\u4eab",name:"share-alt-square"},"share-square":{type:["basics"],names:"share-square,\u5206\u4eab",name:"share-square"},"share-square-o":{type:["basics"],names:"share-square-o,\u5206\u4eab",name:"share-square-o"},shield:{type:["basics"],names:"shield,\u76fe\u724c",name:"shield"},"shopping-cart":{type:["basics"],names:"shopping-cart,\u8d2d\u7269\u8f66,\u8d2d\u7269",name:"shopping-cart"},"shopping-bag":{type:["basics"],names:"shopping-bag,\u8d2d\u7269\u888b,\u8d2d\u7269",name:"shopping-bag"},"shopping-basket":{type:["basics"],names:"shopping-basket,\u8d2d\u7269\u7bee,\u8d2d\u7269",name:"shopping-basket"},"cart-arrow-down":{type:["basics"],names:"cart-arrow-down,\u8d2d\u7269\u8f66,\u8d2d\u7269",name:"cart-arrow-down"},"cart-plus":{type:["basics"],names:"cart-plus,\u8d2d\u7269\u8f66,\u8d2d\u7269",name:"cart-plus"},"sign-in":{type:["basics"],names:"sign-in,\u767b\u5f55",name:"sign-in"},"sign-out":{type:["basics"],names:"sign-out,\u6ce8\u9500",name:"sign-out"},signal:{type:["basics"],names:"signal,\u4fe1\u53f7",name:"signal"},sitemap:{type:["basics"],names:"sitemap",name:"sitemap"},sliders:{type:["basics"],names:"sliders",name:"sliders"},"smile-o":{type:["basics"],names:"smile-o,\u5fae\u7b11,\u5f00\u5fc3,\u8868\u60c5",name:"smile-o"},sort:{type:["basics"],names:"sort,\u6392\u5e8f,\u6392\u5217",name:"sort"},"sort-alpha-asc":{type:["basics"],names:"sort-alpha-asc,\u6392\u5e8f,\u6392\u5217",name:"sort-alpha-asc"},"sort-alpha-desc":{type:["basics"],names:"sort-alpha-desc,\u6392\u5e8f,\u6392\u5217",name:"sort-alpha-desc"},"sort-amount-asc":{type:["basics"],names:"sort-amount-asc,\u6392\u5e8f,\u6392\u5217",name:"sort-amount-asc"},"sort-amount-desc":{type:["basics"],names:"sort-amount-desc,\u6392\u5e8f,\u6392\u5217",name:"sort-amount-desc"},"sort-asc":{type:["basics"],names:"sort-asc,\u6392\u5e8f,\u6392\u5217",name:"sort-asc"},"sort-desc":{type:["basics"],names:"sort-desc,\u6392\u5e8f,\u6392\u5217",name:"sort-desc"},"sort-numeric-asc":{type:["basics"],names:"sort-numeric-asc,\u6392\u5e8f,\u6392\u5217",name:"sort-numeric-asc"},"sort-numeric-desc":{type:["basics"],names:"sort-numeric-desc,\u6392\u5e8f,\u6392\u5217",name:"sort-numeric-desc"},"space-shuttle":{type:["basics"],names:"space-shuttle",name:"space-shuttle"},spinner:{type:["basics"],names:"spinner,\u52a0\u8f7d",name:"spinner"},spoon:{type:["basics"],names:"spoon,\u52fa\u5b50",name:"spoon"},square:{type:["basics","form"],names:"square,\u65b9\u5757",name:"square"},"square-o":{type:["basics","form"],names:"square-o,\u65b9\u5757",name:"square-o"},star:{type:["basics"],names:"star,\u4e94\u89d2\u661f",name:"star"},"star-half":{type:["basics"],names:"star-half,\u4e94\u89d2\u661f",name:"star-half"},"star-half-o":{type:["basics"],names:"star-half-o,\u4e94\u89d2\u661f",name:"star-half-o"},"star-o":{type:["basics"],names:"star-o,\u4e94\u89d2\u661f",name:"star-o"},suitcase:{type:["basics"],names:"suitcase,\u624b\u63d0\u7bb1",name:"suitcase"},"sun-o":{type:["basics"],names:"sun-o,\u592a\u9633",name:"sun-o"},tablet:{type:["basics"],names:"tablet,\u5e73\u677f,iPad",name:"tablet"},dashboard:{type:["basics"],names:"dashboard,tachometer,\u4eea\u8868\u76d8",name:"dashboard"},diamond:{type:["basics"],names:"diamond,\u94bb\u77f3,\u5b9d\u77f3,\u73e0\u5b9d",name:"diamond"},tag:{type:["basics"],names:"tag,\u6807\u7b7e",name:"tag"},tags:{type:["basics"],names:"tags,\u6807\u7b7e",name:"tags"},tasks:{type:["basics"],names:"tasks,\u4efb\u52a1",name:"tasks"},taxi:{type:["basics"],names:"taxi,cab,\u51fa\u79df",name:"taxi"},terminal:{type:["basics"],names:"terminal,\u7ec8\u7aef",name:"terminal"},"thumb-tack":{type:["basics"],names:"thumb-tack,\u5927\u62c7\u6307",name:"thumb-tack"},"thumbs-down":{type:["basics"],names:"thumbs-down,\u5927\u62c7\u6307",name:"thumbs-down"},"thumbs-o-down":{type:["basics"],names:"thumbs-o-down,\u5927\u62c7\u6307",name:"thumbs-o-down"},"thumbs-o-up":{type:["basics"],names:"thumbs-o-up,\u5927\u62c7\u6307",name:"thumbs-o-up"},"thumbs-up":{type:["basics"],names:"thumbs-up,\u5927\u62c7\u6307,\u8d5e",name:"thumbs-up"},ticket:{type:["basics"],names:"ticket,\u7968",name:"ticket"},close:{type:["basics"],names:"close,remove,times,\u5173\u95ed,\u5220\u9664,\u4e58",name:"close"},"times-circle":{type:["basics"],names:"times-circle,\u5173\u95ed,\u5220\u9664,\u4e58",name:"times-circle"},"times-circle-o":{type:["basics"],names:"times-circle-o,\u5173\u95ed,\u5220\u9664,\u4e58",name:"times-circle-o"},tint:{type:["basics"],names:"tint",name:"tint"},"toggle-off":{type:["basics"],names:"toggle-off,\u5f00\u5173",name:"toggle-off"},"toggle-on":{type:["basics"],names:"toggle-on,\u5f00\u5173",name:"toggle-on"},trash:{type:["basics"],names:"trash,\u5783\u573e\u6876,\u56de\u6536\u7ad9,\u5220\u9664",name:"trash"},"trash-o":{type:["basics"],names:"trash-o,\u5783\u573e\u6876,\u56de\u6536\u7ad9,\u5220\u9664",name:"trash-o"},tree:{type:["basics"],names:"tree,\u6811",name:"tree"},trophy:{type:["basics"],names:"trophy,\u5956\u54c1",name:"trophy"},truck:{type:["basics"],names:"truck,\u5361\u8f66",name:"truck"},motorcycle:{type:["basics"],names:"motorcycle,\u6469\u6258\u8f66,\u673a\u8f66",name:"motorcycle"},ship:{type:["basics"],names:"ship,\u8f6e\u8239",name:"ship"},train:{type:["basics"],names:"train,\u706b\u8f66",name:"train"},subway:{type:["basics"],names:"subway,\u5730\u94c1,\u8f7b\u8f68,\u6377\u8fd0",name:"subway"},tty:{type:["basics"],names:"tty",name:"tty"},umbrella:{type:["basics"],names:"umbrella,\u96e8\u4f1e",name:"umbrella"},university:{type:["basics"],names:"university,bank,\u5927\u5b66,\u94f6\u884c",name:"university"},unlock:{type:["basics"],names:"unlock,\u89e3\u9501",name:"unlock"},"unlock-alt":{type:["basics"],names:"unlock-alt,\u89e3\u9501",name:"unlock-alt"},upload:{type:["basics"],names:"upload,\u4e0a\u4f20",name:"upload"},user:{type:["basics"],names:"user,\u7528\u6237,\u4eba",name:"user"},"user-plus":{type:["basics"],names:"user-plus,\u7528\u6237,\u4eba",name:"user-plus"},"user-secret":{type:["basics"],names:"user-secret,\u7528\u6237,\u4eba",name:"user-secret"},"user-times":{type:["basics"],names:"user-times,\u7528\u6237,\u4eba",name:"user-times"},users:{type:["basics"],names:"users,group,\u7528\u6237,\u8ba8\u8bba\u7ec4,\u4eba",name:"users"},"video-camera":{type:["basics"],names:"video-camera,\u89c6\u9891,\u6444\u50cf\u673a",name:"video-camera"},"volume-down":{type:["basics"],names:"volume-down,\u97f3\u91cf",name:"volume-down"},"volume-off":{type:["basics"],names:"volume-off,\u97f3\u91cf",name:"volume-off"},"volume-up":{type:["basics"],names:"volume-up,\u97f3\u91cf",name:"volume-up"},wheelchair:{type:["basics"],names:"wheelchair,\u8f6e\u6905",name:"wheelchair"},"object-group":{type:["basics"],names:"object-group",name:"object-group"},"object-ungroup":{type:["basics"],names:"object-ungroup",name:"object-ungroup"},wifi:{type:["basics"],names:"wifi,\u65e0\u7ebf",name:"wifi"},usb:{type:["basics"],names:"usb",name:"usb"},bluetooth:{type:["basics"],names:"bluetooth,\u84dd\u7259",name:"bluetooth"},"bluetooth-b":{type:["basics"],names:"bluetooth-b,\u84dd\u7259",name:"bluetooth-b"},wrench:{type:["basics"],names:"wrench,\u6273\u624b",name:"wrench"},cny:{type:["basics"],names:"cny,rmb,yen,jpy,\u4eba\u6c11\u5e01,\u65e5\u5143",name:"cny"},dollar:{type:["basics"],names:"dollar,usd,\u7f8e\u5143",name:"dollar"},euro:{type:["basics"],names:"euro,eur,\u6b27\u5143",name:"euro"},gbp:{type:["basics"],names:"gbp,\u82f1\u9551",name:"gbp"},ils:{type:["basics"],names:"ils,shekel,sheqel",name:"ils"},inr:{type:["basics"],names:"inr",name:"inr"},krw:{type:["basics"],names:"krw,won",name:"krw"},"try":{type:["basics"],names:"try,turkish-lira",name:"try"},rouble:{type:["basics"],names:"rouble,\u5362\u5e03",name:"rouble"},bed:{type:["basics"],names:"bed,hotel,\u5e8a,\u65c5\u9986",name:"bed"},"balance-scale":{type:["basics"],names:"balance-scale,\u5929\u5e73",name:"balance-scale"},"battery-empty":{type:["basics"],names:"battery-empty,battery-0,\u7535\u6c60,\u7535\u91cf",name:"battery-empty"},"battery-quarter":{type:["basics"],names:"battery-quarter,battery-1,\u7535\u6c60,\u7535\u91cf",name:"battery-quarter"},"battery-half":{type:["basics"],names:"battery-half,battery-2,\u7535\u6c60,\u7535\u91cf",name:"battery-half"},"battery-three-quarters":{type:["basics"],names:"battery-three-quarters,battery-3,\u7535\u6c60,\u7535\u91cf",name:"battery-three-quarters"},"battery-full":{type:["basics"],names:"battery-full,battery-4,\u7535\u6c60,\u7535\u91cf",name:"battery-full"},"black-tie":{type:["basics"],names:"black-tie,\u9886\u7ed3,\u9886\u5e26",name:"black-tie"},clone:{type:["basics"],names:"clone,\u514b\u9686",name:"clone"},hourglass:{type:["basics"],names:"hourglass,\u6c99\u6f0f",name:"hourglass"},"hourglass-o":{type:["basics"],names:"hourglass-o,\u6c99\u6f0f",name:"hourglass-o"},"hourglass-1":{type:["basics"],names:"hourglass-1,hourglass-start,\u6c99\u6f0f",name:"hourglass-1"},"hourglass-2":{type:["basics"],names:"hourglass-2,hourglass-half,\u6c99\u6f0f",name:"hourglass-2"},"hourglass-3":{type:["basics"],names:"hourglass-3,hourglass-end,\u6c99\u6f0f",name:"hourglass-3"},"align-center":{type:["text"],names:"align-center,\u5bf9\u9f50",name:"align-center"},"align-justify":{type:["text"],names:"align-justify,\u5bf9\u9f50",name:"align-justify"},"align-left":{type:["text"],names:"align-left,\u5bf9\u9f50",name:"align-left"},"align-right":{type:["text"],names:"align-right,\u5bf9\u9f50",name:"align-right"},bold:{type:["text"],names:"bold,\u7c97\u4f53",name:"bold"},unlink:{type:["text"],names:"unlink,chain-broken,\u5220\u9664\u94fe\u63a5",name:"unlink"},paste:{type:["text"],names:"paste,clipboard,\u7c98\u8d34",name:"paste"},columns:{type:["text"],names:"columns,\u5217",name:"columns"},copy:{type:["text"],names:"copy,\u590d\u5236",name:"copy"},"floppy-o":{type:["text"],names:"floppy-o,\u8f6f\u76d8,\u4fdd\u5b58",name:"floppy-o"},font:{type:["text"],names:"font,\u5b57\u4f53",name:"font"},header:{type:["text"],names:"header,\u6807\u9898",name:"header"},indent:{type:["text"],names:"indent,\u7f29\u8fdb",name:"indent"},italic:{type:["text"],names:"italic,\u659c\u4f53",name:"italic"},link:{type:["text"],names:"link,\u94fe\u63a5",name:"link"},list:{type:["text"],names:"list,\u5217\u8868",name:"list"},"list-alt":{type:["text"],names:"list-alt,\u5217\u8868",name:"list-alt"},"list-ol":{type:["text"],names:"list-ol,\u5217\u8868",name:"list-ol"},"list-ul":{type:["text"],names:"list-ul,\u5217\u8868",name:"list-ul"},dedent:{type:["text"],names:"dedent,outdent,\u7f29\u8fdb",name:"dedent"},paperclip:{type:["text"],names:"paperclip,\u56de\u5f62\u9488,\u9644\u4ef6",name:"paperclip"},paragraph:{type:["text"],names:"paragraph,\u6bb5\u843d",name:"paragraph"},"rotate-right":{type:["text"],names:"rotate-right,repeat,\u53f3\u65cb\u8f6c,\u91cd\u505a",name:"rotate-right"},cut:{type:["text"],names:"cut,scissors,\u526a\u5207,\u526a\u5200",name:"cut"},strikethrough:{type:["text"],names:"strikethrough,\u5220\u9664\u7ebf",name:"strikethrough"},subscript:{type:["text"],names:"subscript,\u4e0b\u6807,\u811a\u6ce8",name:"subscript"},superscript:{type:["text"],names:"superscript,\u4e0a\u6807",name:"superscript"},save:{type:["text"],names:"save,floppy,\u4fdd\u5b58,\u8f6f\u76d8",name:"save"},table:{type:["text"],names:"table,\u8868\u683c",name:"table"},"text-height":{type:["text"],names:"text-height,\u6587\u5b57\u9ad8\u5ea6",name:"text-height"},"text-width":{type:["text"],names:"text-width,\u6587\u5b57\u5bbd\u5ea6",name:"text-width"},th:{type:["text"],names:"th,\u5217\u8868",name:"th"},"th-large":{type:["text"],names:"th-large,\u5217\u8868",name:"th-large"},"th-list":{type:["text"],names:"th-list,\u5217\u8868",name:"th-list"},underline:{type:["text"],names:"underline,\u4e0b\u5212\u7ebf",name:"underline"},"rotate-left":{type:["text"],names:"rotate-left,undo,\u5de6\u65cb\u8f6c,\u64a4\u9500",name:"rotate-left"},"i-cursor":{type:["text"],names:"i-cursor,\u5149\u6807",name:"i-cursor"},"mouse-pointer":{type:["text"],names:"mouse-pointer,cursor,\u9f20\u6807,\u6307\u9488",name:"mouse-pointer"},"angle-double-down":{type:["directional"],names:"angle-double-down",name:"angle-double-down"},"angle-double-left":{type:["directional"],names:"angle-double-left",name:"angle-double-left"},"angle-double-right":{type:["directional"],names:"angle-double-right",name:"angle-double-right"},"angle-double-up":{type:["directional"],names:"angle-double-up",name:"angle-double-up"},"angle-down":{type:["directional"],names:"angle-down",name:"angle-down"},"angle-left":{type:["directional"],names:"angle-left",name:"angle-left"},"angle-right":{type:["directional"],names:"angle-right",name:"angle-right"},"angle-up":{type:["directional"],names:"angle-up",name:"angle-up"},"arrow-circle-down":{type:["directional"],names:"arrow-circle-down",name:"arrow-circle-down"},"arrow-circle-left":{type:["directional"],names:"arrow-circle-left",name:"arrow-circle-left"},"arrow-circle-o-down":{type:["directional"],names:"arrow-circle-o-down",name:"arrow-circle-o-down"},"arrow-circle-o-left":{type:["directional"],names:"arrow-circle-o-left",name:"arrow-circle-o-left"},"arrow-circle-o-right":{type:["directional"],names:"arrow-circle-o-right",name:"arrow-circle-o-right"},"arrow-circle-o-up":{type:["directional"],names:"arrow-circle-o-up",name:"arrow-circle-o-up"},"arrow-circle-right":{type:["directional"],names:"arrow-circle-right",name:"arrow-circle-right"},"arrow-circle-up":{type:["directional"],names:"arrow-circle-up",name:"arrow-circle-up"},"arrow-down":{type:["directional"],names:"arrow-down",name:"arrow-down"},"arrow-left":{type:["directional"],names:"arrow-left",name:"arrow-left"},"arrow-right":{type:["directional"],names:"arrow-right",name:"arrow-right"},"arrow-up":{type:["directional"],names:"arrow-up",name:"arrow-up"},"arrows-alt":{type:["directional","video"],names:"arrows-alt,\u653e\u5927,\u5168\u5c4f",name:"arrows-alt"},"caret-down":{type:["directional"],names:"caret-down",name:"caret-down"},"caret-left":{type:["directional"],names:"caret-left",name:"caret-left"},"caret-right":{type:["directional"],names:"caret-right",name:"caret-right"},"toggle-down":{type:["directional"],names:"toggle-down,caret-square-o-down",name:"toggle-down"},"toggle-left":{type:["directional"],names:"toggle-left,caret-square-o-left",name:"toggle-left"},"toggle-right":{type:["directional"],names:"toggle-right,caret-square-o-right",name:"toggle-right"},"toggle-up":{type:["directional"],names:"toggle-up,caret-square-o-up",name:"toggle-up"},"caret-up":{type:["directional"],names:"caret-up",name:"caret-up"},"chevron-circle-down":{type:["directional"],names:"chevron-circle-down",name:"chevron-circle-down"},"chevron-circle-left":{type:["directional"],names:"chevron-circle-left",name:"chevron-circle-left"},"chevron-circle-right":{type:["directional"],names:"chevron-circle-right",name:"chevron-circle-right"},"chevron-circle-up":{type:["directional"],names:"chevron-circle-up",name:"chevron-circle-up"},"chevron-down":{type:["directional"],names:"chevron-down",name:"chevron-down"},"chevron-left":{type:["directional"],names:"chevron-left",name:"chevron-left"},"chevron-right":{type:["directional"],names:"chevron-right",name:"chevron-right"},"chevron-up":{type:["directional"],names:"chevron-up",name:"chevron-up"},"hand-o-down":{type:["directional"],names:"hand-o-down,\u624b",name:"hand-o-down"},"hand-o-left":{type:["directional"],names:"hand-o-left,\u624b",name:"hand-o-left"},"hand-o-right":{type:["directional"],names:"hand-o-right,\u624b",name:"hand-o-right"},"hand-o-up":{type:["directional"],names:"hand-o-up,\u624b",name:"hand-o-up"},"hand-grab-o":{type:["directional"],names:"hand-grab-o,hand-rock,\u624b",name:"hand-grab-o"},"hand-lizard-o":{type:["directional"],names:"hand-lizard-o,\u624b",name:"hand-lizard-o"},"hand-paper-o":{type:["directional"],names:"hand-paper-o,hand-stop-o,\u624b",name:"hand-paper-o"},"hand-peace-o":{type:["directional"],names:"hand-peace-o,\u624b",name:"hand-peace-o"},"hand-pointer-o":{type:["directional"],names:"hand-pointer-o,\u624b",name:"hand-pointer-o"},"hand-spock-o":{type:["directional"],names:"hand-spock-o,\u624b",name:"hand-spock-o"},"hand-scissors-o":{type:["directional"],names:"hand-scissors-o,\u624b",name:"hand-scissors-o"},"long-arrow-down":{type:["directional"],names:"long-arrow-down",name:"long-arrow-down"},"long-arrow-left":{type:["directional"],names:"long-arrow-left",name:"long-arrow-left"},"long-arrow-right":{type:["directional"],names:"long-arrow-right",name:"long-arrow-right"},"long-arrow-up":{type:["directional"],names:"long-arrow-up",name:"long-arrow-up"},adn:{type:["brand"],names:"adn",name:"adn"},android:{type:["brand"],names:"android,\u5b89\u5353",name:"android"},angellist:{type:["brand"],names:"angellist",name:"angellist"},apple:{type:["brand"],names:"apple,\u82f9\u679c",name:"apple"},behance:{type:["brand"],names:"behance",name:"behance"},"behance-square":{type:["brand"],names:"behance-square",name:"behance-square"},bitbucket:{type:["brand"],names:"bitbucket",name:"bitbucket"},"bitbucket-square":{type:["brand"],names:"bitbucket-square",name:"bitbucket-square"},bitcoin:{type:["brand"],names:"bitcoin,btc",name:"bitcoin"},"cc-amex":{type:["brand"],names:"cc-amex",name:"cc-amex"},"cc-discover":{type:["brand"],names:"cc-discover",name:"cc-discover"},"cc-mastercard":{type:["brand"],names:"cc-mastercard",name:"cc-mastercard"},"cc-paypal":{type:["brand"],names:"cc-paypal",name:"cc-paypal"},"cc-stripe":{type:["brand"],names:"cc-stripe",name:"cc-stripe"},"cc-visa":{type:["brand"],names:"cc-visa",name:"cc-visa"},"cc-diners-club":{type:["brand"],names:"cc-diners-club",name:"cc-diners-club"},"cc-jcb":{type:["brand"],names:"cc-jcb",name:"cc-jcb"},codepen:{type:["brand"],names:"codepen",name:"codepen"},css3:{type:["brand"],names:"css3",name:"css3"},delicious:{type:["brand"],names:"delicious",name:"delicious"},deviantart:{type:["brand"],names:"deviantart",name:"deviantart"},digg:{type:["brand"],names:"digg",name:"digg"},dribbble:{type:["brand"],names:"dribbble",name:"dribbble"},dropbox:{type:["brand"],names:"dropbox",name:"dropbox"},drupal:{type:["brand"],names:"drupal",name:"drupal"},facebook:{type:["brand"],names:"facebook",name:"facebook"},"facebook-square":{type:["brand"],names:"facebook-square",name:"facebook-square"},"facebook-official":{type:["brand"],names:"facebook-official",name:"facebook-official"},viacoin:{type:["brand"],names:"viacoin",name:"viacoin"},whatsapp:{type:["brand"],names:"whatsapp",name:"whatsapp"},"500px":{type:["brand"],names:"500px",name:"500px"},amazon:{type:["brand"],names:"amazon",name:"amazon"},forumbee:{type:["brand"],names:"forumbee",name:"forumbee"},connectdevelop:{type:["brand"],names:"connectdevelop",name:"connectdevelop"},leanpub:{type:["brand"],names:"leanpub",name:"leanpub"},flickr:{type:["brand"],names:"flickr",name:"flickr"},foursquare:{type:["brand"],names:"foursquare",name:"foursquare"},git:{type:["brand"],names:"git",name:"git"},"git-square":{type:["brand"],names:"git-square",name:"git-square"},github:{type:["brand"],names:"github",name:"github"},"github-alt":{type:["brand"],names:"github-alt",name:"github-alt"},"github-square":{type:["brand"],names:"github-square",name:"github-square"},medium:{type:["brand"],names:"medium",name:"medium"},gittip:{type:["brand"],names:"gittip",name:"gittip"},google:{type:["brand"],names:"google",name:"google"},dashcube:{type:["brand"],names:"dashcube",name:"dashcube"},mixcloud:{type:["brand"],names:"mixcloud",name:"mixcloud"},modx:{type:["brand"],names:"modx",name:"modx"},codiepie:{type:["brand"],names:"codiepie",name:"codiepie"},tripadvisor:{type:["brand"],names:"tripadvisor",name:"tripadvisor"},vimeo:{type:["brand"],names:"vimeo",name:"vimeo"},"wikipedia-w":{type:["brand"],names:"wikipedia-w",name:"wikipedia-w"},"product-hunt":{type:["brand"],names:"product-hunt",name:"product-hunt"},"reddit-alien":{type:["brand"],names:"reddit-alien",name:"reddit-alien"},scribd:{type:["brand"],names:"scribd",name:"scribd"},"y-combinator":{type:["brand"],names:"y-combinator,yc,hacker-news",name:"y-combinator"},"google-plus":{type:["brand"],names:"google-plus",name:"google-plus"},"google-plus-square":{type:["brand"],names:"google-plus-square",name:"google-plus-square"},"google-wallet":{type:["brand"],names:"google-wallet",name:"google-wallet"},chrome:{type:["brand"],names:"chrome",name:"chrome"
},firefox:{type:["brand"],names:"firefox",name:"firefox"},opera:{type:["brand"],names:"opera",name:"opera"},safari:{type:["brand"],names:"safari",name:"safari"},"internet-explorer":{type:["brand"],names:"internet-explorer,ie",name:"internet-explorer"},edge:{type:["brand"],names:"edge",name:"edge"},"font-awesome":{type:["brand"],names:"font-awesome",name:"font-awesome"},houzz:{type:["brand"],names:"houzz",name:"houzz"},"get-pocket":{type:["brand"],names:"get-pocket",name:"get-pocket"},gg:{type:["brand"],names:"gg",name:"gg"},"gg-circle":{type:["brand"],names:"gg-circle",name:"gg-circle"},"optin-monster":{type:["brand"],names:"optin-monster",name:"optin-monster"},contao:{type:["brand"],names:"contao",name:"contao"},"hacker-news":{type:["brand"],names:"hacker-news",name:"hacker-news"},html5:{type:["brand"],names:"html5",name:"html5"},instagram:{type:["brand"],names:"instagram",name:"instagram"},ioxhost:{type:["brand"],names:"ioxhost",name:"ioxhost"},joomla:{type:["brand"],names:"joomla",name:"joomla"},jsfiddle:{type:["brand"],names:"jsfiddle",name:"jsfiddle"},lastfm:{type:["brand"],names:"lastfm",name:"lastfm"},"lastfm-square":{type:["brand"],names:"lastfm-square",name:"lastfm-square"},linkedin:{type:["brand"],names:"linkedin",name:"linkedin"},"linkedin-square":{type:["brand"],names:"linkedin-square",name:"linkedin-square"},linux:{type:["brand"],names:"linux",name:"linux"},maxcdn:{type:["brand"],names:"maxcdn",name:"maxcdn"},meanpath:{type:["brand"],names:"meanpath",name:"meanpath"},openid:{type:["brand"],names:"openid",name:"openid"},pagelines:{type:["brand"],names:"pagelines",name:"pagelines"},paypal:{type:["brand"],names:"paypal",name:"paypal"},"pied-piper":{type:["brand"],names:"pied-piper",name:"pied-piper"},"pied-piper-alt":{type:["brand"],names:"pied-piper-alt",name:"pied-piper-alt"},pinterest:{type:["brand"],names:"pinterest",name:"pinterest"},"pinterest-p":{type:["brand"],names:"pinterest-p",name:"pinterest-p"},sellsy:{type:["brand"],names:"sellsy",name:"sellsy"},buysellads:{type:["brand"],names:"buysellads",name:"buysellads"},shirtsinbulk:{type:["brand"],names:"shirtsinbulk",name:"shirtsinbulk"},simplybuilt:{type:["brand"],names:"simplybuilt",name:"simplybuilt"},skyaltas:{type:["brand"],names:"skyaltas",name:"skyaltas"},"pinterest-square":{type:["brand"],names:"pinterest-square",name:"pinterest-square"},qq:{type:["brand"],names:"qq,\u817e\u8baf",name:"qq"},ra:{type:["brand"],names:"ra,rebel",name:"ra"},reddit:{type:["brand"],names:"reddit",name:"reddit"},"reddit-square":{type:["brand"],names:"reddit-square",name:"reddit-square"},renren:{type:["brand"],names:"renren,\u4eba\u4eba",name:"renren"},skype:{type:["brand"],names:"skype",name:"skype"},slack:{type:["brand"],names:"slack",name:"slack"},slideshare:{type:["brand"],names:"slideshare",name:"slideshare"},soundcloud:{type:["brand"],names:"soundcloud",name:"soundcloud"},spotify:{type:["brand"],names:"spotify",name:"spotify"},"stack-exchange":{type:["brand"],names:"stack-exchange",name:"stack-exchange"},"stack-overflow":{type:["brand"],names:"stack-overflow",name:"stack-overflow"},steam:{type:["brand"],names:"steam",name:"steam"},"steam-square":{type:["brand"],names:"steam-square",name:"steam-square"},stumbleupon:{type:["brand"],names:"stumbleupon",name:"stumbleupon"},"stumbleupon-circle":{type:["brand"],names:"stumbleupon-circle",name:"stumbleupon-circle"},"tencent-weibo":{type:["brand"],names:"tencent-weibo,\u817e\u8baf\u5fae\u535a",name:"tencent-weibo"},trello:{type:["brand"],names:"trello",name:"trello"},tumblr:{type:["brand"],names:"tumblr",name:"tumblr"},"tumblr-square":{type:["brand"],names:"tumblr-square",name:"tumblr-square"},twitch:{type:["brand"],names:"twitch",name:"twitch"},twitter:{type:["brand"],names:"twitter",name:"twitter"},"twitter-square":{type:["brand"],names:"twitter-square",name:"twitter-square"},"vimeo-square":{type:["brand"],names:"vimeo-square",name:"vimeo-square"},vine:{type:["brand"],names:"vine",name:"vine"},vk:{type:["brand"],names:"vk",name:"vk"},odnoklassniki:{type:["brand"],names:"odnoklassniki",name:"odnoklassniki"},"odnoklassniki-square":{type:["brand"],names:"odnoklassniki-square",name:"odnoklassniki-square"},opencart:{type:["brand"],names:"opencart",name:"opencart"},weibo:{type:["brand"],names:"weibo,\u5fae\u535a",name:"weibo"},weixin:{type:["brand"],names:"weixin,wechat,\u5fae\u4fe1",name:"weixin"},windows:{type:["brand"],names:"windows",name:"windows"},wordpress:{type:["brand"],names:"wordpress",name:"wordpress"},xing:{type:["brand"],names:"xing",name:"xing"},"xing-square":{type:["brand"],names:"xing-square",name:"xing-square"},yahoo:{type:["brand"],names:"yahoo,\u96c5\u864e",name:"yahoo"},yelp:{type:["brand"],names:"yelp",name:"yelp"},youtube:{type:["brand"],names:"youtube",name:"youtube"},"youtube-play":{type:["brand","video"],names:"youtube-play",name:"youtube-play"},"youtube-square":{type:["brand"],names:"youtube-square",name:"youtube-square"},backward:{type:["video"],names:"backward,\u540e\u9000",name:"backward"},compress:{type:["video"],names:"compress,\u538b\u7f29",name:"compress"},eject:{type:["video"],names:"eject,\u5f39\u51fa",name:"eject"},expand:{type:["video"],names:"expand,\u653e\u5927,\u5168\u5c4f",name:"expand"},"fast-backward":{type:["video"],names:"fast-backward,\u5feb\u9000",name:"fast-backward"},"fast-forward":{type:["video"],names:"fast-forward,\u5feb\u8fdb",name:"fast-forward"},forward:{type:["video"],names:"forward,\u524d\u8fdb",name:"forward"},pause:{type:["video"],names:"pause,\u6682\u505c",name:"pause"},"pause-circle":{type:["video"],names:"pause-circle,\u6682\u505c",name:"pause-circle"},"pause-circle-o":{type:["video"],names:"pause-circle-o,\u6682\u505c",name:"pause-circle-o"},play:{type:["video"],names:"play,\u64ad\u653e",name:"play"},"play-circle":{type:["video"],names:"play-circle,\u64ad\u653e",name:"play-circle"},"play-circle-o":{type:["video"],names:"play-circle-o,\u64ad\u653e",name:"play-circle-o"},"step-backward":{type:["video"],names:"step-backward,\u540e\u9000,\u4e0a\u4e00\u6bb5",name:"step-backward"},"step-forward":{type:["video"],names:"step-forward,\u524d\u8fdb,\u4e0b\u4e00\u6bb5",name:"step-forward"},stop:{type:["video"],names:"stop,\u505c\u6b62",name:"stop"},"stop-circle":{type:["video"],names:"stop-circle,\u505c\u6b62",name:"stop-circle"},"stop-circle-o":{type:["video"],names:"stop-circle-o,\u505c\u6b62",name:"stop-circle-o"}},MB.SHELLS={ipad_3_4:{device:"ipad",bg:"ipad",width:881,height:1247,top:111,left:56.5},web:{device:"web",bg:"desktop",width:960,height:1200,top:0,left:0},iphone_5:{device:"iphone_5",bg:"iphone_se",width:384,height:798,top:119,left:32},iphone_6:{device:"iphone_6",bg:"iphone_7",width:435,height:888,top:114,left:30},iphone_6_plus:{device:"iphone_6_plus",bg:"iphone_7_plus",width:482,height:983,top:127,left:34.33},Huawei:{device:"huawei",bg:"huawei_p9",width:400,height:800,top:77,left:20},samsung:{device:"samsung",bg:"samsung_s7",width:398,height:804,top:85,left:19},android:{device:"android",bg:"google_pixel",width:408,height:820,top:84.6,left:24}},MB.INSPECTABLES={label:["locked","text","fs","br","bs","ha","va","width","height","top","left","z","th","lh","td","bo","i","bg","bc","tc","o","ts","tsc","ds","sc","ro","padding","ls","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],text_view:["locked","text","fs","br","bs","ha","va","width","height","top","left","z","th","lh","td","bo","i","bg","bc","tc","o","ts","tsc","ds","sc","ro","padding","ls","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration","clip"],sticky:["locked","text","fs","ha","lh","bo","i","td","width","height","top","left","bg","tc","th","slw","slt","padding"],button:["locked","text","fs","br","bs","ha","va","width","height","top","left","z","th","td","bo","i","bg","bc","tc","o","ts","tsc","ds","sc","ro","ls","icon","is","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],icon_button:["locked","is","icon","br","bs","top","left","width","height","z","th","bg","bc","tc","o","ds","sc","ro","ls","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],text_field:["locked","text","fs","br","bs","ha","va","width","height","top","left","z","th","bg","bc","tc","o","ds","sc","ro","td","bo","i","ls","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],mtext_input:["locked","text","fs","br","bs","ha","width","height","top","left","z","th","bg","bc","tc","o","ds","sc","td","bo","i","ls","fixed","fixed_type","input_type"],mtextarea:["locked","text","fs","br","bs","ha","width","height","top","left","z","th","lh","bg","bc","tc","o","ds","sc","td","bo","i","ls","fixed","fixed_type","padding"],mselect:["locked","text","fs","bs","width","height","top","left","z","th","lh","bg","bc","tc","o","ds","sc","td","bo","i","ls","fixed","fixed_type"],"switch":["locked","top","left","z","checked","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],mcheckbox2:["locked","top","left","width","height","z","o","checked","fixed","fixed_type"],mradiobutton:["locked","top","left","width","height","z","o","checked","fixed","fixed_type"],mfile_input:["locked","top","left","width","height","z","o","fixed","fixed_type"],image_view:["locked","bs","br","width","height","top","left","image","z","th","bg","bc","tc","o","p","ds","sc","ro","ls","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration","clip","filter"],map_view:["locked","width","height","top","left","z","fixed","fixed_type"],navigation_bar:["locked","text","fs","z","height","th","td","bo","i","bg","tc","bc","o","ts","tsc","ds","sc"],search_bar:["locked","text","fs","top","left","width","ha","z","th","bg","tc","bc","o","ds","sc","ro","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],tab_item:["locked","text","is","icon","width","left","top","fs","z","th","bg","tc","o","ds","sc","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],tab_bar:["locked","height","z","th","bg","bc","o","ds","sc","ani_name","ani_delay","ani_count","ani_duration"],hr:["locked","width","height","top","left","z","th","bc","ls","ro","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],ve:["locked","width","height","top","left","z","th","bc","ls","ro","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],keyboard:["locked","z","numeric"],status_bar:["locked","text","th","bg","tc","bc","o","z"],rectangle:["locked","height","top","left","z","th","bg","bc","o","ds","sc","ro","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],rounded_rect:["locked","text","fs","br","bs","ha","va","width","height","top","left","z","lh","th","td","bo","i","bg","bc","tc","o","ts","tsc","ds","sc","ro","padding","ls","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],circle_rect:["locked","text","fs","bs","ha","va","width","height","top","left","z","lh","th","td","bo","i","bg","bc","tc","o","ts","tsc","ds","sc","ro","padding","ls","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],triangleb:["locked","width","height","top","left","z","th","tc","o","ro","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],triangletl:["locked","width","height","top","left","z","th","tc","o","ro","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"],lr:["locked","width","height","top","left","z","fixed","fixed_type"],webpage:["locked","width","height","top","left","z","text"],pg:["locked","icon"],mtooltip:["locked","text","fs","br","ha","va","width","height","top","left","z","th","lh","td","bo","i","bg","tc","o","ts","tsc","ds","sc","bs","bc","ro","padding","tt_placement","tt_offset","tt_arrow_size","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration"]},MB.INSPECTABLES.pg=["left","top"],t=MB.INSPECTABLES;for(e in t)n=t[e],n.push("v");window.Spine&&(Spine.Model.prototype.refresh=function(e){var t;return t=this.constructor.irecords[this.id],t&&t.load(e),this.trigger("refresh"),this},Spine.Model.State={lsave:function(e,t){var n,i,r,s,a,o,c,l,d,u;if(null==e&&(e=!0),null==t&&(t=!0),Spine.Ajax.disable(function(e){return function(){return e.save()}}(this)),!e)return!0;if(i=this.getState("default").dup(),d=this.getState(this.screenstate_cid),d.restore(this),d.lsave(),s=$("#ssliglobal").hasClass("active"),!s&&"default"!==this.screenstate_cid)return!0;if(n=this.cs(),!n||!t)return!0;for(l=n.cscreenstates(),a=0,o=l.length;a<o;a++)u=l[a],u.cid!==this.screenstate_cid&&(c=this.getState(u.cid),c.exists()||"default"!==this.screenstate_cid?c.exists()&&s&&(r=c.gid,c.restore(this),c.gid=r,c.lsave(!0,!1)):(c.restore(i),c.lsave(!0,!1)));return"default"!==this.screenstate_cid&&s&&(c=this.getState("default"),r=c.gid,c.restore(this),c.gid=r,c.lsave(!0,!1)),!0},setState:function(e,t){var n,i,r,s;if(e||(e="default"),s=this.screenstate_cid||"default",s!==e)return n=this.getState("default"),n.exists()||n.lsave(!1,!1),r=this.getState(s),r.exists()&&r.restore(this),i=this.getState(e),i.exists()?this.restore(i):this.restore(n),t?(this.screenstate_cid=e,this.lsave(!1,!1)):void 0}},Spine.Model.Dirty={lsave:function(e){return null==e&&(e=!0),Spine.Ajax.disable(function(e){return function(){return e.save()}}(this)),e&&$("body").trigger("queue:add",[this,!1]),!0},ldestroy:function(e){if(null==e&&(e=!0),Spine.Ajax.disable(function(e){return function(){return e.destroy()}}(this)),e)return $("body").trigger("queue:add",[this,!0])}})}.call(this),function(){MB.themes={light:[],dark:["#444","#555","#666"],indigo:["#3949ab","#3f51b5","#5c6bc0"],pink:["#d81b60","#ff4081","#ff6091"],red:["#dd191d","#e51c23","#e84e40"],blue:["#4e6cef","#5677fc","#738ffe"],lblue:["#039be5","#03a9f4","#29b6f6"],cyan:["#00acc1","#00bcd4","#26c6da"],teal:["#00897b","#009688","#26a69a"],green:["#0a8f08","#259b24","#2baf2b"],lgreen:["#7cb342","#8bc34a","#9ccc65"],orange:["#f4511e","#ff5722","#ff7043"],lorange:["#fb8c00","#ff9800","#ffa726"],purple:["#8e24aa","#9c27b0","#ab47bc"],dpurple:["#5e35b1","#673ab7","#7e57c2"],grey:["#546e7a","#607d8b","#78909c"]}}.call(this),function(){$.extend({nextTick:function(e){return window.requestAnimationFrame(function(){return window.requestAnimationFrame(function(){return window.requestAnimationFrame(function(){return e()})})})}}),$.fn.extend({transitionEnd:function(e){return this.one("transitionend",function(){return function(){return e()}}(this))},enableTransition:function(e,t){if(this.css("transition","all "+e+" ease-in-out").css("transition"),t&&"function"==typeof t)return t()},disableTransition:function(e){if(this.css("transition","none").css("transition"),e&&"function"==typeof e)return e()},boxShadow:function(e,t){if(this.css("box-shadow",e),t&&"function"==typeof t)return t()},transform:function(e,t){if(this.css("transform",e),t&&"function"==typeof t)return t()},translateX:function(e,t){if(this.css("transform","translateX("+e+"px)"),t&&"function"==typeof t)return t()},translateY:function(e,t){if(this.css("transform","translateY("+e+"px)"),t&&"function"==typeof t)return t()},translate:function(e,t,n){if(this.css("transform","translate("+e+"px, "+t+"px)"),n&&"function"==typeof n)return n()},zindex:function(e,t){if(this.css("z-index",e),t&&"function"==typeof t)return t()},onScroll:function(e){var t;return t=!!MB.supportsPassive&&{passive:!0},this[0].removeEventListener("scroll",e,t),this[0].addEventListener("scroll",e,t)}})}.call(this),!function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function i(e,i,r,s,a,o){return t(n(t(t(i,e),t(s,o)),a),r)}function r(e,t,n,r,s,a,o){return i(t&n|~t&r,e,t,s,a,o)}function s(e,t,n,r,s,a,o){return i(t&r|n&~r,e,t,s,a,o)}function a(e,t,n,r,s,a,o){return i(t^n^r,e,t,s,a,o)}function o(e,t,n,r,s,a,o){return i(n^(t|~r),e,t,s,a,o)}function c(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var i,c,l,d,u,h=1732584193,p=-271733879,f=-1732584194,m=271733878;for(i=0;i<e.length;i+=16)c=h,l=p,d=f,u=m,h=r(h,p,f,m,e[i],7,-680876936),m=r(m,h,p,f,e[i+1],12,-389564586),f=r(f,m,h,p,e[i+2],17,606105819),p=r(p,f,m,h,e[i+3],22,-1044525330),h=r(h,p,f,m,e[i+4],7,-176418897),m=r(m,h,p,f,e[i+5],12,1200080426),f=r(f,m,h,p,e[i+6],17,-1473231341),p=r(p,f,m,h,e[i+7],22,-45705983),h=r(h,p,f,m,e[i+8],7,1770035416),m=r(m,h,p,f,e[i+9],12,-1958414417),f=r(f,m,h,p,e[i+10],17,-42063),p=r(p,f,m,h,e[i+11],22,-1990404162),h=r(h,p,f,m,e[i+12],7,1804603682),m=r(m,h,p,f,e[i+13],12,-40341101),f=r(f,m,h,p,e[i+14],17,-1502002290),p=r(p,f,m,h,e[i+15],22,1236535329),h=s(h,p,f,m,e[i+1],5,-165796510),m=s(m,h,p,f,e[i+6],9,-1069501632),f=s(f,m,h,p,e[i+11],14,643717713),p=s(p,f,m,h,e[i],20,-373897302),h=s(h,p,f,m,e[i+5],5,-701558691),m=s(m,h,p,f,e[i+10],9,38016083),f=s(f,m,h,p,e[i+15],14,-660478335),p=s(p,f,m,h,e[i+4],20,-405537848),h=s(h,p,f,m,e[i+9],5,568446438),m=s(m,h,p,f,e[i+14],9,-1019803690),f=s(f,m,h,p,e[i+3],14,-187363961),p=s(p,f,m,h,e[i+8],20,1163531501),h=s(h,p,f,m,e[i+13],5,-1444681467),m=s(m,h,p,f,e[i+2],9,-51403784),f=s(f,m,h,p,e[i+7],14,1735328473),p=s(p,f,m,h,e[i+12],20,-1926607734),h=a(h,p,f,m,e[i+5],4,-378558),m=a(m,h,p,f,e[i+8],11,-2022574463),f=a(f,m,h,p,e[i+11],16,1839030562),p=a(p,f,m,h,e[i+14],23,-35309556),h=a(h,p,f,m,e[i+1],4,-1530992060),m=a(m,h,p,f,e[i+4],11,1272893353),f=a(f,m,h,p,e[i+7],16,-155497632),p=a(p,f,m,h,e[i+10],23,-1094730640),h=a(h,p,f,m,e[i+13],4,681279174),m=a(m,h,p,f,e[i],11,-358537222),f=a(f,m,h,p,e[i+3],16,-722521979),p=a(p,f,m,h,e[i+6],23,76029189),h=a(h,p,f,m,e[i+9],4,-640364487),m=a(m,h,p,f,e[i+12],11,-421815835),f=a(f,m,h,p,e[i+15],16,530742520),p=a(p,f,m,h,e[i+2],23,-995338651),h=o(h,p,f,m,e[i],6,-198630844),m=o(m,h,p,f,e[i+7],10,1126891415),f=o(f,m,h,p,e[i+14],15,-1416354905),p=o(p,f,m,h,e[i+5],21,-57434055),h=o(h,p,f,m,e[i+12],6,1700485571),m=o(m,h,p,f,e[i+3],10,-1894986606),f=o(f,m,h,p,e[i+10],15,-1051523),p=o(p,f,m,h,e[i+1],21,-2054922799),h=o(h,p,f,m,e[i+8],6,1873313359),m=o(m,h,p,f,e[i+15],10,-30611744),f=o(f,m,h,p,e[i+6],15,-1560198380),p=o(p,f,m,h,e[i+13],21,1309151649),h=o(h,p,f,m,e[i+4],6,-145523070),m=o(m,h,p,f,e[i+11],10,-1120210379),f=o(f,m,h,p,e[i+2],15,718787259),p=o(p,f,m,h,e[i+9],21,-343485551),h=t(h,c),p=t(p,l),f=t(f,d),m=t(m,u);return[h,p,f,m]}function l(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){return l(c(d(e),8*e.length))}function h(e,t){var n,i,r=d(e),s=[],a=[];for(s[15]=a[15]=void 0,r.length>16&&(r=c(r,8*e.length)),n=0;16>n;n+=1)s[n]=909522486^r[n],a[n]=1549556828^r[n];return i=c(s.concat(d(t)),512+8*t.length),l(c(a.concat(i),640))}function p(e){var t,n,i="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=i.charAt(t>>>4&15)+i.charAt(15&t);return r}function f(e){return unescape(encodeURIComponent(e))}function m(e){return u(f(e))}function g(e){return p(m(e))}function b(e,t){return h(f(e),f(t))}function v(e,t){return p(b(e,t))}function y(e,t,n){return t?n?b(t,e):v(t,e):n?m(e):g(e)}"function"==typeof define&&define.amd?define(function(){return y}):e.md5=y}(this),function(e){e.fn.qrcode=function(t){function n(e){this.mode=o,this.data=e}function i(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function s(e,t){this.totalCount=e,this.dataCount=t}function a(){this.buffer=[],this.length=0}var o;n.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},i.prototype={addData:function(e){this.dataList.push(new n(e)),this.dataCache=null},isDark:function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var e=1,e=1;40>e;e++){for(var t=s.getRSBlocks(e,this.errorCorrectLevel),n=new a,i=0,r=0;r<t.length;r++)i+=t[r].dataCount;for(r=0;r<this.dataList.length;r++)t=this.dataList[r],n.put(t.mode,4),n.put(t.getLength(),c.getLengthInBits(t.mode,e)),t.write(n);if(n.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;7>=n;n++)if(!(-1>=e+n||this.moduleCount<=e+n))for(var i=-1;7>=i;i++)-1>=t+i||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&6>=n&&(0==i||6==i)||0<=i&&6>=i&&(0==n||6==n)||2<=n&&4>=n&&2<=i&&4>=i)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;8>n;n++){this.makeImpl(!0,n);var i=c.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){for(e=e.createEmptyMovieClip(t,n),this.make(),t=0;t<this.modules.length;t++)for(var n=1*t,i=0;i<this.modules[t].length;i++){var r=1*i;this.modules[t][i]&&(e.beginFill(0,100),e.moveTo(r,n),e.lineTo(r+1,n),e.lineTo(r+1,n+1),e.lineTo(r,n+1),e.endFill())}return e},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=0==e%2);for(e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var e=c.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var s=-2;2>=s;s++)for(var a=-2;2>=a;a++)this.modules[i+s][r+a]=-2==s||2==s||-2==a||2==a||0==s&&0==a}},setupTypeNumber:function(e){for(var t=c.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;18>n;n++)i=!e&&1==(t>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i},setupTypeInfo:function(e,t){for(var n=c.getBCHTypeInfo(this.errorCorrectLevel<<3|t),i=0;15>i;i++){var r=!e&&1==(n>>i&1);6>i?this.modules[i][8]=r:8>i?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(i=0;15>i;i++)r=!e&&1==(n>>i&1),8>i?this.modules[8][this.moduleCount-i-1]=r:9>i?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,s=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var o=0;2>o;o++)if(null==this.modules[i][a-o]){var l=!1;s<e.length&&(l=1==(e[s]>>>r&1)),c.getMask(t,i,a-o)&&(l=!l),this.modules[i][a-o]=l,r--,-1==r&&(s++,r=7)}if(i+=n,0>i||this.moduleCount<=i){i-=n,n=-n;break}}}},i.PAD0=236,i.PAD1=17,i.createData=function(e,t,n){for(var t=s.getRSBlocks(e,t),r=new a,o=0;o<n.length;o++){var l=n[o];r.put(l.mode,4),r.put(l.getLength(),c.getLengthInBits(l.mode,e)),l.write(r)}for(o=e=0;o<t.length;o++)e+=t[o].dataCount;if(r.getLengthInBits()>8*e)throw Error("code length overflow. ("+r.getLengthInBits()+">"+8*e+")");for(r.getLengthInBits()+4<=8*e&&r.put(0,4);0!=r.getLengthInBits()%8;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*e)&&(r.put(i.PAD0,8),!(r.getLengthInBits()>=8*e));)r.put(i.PAD1,8);return i.createBytes(r,t)},i.createBytes=function(e,t){for(var n=0,i=0,s=0,a=Array(t.length),o=Array(t.length),l=0;l<t.length;l++){var d=t[l].dataCount,u=t[l].totalCount-d,i=Math.max(i,d),s=Math.max(s,u);a[l]=Array(d);for(var h=0;h<a[l].length;h++)a[l][h]=255&e.buffer[h+n];for(n+=d,h=c.getErrorCorrectPolynomial(u),d=new r(a[l],h.getLength()-1).mod(h),o[l]=Array(h.getLength()-1),h=0;h<o[l].length;h++)u=h+d.getLength()-o[l].length,o[l][h]=0<=u?d.get(u):0}for(h=l=0;h<t.length;h++)l+=t[h].totalCount;for(n=Array(l),h=d=0;h<i;h++)for(l=0;l<t.length;l++)h<a[l].length&&(n[d++]=a[l][h]);for(h=0;h<s;h++)for(l=0;l<t.length;l++)h<o[l].length&&(n[d++]=o[l][h]);return n},o=4;for(var c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=c.getBCHDigit(t)-c.getBCHDigit(c.G15);)t^=c.G15<<c.getBCHDigit(t)-c.getBCHDigit(c.G15);return(e<<10|t)^c.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=c.getBCHDigit(t)-c.getBCHDigit(c.G18);)t^=c.G18<<c.getBCHDigit(t)-c.getBCHDigit(c.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return c.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case 0:return 0==(t+n)%2;case 1:return 0==t%2;case 2:return 0==n%3;case 3:return 0==(t+n)%3;case 4:return 0==(Math.floor(t/2)+Math.floor(n/3))%2;case 5:return 0==t*n%2+t*n%3;case 6:return 0==(t*n%2+t*n%3)%2;case 7:return 0==(t*n%3+(t+n)%2)%2;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new r([1],0),n=0;n<e;n++)t=t.multiply(new r([1,l.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&10>t)switch(e){case 1:return 10;case 2:return 9;case o:return 8;case 8:return 8;default:throw Error("mode:"+e)}else if(27>t)switch(e){case 1:return 12;case 2:return 11;case o:return 16;case 8:return 10;default:throw Error("mode:"+e)}else{if(!(41>t))throw Error("type:"+t);switch(e){case 1:return 14;case 2:return 13;case o:return 16;case 8:return 12;default:throw Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var r=0;r<t;r++){for(var s=0,a=e.isDark(i,r),o=-1;1>=o;o++)if(!(0>i+o||t<=i+o))for(var c=-1;1>=c;c++)0>r+c||t<=r+c||0==o&&0==c||a==e.isDark(i+o,r+c)&&s++;5<s&&(n+=3+s-5)}for(i=0;i<t-1;i++)for(r=0;r<t-1;r++)s=0,e.isDark(i,r)&&s++,e.isDark(i+1,r)&&s++,e.isDark(i,r+1)&&s++,e.isDark(i+1,r+1)&&s++,(0==s||4==s)&&(n+=3);for(i=0;i<t;i++)for(r=0;r<t-6;r++)e.isDark(i,r)&&!e.isDark(i,r+1)&&e.isDark(i,r+2)&&e.isDark(i,r+3)&&e.isDark(i,r+4)&&!e.isDark(i,r+5)&&e.isDark(i,r+6)&&(n+=40);for(r=0;r<t;r++)for(i=0;i<t-6;i++)e.isDark(i,r)&&!e.isDark(i+1,r)&&e.isDark(i+2,r)&&e.isDark(i+3,r)&&e.isDark(i+4,r)&&!e.isDark(i+5,r)&&e.isDark(i+6,r)&&(n+=40);for(r=s=0;r<t;r++)for(i=0;i<t;i++)e.isDark(i,r)&&s++;return e=Math.abs(100*s/t/t-50)/5,n+10*e}},l={glog:function(e){if(1>e)throw Error("glog("+e+")");return l.LOG_TABLE[e]},gexp:function(e){for(;0>e;)e+=255;for(;256<=e;)e-=255;return l.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},d=0;8>d;d++)l.EXP_TABLE[d]=1<<d;for(d=8;256>d;d++)l.EXP_TABLE[d]=l.EXP_TABLE[d-4]^l.EXP_TABLE[d-5]^l.EXP_TABLE[d-6]^l.EXP_TABLE[d-8];for(d=0;255>d;d++)l.LOG_TABLE[l.EXP_TABLE[d]]=d;return r.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=l.gexp(l.glog(this.get(n))+l.glog(e.get(i)));return new r(t,0)},mod:function(e){if(0>this.getLength()-e.getLength())return this;for(var t=l.glog(this.get(0))-l.glog(e.get(0)),n=Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=l.gexp(l.glog(e.get(i))+t);return new r(n,0).mod(e)}},s.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],s.getRSBlocks=function(e,t){var n=s.getRsBlockTable(e,t);if(void 0==n)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,r=[],a=0;a<i;a++)for(var o=n[3*a+0],c=n[3*a+1],l=n[3*a+2],d=0;d<o;d++)r.push(new s(c,l));return r},s.getRsBlockTable=function(e,t){switch(t){case 1:return s.RS_BLOCK_TABLE[4*(e-1)+0];case 0:return s.RS_BLOCK_TABLE[4*(e-1)+1];case 3:return s.RS_BLOCK_TABLE[4*(e-1)+2];case 2:return s.RS_BLOCK_TABLE[4*(e-1)+3]}},a.prototype={get:function(e){return 1==(this.buffer[Math.floor(e/8)]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},t),this.each(function(){var n;if("canvas"==t.render){n=new i(t.typeNumber,t.correctLevel),n.addData(t.text),n.make();var r=document.createElement("canvas");r.width=t.width,r.height=t.height;for(var s=r.getContext("2d"),a=t.width/n.getModuleCount(),o=t.height/n.getModuleCount(),c=0;c<n.getModuleCount();c++)for(var l=0;l<n.getModuleCount();l++){s.fillStyle=n.isDark(c,l)?t.foreground:t.background;var d=Math.ceil((l+1)*a)-Math.floor(l*a),u=Math.ceil((c+1)*a)-Math.floor(c*a);s.fillRect(Math.round(l*a),Math.round(c*o),d,u)}}else for(n=new i(t.typeNumber,t.correctLevel),n.addData(t.text),n.make(),r=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),
s=t.width/n.getModuleCount(),a=t.height/n.getModuleCount(),o=0;o<n.getModuleCount();o++)for(c=e("<tr></tr>").css("height",a+"px").appendTo(r),l=0;l<n.getModuleCount();l++)e("<td></td>").css("width",s+"px").css("background-color",n.isDark(o,l)?t.foreground:t.background).appendTo(c);n=r,jQuery(n).appendTo(this)})}}(jQuery),function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(t,n){var i,r=e,s=[];if(n=n||r.length,t)for(i=0;i<t;i++)s[i]=r[0|Math.random()*n];else{var a;for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",i=0;i<36;i++)s[i]||(a=0|16*Math.random(),s[i]=r[19==i?3&a|8:a])}return s.join("")},Math.uuidFast=function(){for(var t,n=e,i=new Array(36),r=0,s=0;s<36;s++)8==s||13==s||18==s||23==s?i[s]="-":14==s?i[s]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,i[s]=n[19==s?3&t|8:t]);return i.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}}(),$(function(){jQuery.timeago.settings.strings["zh-CN"]={prefixAgo:null,prefixFromNow:"\u4ece\u73b0\u5728\u5f00\u59cb",suffixAgo:"\u4e4b\u524d",suffixFromNow:null,seconds:"\u4e0d\u5230 1 \u5206\u949f",minute:"\u5927\u7ea6 1 \u5206\u949f",minutes:"%d \u5206\u949f",hour:"\u5927\u7ea6 1 \u5c0f\u65f6",hours:"\u5927\u7ea6 %d \u5c0f\u65f6",day:"1 \u5929",days:"%d \u5929",month:"\u5927\u7ea6 1 \u4e2a\u6708",months:"%d \u6708",year:"\u5927\u7ea6 1 \u5e74",years:"%d \u5e74",numbers:[],wordSeparator:""}}),!function(e){e.fn.niceSelect=function(t){function n(t){t.after(e("<div></div>").addClass("nice-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").attr("tabindex",t.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));var n=t.next(),i=t.find("option"),r=t.find("option:selected");n.find(".current").html(r.data("display")||r.text()),i.each(function(){var t=e(this),i=t.data("display");n.find("ul").append(e("<li></li>").attr("data-value",t.val()).attr("data-display",i||null).addClass("option"+(t.is(":selected")?" selected":"")+(t.is(":disabled")?" disabled":"")).html(t.text()))})}if("string"==typeof t)return"update"==t?this.each(function(){var t=e(this),i=e(this).next(".nice-select"),r=i.hasClass("open");i.length&&(i.remove(),n(t),r&&t.next().trigger("click"))}):"destroy"==t?(this.each(function(){var t=e(this),n=e(this).next(".nice-select");n.length&&(n.remove(),t.css("display",""))}),0==e(".nice-select").length&&e(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'),this;this.hide(),this.each(function(){var t=e(this);t.next().hasClass("nice-select")||n(t)}),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",function(){var t=e(this);e(".nice-select").not(t).removeClass("open"),t.toggleClass("open"),t.hasClass("open")?(t.find(".option"),t.find(".focus").removeClass("focus"),t.find(".selected").addClass("focus")):t.focus()}),e(document).on("click.nice_select",function(t){0===e(t.target).closest(".nice-select").length&&e(".nice-select").removeClass("open").find(".option")}),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(){var t=e(this),n=t.closest(".nice-select");n.find(".selected").removeClass("selected"),t.addClass("selected");var i=t.data("display")||t.text();n.find(".current").text(i),n.prev("select").val(t.data("value")).trigger("change")}),e(document).on("keydown.nice_select",".nice-select",function(t){var n=e(this),i=e(n.find(".focus")||n.find(".list .option.selected"));if(32==t.keyCode||13==t.keyCode)return n.hasClass("open")?i.trigger("click"):n.trigger("click"),!1;if(40==t.keyCode){if(n.hasClass("open")){var r=i.nextAll(".option:not(.disabled)").first();r.length>0&&(n.find(".focus").removeClass("focus"),r.addClass("focus"))}else n.trigger("click");return!1}if(38==t.keyCode){if(n.hasClass("open")){var s=i.prevAll(".option:not(.disabled)").first();s.length>0&&(n.find(".focus").removeClass("focus"),s.addClass("focus"))}else n.trigger("click");return!1}if(27==t.keyCode)n.hasClass("open")&&n.trigger("click");else if(9==t.keyCode&&n.hasClass("open"))return!1});var i=document.createElement("a").style;return i.cssText="pointer-events:auto","auto"!==i.pointerEvents&&e("html").addClass("no-csspointerevents"),this}}(jQuery),!function(e,t,n,i){"use strict";function r(e,t,n){return setTimeout(l(e,n),t)}function s(e,t,n){return!!Array.isArray(e)&&(a(e,n[t],n),!0)}function a(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function o(t,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=e.console&&(e.console.warn||e.console.log);return s&&s.call(e.console,r,i),t.apply(this,arguments)}}function c(e,t,n){var i,r=t.prototype;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&ue(i,n)}function l(e,t){return function(){return e.apply(t,arguments)}}function d(e,t){return typeof e==fe?e.apply(t?t[0]||i:i,t):e}function u(e,t){return e===i?t:e}function h(e,t,n){a(g(t),function(t){e.addEventListener(t,n,!1)})}function p(e,t,n){a(g(t),function(t){e.removeEventListener(t,n,!1)})}function f(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return e.indexOf(t)>-1}function g(e){return e.trim().split(/\s+/g)}function b(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function v(e){return Array.prototype.slice.call(e,0)}function y(e,t,n){for(var i=[],r=[],s=0;s<e.length;){var a=t?e[s][t]:e[s];b(r,a)<0&&i.push(e[s]),r[s]=a,s++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function w(e,t){for(var n,r,s=t[0].toUpperCase()+t.slice(1),a=0;a<he.length;){if(n=he[a],r=n?n+s:t,r in e)return r;a++}return i}function _(){return we++}function x(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function M(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){d(e.options.enable,[e])&&n.handler(t)},this.init()}function k(e){var t,n=e.options.inputClass;return new(t=n?n:Me?N:ke?R:xe?H:W)(e,S)}function S(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,s=t&Pe&&i-r===0,a=t&(je|Ie)&&i-r===0;n.isFirst=!!s,n.isFinal=!!a,s&&(e.session={}),n.eventType=t,B(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function B(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=C(t)),r>1&&!n.firstMultiple?n.firstMultiple=C(t):1===r&&(n.firstMultiple=!1);var s=n.firstInput,a=n.firstMultiple,o=a?a.center:s.center,c=t.center=P(i);t.timeStamp=be(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=A(o,c),t.distance=I(o,c),$(n,t),t.offsetDirection=j(t.deltaX,t.deltaY);var l=E(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=ge(l.x)>ge(l.y)?l.x:l.y,t.scale=a?O(a.pointers,i):1,t.rotation=a?L(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,T(n,t);var d=e.element;f(t.srcEvent.target,d)&&(d=t.srcEvent.target),t.target=d}function $(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},s=e.prevInput||{};t.eventType!==Pe&&s.eventType!==je||(r=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}function T(e,t){var n,r,s,a,o=e.lastInterval||t,c=t.timeStamp-o.timeStamp;if(t.eventType!=Ie&&(c>Ce||o.velocity===i)){var l=t.deltaX-o.deltaX,d=t.deltaY-o.deltaY,u=E(c,l,d);r=u.x,s=u.y,n=ge(u.x)>ge(u.y)?u.x:u.y,a=j(l,d),e.lastInterval=t}else n=o.velocity,r=o.velocityX,s=o.velocityY,a=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=s,t.direction=a}function C(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:me(e.pointers[n].clientX),clientY:me(e.pointers[n].clientY)},n++;return{timeStamp:be(),pointers:t,center:P(t),deltaX:e.deltaX,deltaY:e.deltaY}}function P(e){var t=e.length;if(1===t)return{x:me(e[0].clientX),y:me(e[0].clientY)};for(var n=0,i=0,r=0;t>r;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:me(n/t),y:me(i/t)}}function E(e,t,n){return{x:t/e||0,y:n/e||0}}function j(e,t){return e===t?Ae:ge(e)>=ge(t)?0>e?Le:Oe:0>t?We:Ne}function I(e,t,n){n||(n=qe);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function A(e,t,n){n||(n=qe);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function L(e,t){return A(t[1],t[0],He)+A(e[1],e[0],He)}function O(e,t){return I(t[0],t[1],He)/I(e[0],e[1],He)}function W(){this.evEl=Fe,this.evWin=Ye,this.pressed=!1,M.apply(this,arguments)}function N(){this.evEl=Ke,this.evWin=Je,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function D(){this.evTarget=Qe,this.evWin=Ze,this.started=!1,M.apply(this,arguments)}function z(e,t){var n=v(e.touches),i=v(e.changedTouches);return t&(je|Ie)&&(n=y(n.concat(i),"identifier",!0)),[n,i]}function R(){this.evTarget=tt,this.targetIds={},M.apply(this,arguments)}function q(e,t){var n=v(e.touches),i=this.targetIds;if(t&(Pe|Ee)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,a=v(e.changedTouches),o=[],c=this.target;if(s=n.filter(function(e){return f(e.target,c)}),t===Pe)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&o.push(a[r]),t&(je|Ie)&&delete i[a[r].identifier],r++;return o.length?[y(s.concat(o),"identifier",!0),o]:void 0}function H(){M.apply(this,arguments);var e=l(this.handler,this);this.touch=new R(this.manager,e),this.mouse=new W(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function X(e,t){e&Pe?(this.primaryTouch=t.changedPointers[0].identifier,F.call(this,t)):e&(je|Ie)&&F.call(this,t)}function F(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)};setTimeout(r,nt)}}function Y(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],s=Math.abs(t-r.x),a=Math.abs(n-r.y);if(it>=s&&it>=a)return!0}return!1}function U(e,t){this.manager=e,this.set(t)}function V(e){if(m(e,lt))return lt;var t=m(e,dt),n=m(e,ut);return t&&n?lt:t||n?t?dt:ut:m(e,ct)?ct:ot}function K(){if(!st)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!n||e.CSS.supports("touch-action",i)}),t}function J(e){this.options=ue({},this.defaults,e||{}),this.id=_(),this.manager=null,this.options.enable=u(this.options.enable,!0),this.state=pt,this.simultaneous={},this.requireFail=[]}function G(e){return e&vt?"cancel":e&gt?"end":e&mt?"move":e&ft?"start":""}function Q(e){return e==Ne?"down":e==We?"up":e==Le?"left":e==Oe?"right":""}function Z(e,t){var n=t.manager;return n?n.get(e):e}function ee(){J.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ne(){ee.apply(this,arguments)}function ie(){J.apply(this,arguments),this._timer=null,this._input=null}function re(){ee.apply(this,arguments)}function se(){ee.apply(this,arguments)}function ae(){J.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function oe(e,t){return t=t||{},t.recognizers=u(t.recognizers,oe.defaults.preset),new ce(e,t)}function ce(e,t){this.options=ue({},oe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=k(this),this.touchAction=new U(this,this.options.touchAction),le(this,!0),a(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function le(e,t){var n=e.element;if(n.style){var i;a(e.options.cssProps,function(r,s){i=w(n.style,s),t?(e.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={})}}function de(e,n){var i=t.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var ue,he=["","webkit","Moz","MS","ms","o"],pe=t.createElement("div"),fe="function",me=Math.round,ge=Math.abs,be=Date.now;ue="function"!=typeof Object.assign?function(e){if(e===i||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])}return t}:Object.assign;var ve=o(function(e,t,n){for(var r=Object.keys(t),s=0;s<r.length;)(!n||n&&e[r[s]]===i)&&(e[r[s]]=t[r[s]]),s++;return e},"extend","Use `assign`."),ye=o(function(e,t){return ve(e,t,!0)},"merge","Use `assign`."),we=1,_e=/mobile|tablet|ip(ad|hone|od)|android/i,xe="ontouchstart"in e,Me=w(e,"PointerEvent")!==i,ke=xe&&_e.test(navigator.userAgent),Se="touch",Be="pen",$e="mouse",Te="kinect",Ce=25,Pe=1,Ee=2,je=4,Ie=8,Ae=1,Le=2,Oe=4,We=8,Ne=16,De=Le|Oe,ze=We|Ne,Re=De|ze,qe=["x","y"],He=["clientX","clientY"];M.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)}};var Xe={mousedown:Pe,mousemove:Ee,mouseup:je},Fe="mousedown",Ye="mousemove mouseup";c(W,M,{handler:function(e){var t=Xe[e.type];t&Pe&&0===e.button&&(this.pressed=!0),t&Ee&&1!==e.which&&(t=je),this.pressed&&(t&je&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:$e,srcEvent:e}))}});var Ue={pointerdown:Pe,pointermove:Ee,pointerup:je,pointercancel:Ie,pointerout:Ie},Ve={2:Se,3:Be,4:$e,5:Te},Ke="pointerdown",Je="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Ke="MSPointerDown",Je="MSPointerMove MSPointerUp MSPointerCancel"),c(N,M,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Ue[i],s=Ve[e.pointerType]||e.pointerType,a=s==Se,o=b(t,e.pointerId,"pointerId");r&Pe&&(0===e.button||a)?0>o&&(t.push(e),o=t.length-1):r&(je|Ie)&&(n=!0),0>o||(t[o]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(o,1))}});var Ge={touchstart:Pe,touchmove:Ee,touchend:je,touchcancel:Ie},Qe="touchstart",Ze="touchstart touchmove touchend touchcancel";c(D,M,{handler:function(e){var t=Ge[e.type];if(t===Pe&&(this.started=!0),this.started){var n=z.call(this,e,t);t&(je|Ie)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Se,srcEvent:e})}}});var et={touchstart:Pe,touchmove:Ee,touchend:je,touchcancel:Ie},tt="touchstart touchmove touchend touchcancel";c(R,M,{handler:function(e){var t=et[e.type],n=q.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Se,srcEvent:e})}});var nt=2500,it=25;c(H,M,{handler:function(e,t,n){var i=n.pointerType==Se,r=n.pointerType==$e;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)X.call(this,t,n);else if(r&&Y.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var rt=w(pe.style,"touchAction"),st=rt!==i,at="compute",ot="auto",ct="manipulation",lt="none",dt="pan-x",ut="pan-y",ht=K();U.prototype={set:function(e){e==at&&(e=this.compute()),st&&this.manager.element.style&&ht[e]&&(this.manager.element.style[rt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(t){d(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),V(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,r=m(i,lt)&&!ht[lt],s=m(i,ut)&&!ht[ut],a=m(i,dt)&&!ht[dt];if(r){var o=1===e.pointers.length,c=e.distance<2,l=e.deltaTime<250;if(o&&c&&l)return}return a&&s?void 0:r||s&&n&De||a&&n&ze?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var pt=1,ft=2,mt=4,gt=8,bt=gt,vt=16,yt=32;J.prototype={defaults:{},set:function(e){return ue(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(s(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Z(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return s(e,"dropRecognizeWith",this)?this:(e=Z(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(s(e,"requireFailure",this))return this;var t=this.requireFail;return e=Z(e,this),-1===b(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(s(e,"dropRequireFailure",this))return this;e=Z(e,this);var t=b(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;gt>i&&t(n.options.event+G(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=gt&&t(n.options.event+G(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=yt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(yt|pt)))return!1;e++}return!0},recognize:function(e){var t=ue({},e);return d(this.options.enable,[this,t])?(this.state&(bt|vt|yt)&&(this.state=pt),this.state=this.process(t),void(this.state&(ft|mt|gt|vt)&&this.tryEmit(t))):(this.reset(),void(this.state=yt))},process:function(){},getTouchAction:function(){},reset:function(){}},c(ee,J,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(ft|mt),r=this.attrTest(e);return i&&(n&Ie||!r)?t|vt:i||r?n&je?t|gt:t&ft?t|mt:ft:yt}}),c(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:Re},getTouchAction:function(){var e=this.options.direction,t=[];return e&De&&t.push(ut),e&ze&&t.push(dt),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,s=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&De?(r=0===s?Ae:0>s?Le:Oe,n=s!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?Ae:0>a?We:Ne,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&ft||!(this.state&ft)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Q(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),c(ne,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ft)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),c(ie,J,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ot]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(je|Ie)&&!s)this.reset();else if(e.eventType&Pe)this.reset(),this._timer=r(function(){this.state=bt,this.tryEmit()},t.time,this);else if(e.eventType&je)return bt;return yt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===bt&&(e&&e.eventType&je?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=be(),this.manager.emit(this.options.event,this._input)))}}),c(re,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[lt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ft)}}),c(se,ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:De|ze,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(De|ze)?t=e.overallVelocity:n&De?t=e.overallVelocityX:n&ze&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ge(t)>this.options.velocity&&e.eventType&je},emit:function(e){var t=Q(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ae,J,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ct]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&Pe&&0===this.count)return this.failTimeout();if(i&&s&&n){if(e.eventType!=je)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||I(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,o&&a?this.count+=1:this.count=1,this._input=e;var c=this.count%t.taps;if(0===c)return this.hasRequireFailures()?(this._timer=r(function(){this.state=bt,this.tryEmit()},t.interval,this),ft):bt}return yt},failTimeout:function(){return this._timer=r(function(){this.state=yt},this.options.interval,this),yt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==bt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),oe.VERSION="2.0.8",oe.defaults={domEvents:!1,touchAction:at,enable:!0,inputTarget:null,inputClass:null,preset:[[re,{enable:!1}],[ne,{enable:!1},["rotate"]],[se,{direction:De}],[te,{direction:De},["swipe"]],[ae],[ae,{event:"doubletap",taps:2},["tap"]],[ie]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var wt=1,_t=2;ce.prototype={set:function(e){return ue(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?_t:wt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&bt)&&(r=t.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],t.stopped===_t||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(ft|mt|gt)&&(r=t.curRecognizer=n),s++}},get:function(e){if(e instanceof J)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(s(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(s(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=b(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return a(g(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==i){var n=this.handlers;return a(g(e),function(e){t?n[e]&&n[e].splice(b(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&de(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&le(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ue(oe,{INPUT_START:Pe,INPUT_MOVE:Ee,INPUT_END:je,INPUT_CANCEL:Ie,STATE_POSSIBLE:pt,STATE_BEGAN:ft,STATE_CHANGED:mt,STATE_ENDED:gt,STATE_RECOGNIZED:bt,STATE_CANCELLED:vt,STATE_FAILED:yt,DIRECTION_NONE:Ae,DIRECTION_LEFT:Le,DIRECTION_RIGHT:Oe,DIRECTION_UP:We,DIRECTION_DOWN:Ne,DIRECTION_HORIZONTAL:De,DIRECTION_VERTICAL:ze,DIRECTION_ALL:Re,Manager:ce,Input:M,TouchAction:U,TouchInput:R,MouseInput:W,PointerEventInput:N,TouchMouseInput:H,SingleTouchInput:D,Recognizer:J,AttrRecognizer:ee,Tap:ae,Pan:te,Swipe:se,Pinch:ne,Rotate:re,Press:ie,on:h,off:p,each:a,merge:ye,extend:ve,assign:ue,inherit:c,bindFn:l,prefixed:w});var xt="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};xt.Hammer=oe,"function"==typeof define&&define.amd?define(function(){return oe}):"undefined"!=typeof module&&module.exports?module.exports=oe:e[n]=oe}(window,document,"Hammer"),function e(t,n,i){function r(a,o){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return r(n?n:e)},d,d.exports,e,t,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t){"use strict";function n(e){e.fn.perfectScrollbar=function(e){return this.each(function(){if("object"==typeof e||"undefined"==typeof e){var t=e;r.get(this)||i.initialize(this,t)}else{var n=e;"update"===n?i.update(this):"destroy"===n&&i.destroy(this)}})}}var i=e("../main"),r=e("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],n);else{var s=window.jQuery?window.jQuery:window.$;"undefined"!=typeof s&&n(s)}t.exports=n},{"../main":7,"../plugin/instances":18}],2:[function(e,t,n){"use strict";function i(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}function r(e,t){var n=e.className.split(" "),i=n.indexOf(t);i>=0&&n.splice(i,1),e.className=n.join(" ")}n.add=function(e,t){e.classList?e.classList.add(t):i(e,t)},n.remove=function(e,t){e.classList?e.classList.remove(t):r(e,t)},n.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t){"use strict";function n(e,t){return window.getComputedStyle(e)[t]}function i(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function r(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i=i.toString()+"px"),e.style[n]=i}return e}var s={};s.e=function(e,t){var n=document.createElement(e);return n.className=t,n},s.appendTo=function(e,t){return t.appendChild(e),e},s.css=function(e,t,s){return"object"==typeof t?r(e,t):"undefined"==typeof s?n(e,t):i(e,t,s)},s.matches=function(e,t){return"undefined"!=typeof e.matches?e.matches(t):"undefined"!=typeof e.matchesSelector?e.matchesSelector(t):"undefined"!=typeof e.webkitMatchesSelector?e.webkitMatchesSelector(t):"undefined"!=typeof e.mozMatchesSelector?e.mozMatchesSelector(t):"undefined"!=typeof e.msMatchesSelector?e.msMatchesSelector(t):void 0},s.remove=function(e){"undefined"!=typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},s.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return s.matches(e,t)})},t.exports=s},{}],4:[function(e,t){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var n="undefined"!=typeof t;this.events[e]=this.events[e].filter(function(i){return!(!n||i===t)||(this.element.removeEventListener(e,i,!1),!1)},this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return"undefined"==typeof t&&(t=new n(e),this.eventElements.push(t)),t},i.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},i.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},i.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},i.prototype.once=function(e,t,n){var i=this.eventElement(e),r=function(e){i.unbind(t,r),n(e)};i.bind(t,r)},t.exports=i},{}],5:[function(e,t){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,n){"use strict";var i=e("./class"),r=e("./dom"),s=n.toInt=function(e){return parseInt(e,10)||0},a=n.clone=function(e){if(null===e)return null;if(e.constructor===Array)return e.map(a);if("object"==typeof e){var t={};for(var n in e)t[n]=a(e[n]);return t}return e};n.extend=function(e,t){var n=a(e);for(var i in t)n[i]=a(t[i]);return n},n.isEditable=function(e){return r.matches(e,"input,[contenteditable]")||r.matches(e,"select,[contenteditable]")||r.matches(e,"textarea,[contenteditable]")||r.matches(e,"button,[contenteditable]")},n.removePsClasses=function(e){for(var t=i.list(e),n=0;n<t.length;n++){var r=t[n];0===r.indexOf("ps-")&&i.remove(e,r)}},n.outerWidth=function(e){return s(r.css(e,"width"))+s(r.css(e,"paddingLeft"))+s(r.css(e,"paddingRight"))+s(r.css(e,"borderLeftWidth"))+s(r.css(e,"borderRightWidth"))},n.startScrolling=function(e,t){i.add(e,"ps-in-scrolling"),"undefined"!=typeof t?i.add(e,"ps-"+t):(i.add(e,"ps-x"),i.add(e,"ps-y"))},n.stopScrolling=function(e,t){i.remove(e,"ps-in-scrolling"),"undefined"!=typeof t?i.remove(e,"ps-"+t):(i.remove(e,"ps-x"),i.remove(e,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t){"use strict";var n=e("./plugin/destroy"),i=e("./plugin/initialize"),r=e("./plugin/update");t.exports={initialize:i,update:r,destroy:n}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(e,t){"use strict";var n=e("../lib/helper"),i=e("../lib/dom"),r=e("./instances");t.exports=function(e){var t=r.get(e);t&&(t.event.unbindAll(),i.remove(t.scrollbarX),i.remove(t.scrollbarY),i.remove(t.scrollbarXRail),i.remove(t.scrollbarYRail),n.removePsClasses(e),r.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t){"use strict";function n(e,t){function n(e){return e.getBoundingClientRect()}var r=function(e){e.stopPropagation()};t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarY,"click",r),t.event.bind(t.scrollbarYRail,"click",function(r){var o=i.toInt(t.scrollbarYHeight/2),c=t.railYRatio*(r.pageY-window.pageYOffset-n(t.scrollbarYRail).top-o),l=t.railYRatio*(t.railYHeight-t.scrollbarYHeight),d=c/l;d<0?d=0:d>1&&(d=1),a(e,"top",(t.contentHeight-t.containerHeight)*d),s(e),r.stopPropagation()}),t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarX,"click",r),t.event.bind(t.scrollbarXRail,"click",function(r){var o=i.toInt(t.scrollbarXWidth/2),c=t.railXRatio*(r.pageX-window.pageXOffset-n(t.scrollbarXRail).left-o),l=t.railXRatio*(t.railXWidth-t.scrollbarXWidth),d=c/l;d<0?d=0:d>1&&(d=1),a(e,"left",(t.contentWidth-t.containerWidth)*d-t.negativeScrollAdjustment),s(e),r.stopPropagation()})}var i=e("../../lib/helper"),r=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){var t=r.get(e);n(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t){"use strict";function n(e,t){function n(n){var s=i+n*t.railXRatio,a=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);s<0?t.scrollbarXLeft=0:s>a?t.scrollbarXLeft=a:t.scrollbarXLeft=s;var o=r.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;c(e,"left",o)}var i=null,a=null,l=function(t){n(t.pageX-a),o(e),t.stopPropagation(),t.preventDefault()},d=function(){r.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarX,"mousedown",function(n){
a=n.pageX,i=r.toInt(s.css(t.scrollbarX,"left"))*t.railXRatio,r.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",d),n.stopPropagation(),n.preventDefault()})}function i(e,t){function n(n){var s=i+n*t.railYRatio,a=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);s<0?t.scrollbarYTop=0:s>a?t.scrollbarYTop=a:t.scrollbarYTop=s;var o=r.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));c(e,"top",o)}var i=null,a=null,l=function(t){n(t.pageY-a),o(e),t.stopPropagation(),t.preventDefault()},d=function(){r.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarY,"mousedown",function(n){a=n.pageY,i=r.toInt(s.css(t.scrollbarY,"top"))*t.railYRatio,r.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",d),n.stopPropagation(),n.preventDefault()})}var r=e("../../lib/helper"),s=e("../../lib/dom"),a=e("../instances"),o=e("../update-geometry"),c=e("../update-scroll");t.exports=function(e){var t=a.get(e);n(e,t),i(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t){"use strict";function n(e,t){function n(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===s&&n<0||s>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}var s=!1;t.event.bind(e,"mouseenter",function(){s=!0}),t.event.bind(e,"mouseleave",function(){s=!1});var c=!1;t.event.bind(t.ownerDocument,"keydown",function(l){if(!l.isDefaultPrevented||!l.isDefaultPrevented()){var d=r.matches(t.scrollbarX,":focus")||r.matches(t.scrollbarY,":focus");if(s||d){var u=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(u){if("IFRAME"===u.tagName)u=u.contentDocument.activeElement;else for(;u.shadowRoot;)u=u.shadowRoot.activeElement;if(i.isEditable(u))return}var h=0,p=0;switch(l.which){case 37:h=-30;break;case 38:p=30;break;case 39:h=30;break;case 40:p=-30;break;case 33:p=90;break;case 32:p=l.shiftKey?90:-90;break;case 34:p=-90;break;case 35:p=l.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:p=l.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}o(e,"top",e.scrollTop-p),o(e,"left",e.scrollLeft+h),a(e),c=n(h,p),c&&l.preventDefault()}}})}var i=e("../../lib/helper"),r=e("../../lib/dom"),s=e("../instances"),a=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){var t=s.get(e);n(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t){"use strict";function n(e,t){function n(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var s=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===s&&n<0||s>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function i(e){var t=e.deltaX,n=-1*e.deltaY;return"undefined"!=typeof t&&"undefined"!=typeof n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),[t,n]}function a(t,n){var i=e.querySelector("textarea:hover, .ps-child:hover");if(i){if("TEXTAREA"!==i.tagName&&!window.getComputedStyle(i).overflow.match(/(scroll|auto)/))return!1;var r=i.scrollHeight-i.clientHeight;if(r>0&&!(0===i.scrollTop&&n>0||i.scrollTop===r&&n<0))return!0;var s=i.scrollLeft-i.clientWidth;if(s>0&&!(0===i.scrollLeft&&t<0||i.scrollLeft===s&&t>0))return!0}return!1}function o(o){var l=i(o),d=l[0],u=l[1];a(d,u)||(c=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(u?s(e,"top",e.scrollTop-u*t.settings.wheelSpeed):s(e,"top",e.scrollTop+d*t.settings.wheelSpeed),c=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(d?s(e,"left",e.scrollLeft+d*t.settings.wheelSpeed):s(e,"left",e.scrollLeft-u*t.settings.wheelSpeed),c=!0):(s(e,"top",e.scrollTop-u*t.settings.wheelSpeed),s(e,"left",e.scrollLeft+d*t.settings.wheelSpeed)),r(e),c=c||n(d,u),c&&(o.stopPropagation(),o.preventDefault()))}var c=!1;"undefined"!=typeof window.onwheel?t.event.bind(e,"wheel",o):"undefined"!=typeof window.onmousewheel&&t.event.bind(e,"mousewheel",o)}var i=e("../instances"),r=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){var t=i.get(e);n(e,t)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t){"use strict";function n(e,t){t.event.bind(e,"scroll",function(){r(e)})}var i=e("../instances"),r=e("../update-geometry");t.exports=function(e){var t=i.get(e);n(e,t)}},{"../instances":18,"../update-geometry":19}],15:[function(e,t){"use strict";function n(e,t){function n(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function o(){l||(l=setInterval(function(){return r.get(e)?(a(e,"top",e.scrollTop+d.top),a(e,"left",e.scrollLeft+d.left),void s(e)):void clearInterval(l)},50))}function c(){l&&(clearInterval(l),l=null),i.stopScrolling(e)}var l=null,d={top:0,left:0},u=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(n())?u=!0:(u=!1,c())}),t.event.bind(window,"mouseup",function(){u&&(u=!1,c())}),t.event.bind(window,"mousemove",function(t){if(u){var n={x:t.pageX,y:t.pageY},r={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};n.x<r.left+3?(d.left=-5,i.startScrolling(e,"x")):n.x>r.right-3?(d.left=5,i.startScrolling(e,"x")):d.left=0,n.y<r.top+3?(r.top+3-n.y<5?d.top=-5:d.top=-20,i.startScrolling(e,"y")):n.y>r.bottom-3?(n.y-r.bottom+3<5?d.top=5:d.top=20,i.startScrolling(e,"y")):d.top=0,0===d.top&&0===d.left?c():o()}})}var i=e("../../lib/helper"),r=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){var t=r.get(e);n(e,t)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t){"use strict";function n(e,t,n,i){function o(n,i){var r=e.scrollTop,s=e.scrollLeft,a=Math.abs(n),o=Math.abs(i);if(o>a){if(i<0&&r===t.contentHeight-t.containerHeight||i>0&&0===r)return!t.settings.swipePropagation}else if(a>o&&(n<0&&s===t.contentWidth-t.containerWidth||n>0&&0===s))return!t.settings.swipePropagation;return!0}function c(t,n){a(e,"top",e.scrollTop-n),a(e,"left",e.scrollLeft-t),s(e)}function l(){w=!0}function d(){w=!1}function u(e){return e.targetTouches?e.targetTouches[0]:e}function h(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function p(e){if(h(e)){_=!0;var t=u(e);g.pageX=t.pageX,g.pageY=t.pageY,b=(new Date).getTime(),null!==y&&clearInterval(y),e.stopPropagation()}}function f(e){if(!_&&t.settings.swipePropagation&&p(e),!w&&_&&h(e)){var n=u(e),i={pageX:n.pageX,pageY:n.pageY},r=i.pageX-g.pageX,s=i.pageY-g.pageY;c(r,s),g=i;var a=(new Date).getTime(),l=a-b;l>0&&(v.x=r/l,v.y=s/l,b=a),o(r,s)&&(e.stopPropagation(),e.preventDefault())}}function m(){!w&&_&&(_=!1,clearInterval(y),y=setInterval(function(){return r.get(e)?Math.abs(v.x)<.01&&Math.abs(v.y)<.01?void clearInterval(y):(c(30*v.x,30*v.y),v.x*=.8,void(v.y*=.8)):void clearInterval(y)},10))}var g={},b=0,v={},y=null,w=!1,_=!1;n&&(t.event.bind(window,"touchstart",l),t.event.bind(window,"touchend",d),t.event.bind(e,"touchstart",p),t.event.bind(e,"touchmove",f),t.event.bind(e,"touchend",m)),i&&(window.PointerEvent?(t.event.bind(window,"pointerdown",l),t.event.bind(window,"pointerup",d),t.event.bind(e,"pointerdown",p),t.event.bind(e,"pointermove",f),t.event.bind(e,"pointerup",m)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",l),t.event.bind(window,"MSPointerUp",d),t.event.bind(e,"MSPointerDown",p),t.event.bind(e,"MSPointerMove",f),t.event.bind(e,"MSPointerUp",m)))}var i=e("../../lib/helper"),r=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){if(i.env.supportsTouch||i.env.supportsIePointer){var t=r.get(e);n(e,t,i.env.supportsTouch,i.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t){"use strict";var n=e("../lib/helper"),i=e("../lib/class"),r=e("./instances"),s=e("./update-geometry"),a={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},o=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},i.add(e,"ps-container");var c=r.add(e);c.settings=n.extend(c.settings,t),i.add(e,"ps-theme-"+c.settings.theme),c.settings.handlers.forEach(function(t){a[t](e)}),o(e),s(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,n){"use strict";function i(e){function t(){c.add(e,"ps-focus")}function n(){c.remove(e,"ps-focus")}var i=this;i.settings=o.clone(l),i.containerWidth=null,i.containerHeight=null,i.contentWidth=null,i.contentHeight=null,i.isRtl="rtl"===d.css(e,"direction"),i.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),i.negativeScrollAdjustment=i.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.event=new u,i.ownerDocument=e.ownerDocument||document,i.scrollbarXRail=d.appendTo(d.e("div","ps-scrollbar-x-rail"),e),i.scrollbarX=d.appendTo(d.e("div","ps-scrollbar-x"),i.scrollbarXRail),i.scrollbarX.setAttribute("tabindex",0),i.event.bind(i.scrollbarX,"focus",t),i.event.bind(i.scrollbarX,"blur",n),i.scrollbarXActive=null,i.scrollbarXWidth=null,i.scrollbarXLeft=null,i.scrollbarXBottom=o.toInt(d.css(i.scrollbarXRail,"bottom")),i.isScrollbarXUsingBottom=i.scrollbarXBottom===i.scrollbarXBottom,i.scrollbarXTop=i.isScrollbarXUsingBottom?null:o.toInt(d.css(i.scrollbarXRail,"top")),i.railBorderXWidth=o.toInt(d.css(i.scrollbarXRail,"borderLeftWidth"))+o.toInt(d.css(i.scrollbarXRail,"borderRightWidth")),d.css(i.scrollbarXRail,"display","block"),i.railXMarginWidth=o.toInt(d.css(i.scrollbarXRail,"marginLeft"))+o.toInt(d.css(i.scrollbarXRail,"marginRight")),d.css(i.scrollbarXRail,"display",""),i.railXWidth=null,i.railXRatio=null,i.scrollbarYRail=d.appendTo(d.e("div","ps-scrollbar-y-rail"),e),i.scrollbarY=d.appendTo(d.e("div","ps-scrollbar-y"),i.scrollbarYRail),i.scrollbarY.setAttribute("tabindex",0),i.event.bind(i.scrollbarY,"focus",t),i.event.bind(i.scrollbarY,"blur",n),i.scrollbarYActive=null,i.scrollbarYHeight=null,i.scrollbarYTop=null,i.scrollbarYRight=o.toInt(d.css(i.scrollbarYRail,"right")),i.isScrollbarYUsingRight=i.scrollbarYRight===i.scrollbarYRight,i.scrollbarYLeft=i.isScrollbarYUsingRight?null:o.toInt(d.css(i.scrollbarYRail,"left")),i.scrollbarYOuterWidth=i.isRtl?o.outerWidth(i.scrollbarY):null,i.railBorderYWidth=o.toInt(d.css(i.scrollbarYRail,"borderTopWidth"))+o.toInt(d.css(i.scrollbarYRail,"borderBottomWidth")),d.css(i.scrollbarYRail,"display","block"),i.railYMarginHeight=o.toInt(d.css(i.scrollbarYRail,"marginTop"))+o.toInt(d.css(i.scrollbarYRail,"marginBottom")),d.css(i.scrollbarYRail,"display",""),i.railYHeight=null,i.railYRatio=null}function r(e){return e.getAttribute("data-ps-id")}function s(e,t){e.setAttribute("data-ps-id",t)}function a(e){e.removeAttribute("data-ps-id")}var o=e("../lib/helper"),c=e("../lib/class"),l=e("./default-setting"),d=e("../lib/dom"),u=e("../lib/event-manager"),h=e("../lib/guid"),p={};n.add=function(e){var t=h();return s(e,t),p[t]=new i(e),p[t]},n.remove=function(e){delete p[r(e)],a(e)},n.get=function(e){return p[r(e)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t){"use strict";function n(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function i(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,a.css(t.scrollbarXRail,n);var i={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft,a.css(t.scrollbarYRail,i),a.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),a.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var r=e("../lib/helper"),s=e("../lib/class"),a=e("../lib/dom"),o=e("./instances"),c=e("./update-scroll");t.exports=function(e){var t=o.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var l;e.contains(t.scrollbarXRail)||(l=a.queryChildren(e,".ps-scrollbar-x-rail"),l.length>0&&l.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(l=a.queryChildren(e,".ps-scrollbar-y-rail"),l.length>0&&l.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=n(t,r.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=r.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=n(t,r.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=r.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),i(e,t),t.scrollbarXActive?s.add(e,"ps-active-x"):(s.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,c(e,"left",0)),t.scrollbarYActive?s.add(e,"ps-active-y"):(s.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,c(e,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t){"use strict";var n,i,r=e("./instances"),s=document.createEvent("Event"),a=document.createEvent("Event"),o=document.createEvent("Event"),c=document.createEvent("Event"),l=document.createEvent("Event"),d=document.createEvent("Event"),u=document.createEvent("Event"),h=document.createEvent("Event"),p=document.createEvent("Event"),f=document.createEvent("Event");s.initEvent("ps-scroll-up",!0,!0),a.initEvent("ps-scroll-down",!0,!0),o.initEvent("ps-scroll-left",!0,!0),c.initEvent("ps-scroll-right",!0,!0),l.initEvent("ps-scroll-y",!0,!0),d.initEvent("ps-scroll-x",!0,!0),u.initEvent("ps-x-reach-start",!0,!0),h.initEvent("ps-x-reach-end",!0,!0),p.initEvent("ps-y-reach-start",!0,!0),f.initEvent("ps-y-reach-end",!0,!0),t.exports=function(e,t,m){if("undefined"==typeof e)throw"You must provide an element to the update-scroll function";if("undefined"==typeof t)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof m)throw"You must provide a value to the update-scroll function";"top"===t&&m<=0&&(e.scrollTop=m=0,e.dispatchEvent(p)),"left"===t&&m<=0&&(e.scrollLeft=m=0,e.dispatchEvent(u));var g=r.get(e);"top"===t&&m>=g.contentHeight-g.containerHeight&&(m=g.contentHeight-g.containerHeight,m-e.scrollTop<=1?m=e.scrollTop:e.scrollTop=m,e.dispatchEvent(f)),"left"===t&&m>=g.contentWidth-g.containerWidth&&(m=g.contentWidth-g.containerWidth,m-e.scrollLeft<=1?m=e.scrollLeft:e.scrollLeft=m,e.dispatchEvent(h)),n||(n=e.scrollTop),i||(i=e.scrollLeft),"top"===t&&m<n&&e.dispatchEvent(s),"top"===t&&m>n&&e.dispatchEvent(a),"left"===t&&m<i&&e.dispatchEvent(o),"left"===t&&m>i&&e.dispatchEvent(c),"top"===t&&(e.scrollTop=n=m,e.dispatchEvent(l)),"left"===t&&(e.scrollLeft=i=m,e.dispatchEvent(d))}},{"./instances":18}],21:[function(e,t){"use strict";var n=e("../lib/helper"),i=e("../lib/dom"),r=e("./instances"),s=e("./update-geometry"),a=e("./update-scroll");t.exports=function(e){var t=r.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.css(t.scrollbarXRail,"display","block"),i.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=n.toInt(i.css(t.scrollbarXRail,"marginLeft"))+n.toInt(i.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=n.toInt(i.css(t.scrollbarYRail,"marginTop"))+n.toInt(i.css(t.scrollbarYRail,"marginBottom")),i.css(t.scrollbarXRail,"display","none"),i.css(t.scrollbarYRail,"display","none"),s(e),a(e,"top",e.scrollTop),a(e,"left",e.scrollLeft),i.css(t.scrollbarXRail,"display",""),i.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e,e.document)}):"undefined"!=typeof module&&module.exports?module.exports=t(e,e.document):e.Shake=t(e,e.document)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(n){if(this.hasDeviceMotion="ondevicemotion"in e,this.options={threshold:15,timeout:1e3},"object"==typeof n)for(var i in n)n.hasOwnProperty(i)&&(this.options[i]=n[i]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof t.CustomEvent)this.event=new t.CustomEvent("shake",{bubbles:!0,cancelable:!0});else{if("function"!=typeof t.createEvent)return!1;this.event=t.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return n.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},n.prototype.start=function(){this.reset(),this.hasDeviceMotion&&e.addEventListener("devicemotion",this,!1)},n.prototype.stop=function(){this.hasDeviceMotion&&e.removeEventListener("devicemotion",this,!1),this.reset()},n.prototype.devicemotion=function(t){var n,i,r=t.accelerationIncludingGravity,s=0,a=0,o=0;return null===this.lastX&&null===this.lastY&&null===this.lastZ?(this.lastX=r.x,this.lastY=r.y,void(this.lastZ=r.z)):(s=Math.abs(this.lastX-r.x),a=Math.abs(this.lastY-r.y),o=Math.abs(this.lastZ-r.z),(s>this.options.threshold&&a>this.options.threshold||s>this.options.threshold&&o>this.options.threshold||a>this.options.threshold&&o>this.options.threshold)&&(n=new Date,i=n.getTime()-this.lastTime.getTime(),i>this.options.timeout&&(e.dispatchEvent(this.event),this.lastTime=new Date)),this.lastX=r.x,this.lastY=r.y,void(this.lastZ=r.z))},n.prototype.handleEvent=function(e){if("function"==typeof this[e.type])return this[e.type](e)},n}),void function(e){var t="2.0.4",n=e.AV||{};e.AV=n,"function"==typeof define&&define.amd&&define("AV",[],function(){return n});var i={heartbeatsTime:3e4},r={},s={},a={open:"open",close:"close",message:"message",reuse:"reuse",error:"error"},o=function(){var t={options:void 0,ws:void 0,heartbeatsTimer:void 0,ec:void 0,closeFlag:!1,reuseTimer:void 0},n=function(){r.log("WebSocket opened."),s.loginPush(t.options),s.heartbeats(),s.guard(),t.ec.emit(a.open)},o=function(){r.log("WebSocket closed."),t.ec.emit(a.close)},c=function(e){var n=JSON.parse(e.data);if("data"===n.cmd){s.ackPush(n.ids);var i,r=n.msg.length;for(i=0;i<r;i++)t.ec.emit(a.message,n.msg[i])}},l=function(e){throw e},d=function(e){t.ws.send(JSON.stringify(e))},u=function(e,t,n){var i=[];"string"==typeof e?i.push(e):i=e,s.channels(i,t,n)};return s.getId=function(e){var t="AV/"+e.appId+"/installationId",n=r.storage(t);return n?n:(id=r.getId(),e.id=id,s.sendId(e,function(){r.storage(t,id)}),id)},s.sendId=function(e,n){r.ajax({url:"https://"+t.options.host+"/1.1/installations",method:"post",appId:e.appId,appKey:e.appKey,data:{deviceType:e.deviceType,installationId:e.id,channels:e.channels}},function(i){i?n&&(n(i),t.ec.emit("leancloud-send-id-ok")):setTimeout(function(){s.sendId(e)},5e3)})},s.sendPush=function(e,n){r.ajax({url:"https://"+t.options.host+"/1.1/push",method:"post",appId:e.appId,appKey:e.appKey,data:e},function(t,i){if(t)n&&n(t);else{if(403===i.code||404===i.code)throw i.error;setTimeout(function(){s.sendPush(e,n)},5e3)}})},s.channels=function(e,n,i){var s={installationId:t.options.id,deviceType:t.options.deviceType};i?s.channels={__op:"Remove",objects:e}:s.channels=e,r.ajax({url:"https://"+t.options.host+"/1.1/installations",method:"post",appId:t.options.appId,appKey:t.options.appKey,data:s},function(e){n&&n(e)})},s.createSocket=function(e){var i=new WebSocket(e);t.ws=i,i.addEventListener("open",n),i.addEventListener("close",o),i.addEventListener("message",c),i.addEventListener("error",l)},s.heartbeats=function(){d({}),t.ws.addEventListener("message",function(){t.heartbeatsTimer&&clearTimeout(t.heartbeatsTimer),t.heartbeatsTimer=setTimeout(function(){d({})},i.heartbeatsTime)})},s.guard=function(){t.ec.on(a.close,function(){t.closeFlag||t.ec.emit(a.reuse)})},s.connect=function(e){var n=e.server;if(!(n&&r.now()<n.expires))throw t.ec.emit(a.error),"WebSocket connet failed.";s.createSocket(n.server)},s.ackPush=function(e){d({cmd:"ack",appId:t.options.appId,installationId:t.options.id,ids:e})},s.loginPush=function(e){d({cmd:"login",appId:e.appId,installationId:e.id})},s.getServer=function(n,i){var s=n.appId,o=n.secure,c="",l="http://";e&&"https:"===e.location.protocol&&(l="https://");var d="";switch(n.region){case"cn":d="g0";break;case"us":d="a0";break;default:throw"There is no this region."}c=l+"router-"+d+"-push.leancloud.cn/v1/route?appId="+s,o&&(c+="&secure=1"),r.ajax({url:c},function(e,n){if(e)e.expires=r.now()+1e3*e.ttl,t.server=e,i(e);else{if(403===n.code||404===n.code)throw n.error;t.ec.emit(a.error)}})},{installationId:"",cache:t,open:function(e){var n=this;return s.getServer(t.options,function(e){e&&s.connect({server:t.server})}),e&&t.ec.on(a.open,e),t.ec.once(a.reuse+" "+a.error,function(){t.reuseTimer&&clearTimeout(t.reuseTimer),t.reuseTimer=setTimeout(function(){n.open()},5e3)}),this},close:function(){return t.closeFlag=!0,t.ws.close(),this},on:function(e,n){return t.ec.on(e,n),this},once:function(e,n){return t.ec.once(e,n),this},off:function(e,n){return t.ec.off(e,n),this},emit:function(e,n){return t.ec.emit(e,n),this},send:function(e,n){var i={appId:t.options.appId,appKey:t.options.appKey};if(e.channels||e.where||e.expiration_time||e.expiration_interval||e.push_time||e.prod){for(var r in e)i[r]=e[r];s.sendPush(i,n)}else i.data=e,s.sendPush(i,n);return this},subscribe:function(e,t){return u(e,t),this},unsubscribe:function(e,t){return u(e,t,!0),this},receive:function(e){if(!e)throw"Receive must hava callback.";return t.ec.on(a.message,function(t){e(t)}),this}}};n.push=function(t){if("object"!=typeof t)throw"AV.push need a argument at least.";if(t.appId){if(t.appKey){var n=!e.WebSocket.loadFlashPolicyFile;switch(t={appId:t.appId,appKey:t.appKey,peerId:t.clientId,secure:"undefined"==typeof t.secure?n:t.secure,region:t.region||"cn",channels:t.channels||[],deviceType:"web"},t.region){case"cn":t.host="leancloud.cn";break;case"us":t.host="us-api.leancloud.cn"}var i=o();return i.cache.options=t,t.id=s.getId(t),i.installationId=t.id,i.cache.ec=r.eventCenter(),i}throw"Options must have appKey."}throw"Options must have appId."},n.push.version=t,n.push._tool=r,n.push._engine=s,r.noop=function(){},r.getId=function(){var e=function(){return Date.now().toString(36)+Math.random().toString(36).substring(2,3)};return"AV-"+e()+"-"+e()+"-"+e()},r.log=function(e){console.log(e)},r.ajax=function(e,t){var n=e.url,i=e.method||"get",r=new XMLHttpRequest;r.open(i,n),"post"!==i&&"put"!==i||r.setRequestHeader("Content-Type","application/json"),e.appId&&r.setRequestHeader("X-AVOSCloud-Application-Id",e.appId),e.appKey&&r.setRequestHeader("X-AVOSCloud-Application-Key",e.appKey),r.onprogress=function(){},r.ontimeout=function(){},r.timeout=0,r.onload=function(){r.status>=200&&r.status<300?t(JSON.parse(r.responseText)):t(null,JSON.parse(r.responseText))},r.onerror=function(e){throw t(null,e),"Network error."},r.send(JSON.stringify(e.data))},r.now=function(){return Date.now()},r.storage=function(t,n){if(!n){var i=e.localStorage.getItem(t);return/^[\{|\[]/.test(i)&&/[\}|\]]$/.test(i)&&(i=JSON.parse(i)),i}"object"==typeof n&&(n=JSON.stringify(n)),e.localStorage.setItem(t,n)},r.eventCenter=function(){function e(e){var t=[],n=0,i=e.length;if(i){for(;n<i;n++)e[n]&&t.push(e[n]);return t}return null}var t={},n={},i=function(e,i,r){if(!e)throw"No event name.";if(!i)throw"No callback function.";var s,a=e.split(/\s+/);s=r?n:t;for(var o=0,c=a.length;o<c;o++)a[o]&&(s[a[o]]||(s[a[o]]=[]),s[a[o]].push(i))},r=function(e,i,r){var s;if(s=r?n:t,s[e])for(var a=0,o=s[e].length;a<o;a++)if(s[e][a]===i)return void(s[e][a]=null)};return{on:function(e,t){return i(e,t),this},once:function(e,t){return i(e,t,!0),this},emit:function(i,s){if(!i)throw"No emit event name.";var a=0,o=0;if(t[i]){for(a=0,o=t[i].length;a<o;a++)t[i][a]&&t[i][a].call(this,s);t[i]=e(t[i])}if(n[i]){for(a=0,o=n[i].length;a<o;a++)n[i][a]&&(n[i][a].call(this,s),r(i,n[i][a],!0));n[i]=e(n[i])}return this},off:function(e,t){return r(e,t),this}}}}(window),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};this.Project=function(t){function i(){i.__super__.constructor.apply(this,arguments)}return e(i,t),i.configure("Project","cid","created_at","updated_at","password","access","access_token","name","icon","splash","screens_count","width","height","scale","device","model","shell_type","archived","deleted","destroyed","highlight","combo","template","wechat","duplicating","owner_id","owner_email","owner_name","owner_avatar","owner_plan","expired","validated","parent_cid","auto_scale","description","version","team_cid","slack_web_hook_url"),i.include(Spine.Model.Dirty),i.extend(Spine.Model.Ajax),i.prototype.load=function(e){return this.id=e.cid,i.__super__.load.call(this,e),this.access_token||(this.access_token=Math.uuid(33)),this.model||(this.model=this.device_model())},i.prototype.cscreens=function(){return Screen.findAllByAttribute("project_cid",this.cid)},i.prototype.cteam=function(){return Team.find(this.team_cid)},i.prototype.type=function(){return this.template?"template":this.combo?"combo":"project"},i.prototype.instanceScale=function(){return 100},i.prototype.rootScreens=function(){var e;return e=Screen.select(function(e){return function(t){return t.project_cid===e.cid&&!t.parent_cid}}(this)),e.sort(function(e,t){return e.position-t.position})},i.prototype.rootFlows=function(){var e;return e=Flow.select(function(e){return function(t){return t.project_cid===e.cid&&!t.parent_cid&&"fullview"!==t.cid}}(this)),e.sort(function(e,t){return e.position-t.position})},i.prototype.homeScreen=function(){return this.rootScreens()[0]},i.prototype.homeFlow=function(){return this.rootFlows()[0]},i.prototype.orient=function(){return"customize"===this.model||"web"===this.device?"portrait":this.width>this.height?"landscape":"portrait"},i.prototype.isPrivate=function(){return"private"===this.access},i.prototype.isPublic=function(){return"public"===this.access},i.prototype.isWeb=function(){return"web"===this.device||"none"===this.shell_type},i.prototype.isAndroid=function(){return"android"===this.device&&("customize"!==this.model||this.width<=720)},i.prototype.swidth=function(e){return e===this.orient()?this.width:this.height},i.prototype.sheight=function(e){return e===this.orient()?this.height:this.width},i.prototype.deviceShell=function(){var e;return["customize","meizu_mx3"].indexOf(this.model)!==-1||"device"!==this.shell_type?null:MB.SHELLS[this.model]||MB.SHELLS[this.device]?e=$.extend({},MB.SHELLS[this.model]||MB.SHELLS[this.device]):null},i.prototype.defaultShell=function(){var e,t,n,i,r,s;return r="none"===this.shell_type?0:21,s=this.width+2*r,i=this.height+2*r,n=this.template||this.combo||"customize"===this.model||"web"===this.device?s:Math.min(s,i),t=this.template||this.combo||"customize"===this.model||"web"===this.device?i:Math.max(s,i),e={device:"default",width:n,height:t,top:r,left:r}},i.prototype.icon_size=function(){return MB.DEVICES[this.device][this.model].icon_size},i.prototype.splash_width=function(){return MB.DEVICES[this.device][this.model].width},i.prototype.splash_height=function(){return"android"===this.device?MB.DEVICES[this.device][this.model].height:MB.DEVICES[this.device][this.model].height-20},i.prototype.shell=function(){var e,t,n,i;return i=this.deviceShell()||this.defaultShell(),t=this.homeScreen(),t&&"landscape"===t.orientation&&(e=i.height,n=i.left,i.height=i.width,i.width=e,i.left=i.top,i.top=n),i},i.prototype.os_icon=function(){return"android"===this.device?"android":"apple"},i.prototype.device_icon=function(){return"ipad"===this.device?"tablet":"mobile"},i.prototype.device_model=function(){var e,t,n,i,r;r=Math.min(this.width,this.height),e=Math.max(this.width,this.height),n=MB.DEVICES[this.device];for(t in n)if(i=n[t],r===i.width&&e===i.height)return t},i.prototype.device_name=function(){switch(this.device){case"android":return"Android";case"web":return MB.DEVICES.web.desktop.name;default:return MB.DEVICES[this.device][this.model].name}},i.prototype.hasPassword=function(){return!!this.password},i.prototype.setResolution=function(e,t){var n;if(this.width!==e||this.height!==t)return n=this.width,this.width=e,this.height=t,n?this.download(function(n){return function(){var i,r,s,a;for(s=n.cscreens(),i=0,r=s.length;i<r;i++)a=s[i],"portrait"===a.orientation?(a.width=e,a.height=t+a.height-n.height):(a.width=t,a.height=e+a.height-n.height,a.height<e&&(a.height=e)),a.lsave();return n.setComponentWidth(n.width),MB.safeLoading(I18N.in_progress),MB.triggerProgress(function(){return $("#safemode").hide()})}}(this)):this.setComponentWidth(this.width)},i.prototype.setComponentWidth=function(e){var t;return t=this.cscreens().map(function(e){return e.cid}),Widget.select(function(){return function(i){var r,s;if(("status_bar"===(r=i.name)||"navigation_bar"===r||"tab_bar"===r||"keyboard"===r)&&(s=i.screen_cid,n.call(t,s)>=0))return i.left=null,i.top=null,i.width=e,"status_bar"===i.name&&(i.height=MB.COMPONENTS[i.name].height),"keyboard"===i.name&&(i.height=i.cs().kbDH()),i.lsave()}}(this))},i.prototype.setDevice=function(e){return this.device=e,this.setup()},i.prototype.setup=function(){return"android"===this.device?this.setupAndroid():this.setupiOS()},i.prototype.setupAndroid=function(){var e;return MB.COMPONENTS.status_bar.height=23,MB.COMPONENTS.navigation_bar.top=23,MB.COMPONENTS.navigation_bar.height=55,e=document.getElementById("fontawesome"),e.style.fontFamily='"Roboto", "Noto Sans CJK SC", "Nato Sans CJK TC", "Nato Sans CJK JP", "Nato Sans CJK KR", -apple-system,".SFNSText-Regular", "Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei","WenQuanYi Zen Hei",Arial,sans-serif'},i.prototype.setupiOS=function(){var e;return MB.COMPONENTS.status_bar.height=20,MB.COMPONENTS.navigation_bar.top=20,MB.COMPONENTS.navigation_bar.height=45,e=document.getElementById("fontawesome"),e.style.fontFamily=""},i.prototype.isTeam=function(){return!1},i.prototype.collaborators=function(){return Collaborator.select(function(e){return function(t){return"MOCK"!==t.email&&(t.project_cid===e.cid||e.team_cid&&t.team_cid===e.team_cid)}}(this))},i.prototype.collaboratorByUid=function(e){var t,n,i,r;for(r=this.collaborators(),n=0,i=r.length;n<i;n++)if(t=r[n],t.user_id===e)return t;return null},i.prototype.roleByUid=function(e){var t;return e===this.owner_id?"admin":(t=this.collaboratorByUid(e),t?t.role:"none")},i.prototype.canEdit=function(){
var e;return"admin"===(e=this.roleByUid(MB.user.id))||"editor"===e},i.prototype.canAdmin=function(){return"admin"===this.roleByUid(MB.user.id)},i.prototype.isCollaborated=function(){return this.collaborators().length>1},i.prototype.leftPanelMode=function(){return localStorage[this.cid+"_leftPanelMode"]},i.prototype.rightPanelMode=function(){return localStorage[this.cid+"_rightPanelMode"]},i.prototype.setLeftPanelMode=function(e){return localStorage[this.cid+"_leftPanelMode"]=e},i.prototype.setRightPanelMode=function(e){return localStorage[this.cid+"_rightPanelMode"]=e},i.prototype.fixBadScreens=function(){return Screen.each(function(e){return function(t){var n,i;if(t.project_cid===e.cid&&(i=t.parent_cid)&&(n=Screen.find(i),!n||n&&n.project_cid!==e.cid))return MB.ga("send","event","bug","\u53d1\u73b0\u4e00\u4e2a\u9519\u4e71\u9875\u9762: "+t.cid),t.parent_cid=null,t.lsave()}}(this))},i.prototype.download=function(e,t){return this.cscreens().length>0?e():(MB.safeLoading(I18N.load_project),MB.pusher.subscribe(this.cid),$.getJSON("/templates.json",function(n){return function(i){return Template.refresh(i.templates),Combo.refresh(i.combos),Screen.refresh(i.screens),Widget.refresh(i.widgets),Link.refresh(i.links),$.ajax({type:"GET",url:"/app/"+n.access_token+".json?password="+md5(n.password),timeout:18e4,success:function(t){var i,r,s,a,o,c,l;for(o=t.templates,i=0,s=o.length;i<s;i++)l=o[i],l.consumer_cid=n.cid;for(Template.refresh(t.templates),Screen.refresh(t.screens),n.fixBadScreens(),Widget.refresh(t.widgets),Link.refresh(t.links),Panel.refresh(t.panels),ScreenAlign.refresh(t.screen_aligns),Screenstate.refresh(t.screenstates),Widgetstate.refresh(t.widgetstates),Panelstate.refresh(t.panelstates),CommentThread.refresh(t.threads),Comment.refresh(t.comments),c=t.templates,r=0,a=c.length;r<a;r++)l=c[r],MB.pusher.subscribe(l.cid);return MB.pusher.open||!n.isCollaborated()?($("#safemode").hide(),e()):($("#safemode .text").text(I18N.connect_to_push_server),MB.pusher.onOpen=function(){return $("#safemode").hide(),e()},MB.pusher.pusher.open())},error:t})}}(this)))},i.prototype.duplicate=function(e,t,n){var r,s,a,o,c,l,d,u,h,p,f,m,g,b,v,y,w,_,x,M,k,S,B,$,T,C,P,E,j,I,A,L,O,W,N,D,z,R,q,H,X,F,Y,U,V;for(null==e&&(e=!0),null==t&&(t=!1),null==n&&(n={}),P=this.template?"t":this.combo?"c":"p",s=P+Math.uuid(10,16)+(new Date).valueOf(),u=this.template?Template:this.combo?Combo:i,B="break_away"===this.behavior?this.name:this.name+I18N.name_copy,C=new u({name:B,access_token:Math.uuid(31),scale:this.scale,width:this.width,height:this.height,device:this.device,access:this.access,cid:s,icon:"/images/icon_normal.png",splash:this.splash,password:this.password,template:this.template,combo:this.combo,builtin:!1,master:!!e&&this.master,behavior:this.behavior,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),model:this.model,archived:!1,auto_scale:this.auto_scale,parent_cid:t?this.cid:null,shell_type:this.shell_type,team_cid:this.team_cid,owner_id:MB.user.id,owner_email:MB.user.email,owner_name:MB.user.name,owner_avatar:MB.user.avatar}),this.team_cid&&(C.owner_id=this.owner_id,C.owner_email=this.owner_email,C.owner_name=this.owner_name,C.owner_avatar=this.owner_avatar),C.template&&(C.host_cid=MB.project().cid),C.lsave(),q={},p={},U={},T={},H={"default":"default"},I=this.cscreens(),l=0,f=I.length;l<f;l++)R=I[l],R.parent_cid||(o=new Screen({name:R.name,project_cid:C.cid,cid:"s"+Math.uuid(10,16)+(new Date).valueOf(),orientation:R.orientation,position:R.position,expanded:R.expanded,width:R.width,height:R.height,hh:R.hh,fh:R.fh,bgcolor:R.bgcolor,bgimage:R.bgimage}),o.lsave(),q[R.cid]=o.cid);for(A=this.cscreens(),d=0,m=A.length;d<m;d++)r=A[d],r.parent_cid&&(a=new Screen({name:r.name,project_cid:C.cid,parent_cid:q[r.parent_cid],cid:"s"+Math.uuid(10,16)+(new Date).valueOf(),orientation:r.orientation,position:r.position,expanded:r.expanded,width:r.width,height:r.height,hh:r.hh,fh:r.fh,bgcolor:r.bgcolor,bgimage:r.bgimage}),a.lsave(),q[r.cid]=a.cid);for(L=this.cscreens(),M=0,g=L.length;M<g;M++)for(R=L[M],O=R.clinks(),k=0,b=O.length;k<b;k++)x=O[k],X="prev"===x.target_cid?x.target_cid:q[x.target_cid],h=new Link,h.restore(x),h.load({screen_cid:q[R.cid],target_cid:X,cid:"l"+Math.uuid(10,16)+(new Date).valueOf(),widget_cids:null,sourcestate_cid:H[x.sourcestate_cid],targetstate_cid:H[x.targetstate_cid]}),h.lsave(),p[x.cid]=h.cid;for(W=this.cscreens(),E=0,v=W.length;E<v;E++)for(R=W[E],N=R.cwidgets(),j=0,y=N.length;j<y;j++)Y=N[j],$=null,$=Link.exists(Y.gid)?p[Y.gid]:T[S=Y.gid]||(T[S]=MB.nextgid(Y.gid)),c=new Widget,c.restore(Y),c.load({screen_cid:q[R.cid],cid:"w"+Math.uuid(10,16)+(new Date).valueOf(),gid:$}),c.lsave(),this.template&&(U[Y.cid]=c.cid);if(this.template)for(D=this.cscreens(),F=0,w=D.length;F<w;F++)for(R=D[F],z=Link.findAllByAttribute("state_cid",R.cid),V=0,_=z.length;V<_;V++)x=z[V],X="prev"===x.target_cid?x.target_cid:n[x.target_cid]||x.target_cid,h=new Link,h.restore(x),h.load({screen_cid:null,state_cid:q[x.state_cid],target_cid:X,cid:"l"+Math.uuid(10,16)+(new Date).valueOf(),widget_cids:function(){var e,t,n,i;for(t=x.widget_cids.split(","),n=[],i=0,e=t.length;i<e;i++)s=t[i],n.push(U[s]);return n}().join(",")}),h.lsave();return MB.pusher.subscribe(this.cid),C},i}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Asset=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Asset","cid","sid","user_id","width","height","thumb","image","raw","name","deleted","destroyed","uri","project_cid","timestamp","size"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.createFromFiles=function(e,t){var n,i,r,s,a;if(!(MB.user.assets>104857600&&MB.promptRenew(MB.currentProject,"exceed_quota"))){for(a=[],n=i=0,r=e.length;i<r;n=++i)s=e[n],a.push(this.createFromFile(s,n+1===e.length,t));return a}},n.createFromFile=function(e,t,i){return MB.readDataURL(e,function(r,s,a){var o;if(o=new n({cid:"i"+Math.uuid(10,16)+(new Date).valueOf(),user_id:MB.user.id,raw:r,name:e.name,width:s,height:a,thumb:r,deleted:!1,project_cid:MB.project().cid,timestamp:(new Date).valueOf()}),o.lsave(),MB.user.assets+=e.size,$("body").trigger("queue:save"),i&&i(o),Projectasset.findByProjectAndAsset(MB.project(),o).length||Projectasset.create({project_cid:MB.project().cid,asset_id:o.sid}),t&&$("#assets_manager").is(":visible")&&MB.assetsManager)return MB.assetsManager.forceUpdate(),MB.assetsManager.handleSelect(o)})},n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e),this.sid||(this.sid=this.cid),this.scale=Math.min(158/this.width,94/this.height)},n.prototype.thumbWidth=function(){return this.width*this.scale},n.prototype.thumbHeight=function(){return!this.height||this.height<94?this.height:this.height*this.scale},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Assettag=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Assettag","cid","tag","asset_cids"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e),this.asset_cids||(this.asset_cids=""),this.assets_count=this.cids().length},n.prototype.cids=function(){var e,t,n,i,r;for(i=this.asset_cids.split(","),r=[],t=0,n=i.length;t<n;t++)e=i[t],e&&r.push(e);return r},n.prototype.addAsset=function(e){var t;return t=this.cids(),t.push(e),this.asset_cids=t.join(","),this.lsave()},n.prototype.removeAsset=function(e){var t,n;return t=this.cids(),n=t.indexOf(e),t.splice(n,1),this.asset_cids=t.join(","),this.lsave()},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.CoWorker=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("CoWorker","name","avatar","screen_cid","last_seen"),n.prototype.load=function(e){return n.__super__.load.call(this,e)},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Collaborator=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Collaborator","name","email","role","project_cid","avatar","cid","team_cid","user_id"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e)},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Colorset=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Colorset","cid","name","index","tc","sc","bg","ds","bc","o","ls","bs","fs","is","br","ro","lh","ha","va","ts","tsc","bo","i","td","clip"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.attrs=["bg","tc","bc","sc","ds","o","ls","bs","fs","ha","va","is","lh","ro","ts","tsc","bo","i","td","clip"],n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e)},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Combo=function(t){function n(){n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Project","cid","created_at","updated_at","password","access","access_token","name","icon","splash","screens_count","width","height","scale","device","model","shell_type","archived","deleted","destroyed","highlight","combo","template","wechat","owner_id","owner_email","owner_name","owner_avatar","owner_plan","expired","validated","parent_cid","auto_scale","description","version","builtin"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e),this.access_token||(this.access_token=Math.uuid(33)),this.model||(this.model=this.device_model())},n.prototype.swidth=function(){return this.width},n.prototype.sheight=function(){return this.height},n.prototype.instanceScale=function(e){var t,n,i;return(n=MB.DEVICES[this.device][this.model])?(t=n.width,i=this.auto_scale?100*e/t:100):100},n.prototype.orient=function(){return"portrait"},n.prototype.updatePanelSize=function(e,t){var n,i,r,s,a,o,c,l;for(o=Panel.findAllByAttribute("template_cid",this.cid),n=0,r=o.length;n<r;n++)a=o[n],a.height=t,a.width===this.width&&(a.width=e),a.lsave();for(c=this.cscreens(),i=0,s=c.length;i<s;i++)l=c[i],l.height=t,l.width=e,l.lsave();return this.height=t,this.width=e,this.lsave()},n}(Project)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.CommentThread=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("CommentThread","cid","screen_cid","user_id","created_at","updated_at","left","top"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e)},n.prototype.s=function(){return $("body").data("scale")},n.prototype.getLeft=function(){return(this.left||0)*this.s()/100},n.prototype.getTop=function(){return(this.top||0)*this.s()/100},n.prototype.setLeft=function(e){return this.left=Math.round(100*e/this.s())},n.prototype.setTop=function(e){return this.top=Math.round(100*e/this.s())},n}(Spine.Model),this.Comment=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Comment","cid","thread_cid","user_id","created_at","updated_at","message"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e)},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Flow=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Flow","cid","project_cid","name","parent_cid","position","expanded"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.fullView=function(){return this.find("fullview")||this.createFullView()},n.createFullView=function(){var e,t,i,r,s,a,o,c,l,d,u,h,p;for(i=new n({cid:"fullview",project_cid:MB.project().cid,parent_cid:null,name:"Full View",position:-1e4}),i.lsave(!1),s=MB.project().homeScreen(),e=function(n){var i,r,s,a,o;for(r=n.children(),o=[],s=0,a=r.length;s<a;s++)i=r[s],t.push(i),o.push(e(i));return o},t=[],u=MB.project().rootScreens(),o=0,l=u.length;o<l;o++)h=u[o],t.push(h),e(h);for(p=Math.floor(Math.sqrt(t.length)),a=c=0,d=t.length;c<d;a=++c)h=t[a],r=new Flowscreen({cid:"fs"+h.cid,flow_cid:i.cid,screen_cid:h.cid,root:s.cid===h.cid,level:Math.floor(a/p)+1,position:a%p+1}),r.lsave(!1);return i},n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e),this.expanded||(this.expanded=!1),this.parent_cid||(this.parent_cid=null)},n.prototype.expandClass=function(){return this.expanded?"expanded":""},n.prototype.cp=function(){return Project.find(this.project_cid)},n.prototype.children=function(){var e,t;return e=this.cid,t=n.select(function(t){return t.parent_cid===e}),t.sort(function(e,t){return e.position-t.position})},n.prototype.rootScreen=function(){var e,t,n,i;for(i=Flowscreen.all(),t=0,n=i.length;t<n;t++)if(e=i[t],e.root&&e.flow_cid===this.cid)return e;return null},n.prototype.rootScreens=function(){var e;return e=this.cid,Flowscreen.select(function(t){return 1===t.level&&t.flow_cid===e})},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Flowscreen=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Flowscreen","cid","flow_cid","screen_cid","level","position","root","top"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e),this.level||(this.level=1)},n.prototype.cscreen=function(){return Screen.find(this.screen_cid)},n.prototype.children=function(){var e,t,i;return i=this.level,e=this.flow_cid,t=n.select(function(t){return 1===t.position&&t.level===i+1&&t.flow_cid===e}),t.sort(function(e,t){return e.position-t.position})},n.prototype.cf=function(){return Flow.find(this.flow_cid)},n.prototype._w=function(){return this.cscreen()?this.cscreen().dW():this.cf().cp().width},n.prototype._h=function(){return this.cscreen()?this.cscreen().dH():this.cf().cp().height},n.prototype.w=function(){return this._w()*MB.flowScale/100},n.prototype.h=function(){return this._h()*MB.flowScale/100},n.prototype.l=function(){return this.level},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Link=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Link","cid","target_cid","screen_cid","transition","gesture","destroyed","timer","left","right","top","bottom","width","height","state_cid","widget_cids","menu_offset","timestamp","targetstate_cid","sourcestate_cid","ani_duration","easing","ani_delay","reset"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){var t;return this.id=e.cid,n.__super__.load.call(this,e),this.panel_cid="",this.widget_cids||(this.widget_cids=""),this.menu_offset||(this.menu_offset=75),this.ani_duration||(this.ani_duration=this.targetstate_cid?"0.4s":"0.2s"),this.ani_delay||(this.ani_delay=""),this.easing||(this.easing="linear"),this.sourcestate_cid||(this.sourcestate_cid="default"),this.targetstate_cid||(this.targetstate_cid=null),t=Screen.find(this.target_cid),t&&t.cp()?this.template=t.cp().template:this.template=!1},n.prototype.cs=function(){return Screen.find(this.screen_cid)},n.prototype.cwidgets=function(){var e,t,n,i,r,s,a;if(MB.linkCaches||(MB.linkCaches={}),n=this.cs()?this.cid+this.cs().state_cid:this.cid,MB.linkCaches[n])return MB.linkCaches[n];if(a=[],this.state_cid||(a=Widget.findAllByAttribute("gid",this.cid),a=a.concat(Panel.findAllByAttribute("gid",this.cid))),0===a.length)for(r=this.widget_cids.split(","),t=0,i=r.length;t<i;t++)e=r[t],s=Widget.find(e)||Panel.find(e),s&&a.push(s);return MB.linkCaches[n]=a,a},n.prototype.delay=function(){return this.ani_duration},n.prototype.restore=function(e){return this.transition=e.transition,this.timer=e.timer,this.menu_offset=e.menu_offset,this.gesture=e.gesture,this.ani_duration=e.ani_duration,this.ani_delay=e.ani_delay,this.target_cid=e.target_cid,this.targetstate_cid=e.targetstate_cid},n.prototype.reload=function(){return this.left=this.top=null,this.lsave(!1)},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Panel=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Panel","cid","screen_cid","template_cid","top","left","width","height","name","gid","behavior","z","timestamp","v","fixed","fixed_type","main_state_cid","screenstate_cid","locked","timerFired"),n.include(Spine.Model.Dirty),n.include(Spine.Model.State),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return this.id=e.cid,this.moveable=!0,this.gestureable=!0,this.name="panel",n.__super__.load.call(this,e),this.timestamp||(this.timestamp=MB.lastTimestamp()),this.timestamp>MB.maxTimestamp&&(MB.maxTimestamp=this.timestamp),this.zoomable="e,w,n,s",0!==this.z&&(this.z||(this.z=5)),this.ro=0,this.v!==!1&&(this.v||(this.v=!0)),this.locked||(this.locked=!1),this.fixed||(this.fixed=!1),this.fixed_type||(this.fixed_type=1),this.o||(this.o=100),this.main_state_cid||(this.main_state_cid=null),this.screenstate_cid||(this.screenstate_cid="default")},n.prototype.getState=function(e){var t;return t=Panelstate.find(e+this.cid),t||new Panelstate({cid:e+this.cid,screenstate_cid:e,panel_cid:this.cid}).restore(this)},n.ATTRS=["top","left","width","height","v","fixed","fixed_type","z","gid","behavior","template_cid","timestamp","main_state_cid","locked"],n.prototype.restore=function(e){var t,i,r,s;for(e.screen_cid&&(this.screen_cid=e.screen_cid),s=n.ATTRS,i=0,r=s.length;i<r;i++)t=s[i],this[t]=e[t];return this},n.prototype.equals=function(e){var t,i,r,s;for(s=n.ATTRS,i=0,r=s.length;i<r;i++)if(t=s[i],this[t]!==e[t])return!1;return!0},n.prototype.ct=function(){return Template.find(this.template_cid)},n.prototype.states=function(){var e,t,n,i,r;for(n=this.ct().cscreens(),i=[],e=0,t=n.length;e<t;e++)r=n[e],r.panel_cid=this.cid,i.push(r);return i},n.prototype.mainState=function(){var e;return e=Screen.find(this.main_state_cid),e&&e.project_cid===this.template_cid?e:this.ct().homeScreen()},n.prototype.l=function(){return this.left*this.s()/100},n.prototype.t=function(){return this.top*this.s()/100},n.prototype.w=function(){return this.width*this.s()/100},n.prototype.h=function(){return this.height*this.s()/100},n.prototype.r=function(){return this.l()+this.w()},n.prototype.b=function(){return this.t()+this.h()},n.prototype.bR=function(){return 0},n.prototype._setAttr=function(e,t,n){if(this[e]=100*t/this.s(),this[n]()<t&&(this[e]+=1),this[n]()>t)return this[e]-=1},n.prototype.setL=function(e){return this._setAttr("left",e,"l")},n.prototype.setT=function(e){return this._setAttr("top",e,"t")},n.prototype.setW=function(e){return this._setAttr("width",e,"w")},n.prototype.setH=function(e){return this._setAttr("height",e,"h")},n.prototype.s=function(){return $("body").data("scale")},n.prototype.inspectables=function(){return["states","left","top","width","height","fixed","fixed_type","v","main_state_cid","locked"]},n.prototype.cs=function(){return this._cs||(this._cs=Screen.find(this.screen_cid))},n.prototype.isFooter=function(){return!1},n.prototype.inScreen=function(){return this.r()>0&&this.l()<this.cs().w()},n.prototype.inHeader=function(){return this.b()<=this.cs().headerHeight()},n.prototype.inFooter=function(){return this.t()>=this.cs().footerTop()&&this.t()<=this.cs().h()},n.prototype.isContainer=function(){return!1},n.prototype.valid=function(){var e;return e=Template.find(this.template_cid),!(!e||!e.cscreens().length)||(this.ldestroy(),!1)},n.prototype.minWidthS=function(){return 0},n.prototype.minHeightS=function(){return 0},n.prototype.isBottomFixed=function(e){return parseInt(this.fixed_type)===Widget.FIX_TYPE.bottom||this.fixed_type===Widget.FIX_TYPE.auto&&this.t()>e.h()-e.dH()/2},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Panelstate=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Panelstate","screen_cid","cid","template_cid","top","left","width","height","name","gid","behavior","z","timestamp","v","fixed","fixed_type","main_state_cid","screenstate_cid","panel_cid","locked"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){if(n.__super__.load.call(this,e),"default"!==this.screenstate_cid)return this.screen_cid=null},n}(Panel)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Preference=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Preference","cid","gt","gl","asset","at","al","rt","rl","link_line","grid","ct","cl","pt","pl","ruler","app_order"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return n.__super__.load.call(this,e),this.states=!0},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Projectasset=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Projectasset","project_cid","asset_id"),n.findByProjectAndAsset=function(e,t){return this.select(function(n){return n.project_cid===e.cid&&(n.asset_id===t.sid||n.asset_id===t.cid)})},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Screen=function(t){function n(){n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Screen","cid","name","orientation","position","project_cid","parent_cid","expanded","height","hh","fh","bgcolor","bgimage","width","state_cid","artboard_id","artboard_asset_id"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){if(this.id=e.cid,n.__super__.load.call(this,e),this.project_cid)return this.height||(this.height=this.cp().sheight(this.orientation||this.orient())),this.width||(this.width=this.cp().swidth(this.orientation||this.orient())),this.bgcolor||(this.bgcolor="#F0F0F2"),this.state_cid||(this.state_cid="default")},n.prototype.device=function(){return this.cp().device},n.prototype.scale=function(){return this.cp().scale},n.prototype.orient=function(){return"customize"===this.cp().model?this.width&&this.cp().width!==this.width?"landscape":"portrait":this.orientation.toLowerCase()},n.prototype.h=function(){return Math.round(this.height*MB.scale()/100)},n.prototype.w=function(){return Math.round(this.width*MB.scale()/100)},n.prototype.cp=function(){return Project.find(this.project_cid)||Template.find(this.project_cid)||Combo.find(this.project_cid)},n.prototype.cwidgets=function(){return Widget.findAllByAttribute("screen_cid",this.cid).sort(function(e,t){return e.timestamp-t.timestamp})},n.prototype.cpanels=function(){return Panel.findAllByAttribute("screen_cid",this.cid).sort(function(e,t){return e.timestamp-t.timestamp})},n.prototype.cscreenstates=function(){return Screenstate.findAllByAttribute("screen_cid",this.cid).sort(function(e,t){return e.timestamp-t.timestamp})},n.prototype.citems=function(){var e,t;return t=Widget.findAllByAttribute("screen_cid",this.cid),e=Panel.findAllByAttribute("screen_cid",this.cid),t.concat(e).sort(function(e,t){return e.z!==t.z?e.z-t.z:e.timestamp-t.timestamp})},n.prototype.citemsByTop=function(){var e,t;return t=Widget.findAllByAttribute("screen_cid",this.cid),e=Panel.findAllByAttribute("screen_cid",this.cid),t.concat(e).sort(function(e,t){return e.t()-t.t()||e.z-t.z||e.timestamp-t.timestamp})},n.prototype.clinks=function(){return Link.select(function(e){return function(t){return t.screen_cid===e.cid&&!t.state_cid}}(this))},n.prototype.children=function(){var e,t;return e=this.cid,t=n.select(function(t){return t.parent_cid===e}),t.sort(function(e,t){return e.position-t.position})},n.prototype.getState=function(e){return Screenstate.find(e)||new Screenstate({cid:e})},n.prototype.setState=function(e,t){var n,i;if(e!==this.state_cid)return n=this.getState(this.cid+"default"),"default"===this.state_cid&&(n.hh=this.hh,n.fh=this.fh,n.lsave(!1)),this.state_cid=e,i=this.getState(e),this.hh=i.hh||0===i.hh?i.hh:n.hh,this.fh=i.fh||0===i.fh?i.fh:n.fh,t?this.lsave(!1):void 0},n.prototype.setOrientation=function(e){return this.orientation=e,this.height=this.cp().sheight(e),this.width=this.cp().swidth(e)},n.prototype.setup=function(e){var t;if(!("none"===this.cp().shell_type&&this.width>720))return t=new Widget({name:"status_bar",text:MB.COMPONENTS.status_bar.text,left:null,top:null,width:this.width,height:MB.COMPONENTS.status_bar.height,screen_cid:this.cid,cid:"w"+Math.uuid(10,16)+(new Date).valueOf()}),t.lsave(),e?(t=new Widget({name:"navigation_bar",left:null,top:null,height:MB.COMPONENTS.navigation_bar.height,text:e,width:this.width,screen_cid:this.cid,cid:"w"+Math.uuid(10,16)+(new Date).valueOf()}),t.lsave()):void 0},n.prototype.maxWidgetHeight=function(){var e,t,n,i,r;for(e=0,i=this.citems(),t=0,n=i.length;t<n;t++)r=i[t],!r.isFooter()&&!r.inFooter()&&e<r.b()&&r.inScreen()&&(e=r.b());return e+=this.footerHeight(),100*e/MB.scale()},n.prototype.maxZ=function(){var e,t;return t=-(1/0),e=!0,Widget.select(function(n){return function(i){return i.screen_cid===n.cid&&"sticky"!==i.name&&(t=Math.max(t,i.z),e=!1),!1}}(this)),Panel.select(function(n){return function(i){return i.screen_cid===n.cid&&"sticky"!==i.name&&(t=Math.max(t,i.z),e=!1),!1}}(this)),e?5:t},n.prototype.minZ=function(){var e,t;return t=1/0,e=!0,Widget.select(function(n){return function(i){return i.screen_cid===n.cid&&"sticky"!==i.name&&(e=!1,t=Math.min(t,i.z)),!1}}(this)),Panel.select(function(n){return function(i){return i.screen_cid===n.cid&&"sticky"!==i.name&&(e=!1,t=Math.min(t,i.z)),!1}}(this)),e?5:t},n.prototype.widgetsByName=function(){var e,t,n,i;if(!this._widgetsByName)for(this._widgetsByName={},n=this.cwidgets(),e=0,t=n.length;e<t;e++)i=n[e],this._widgetsByName[i.name]=i;return this._widgetsByName},n.prototype.sb=function(){return this.widgetsByName().status_bar},n.prototype.tb=function(){return this.widgetsByName().tab_bar},n.prototype.nb=function(){return this.widgetsByName().navigation_bar},n.prototype.kb=function(){return this.widgetsByName().keyboard},n.prototype.sbH=function(){return this.sb()?this.sb().height:0},n.prototype.tbH=function(){return this.tb()?this.tb().height:0},n.prototype.nbH=function(){return this.nb()?this.nb().height:0},n.prototype.kbH=function(){return this.kb()?this.kbDH():0},n.KEYBOARDS={ipad:{portrait:[1536,526],landscape:[2048,704]},iphone:{portrait:[640,348],landscape:[1136,252]},android:{portrait:[574,354],landscape:[956,278]}},n.prototype.kbDH=function(){var e,t,i,r;return e=this.cp().device,i=n.KEYBOARDS[e][this.orient()],r=i[0],t=i[1],Math.round(t*this.width/r)},n.prototype.headerHeight=function(){var e,t;return this.cp().template||0===this.hh?0:(t=this.sbH(),e=(this.hh||t+this.nbH())*MB.scale()/100,t&&e===t&&(e+=1),e)},n.prototype.footerHeight=function(){return this.cp().template||0===this.fh?0:(this.fh||Math.max(this.kbH(),this.tbH()))*MB.scale()/100},n.prototype.footerTop=function(){return this.h()-this.footerHeight()},n.prototype.outerHeight=function(){return this.h()+62},n.prototype.outerWidth=function(){return this.w()+42},n.prototype.dW=function(){return Math.round(this.cp().swidth(this.orient())*MB.scale()/100)},n.prototype.dH=function(){return Math.round(this.cp().sheight(this.orient())*MB.scale()/100)},n.prototype.eH=function(){return this.h()-this.dH()},n.prototype.splash=function(){return this.cp().splash||""},n.prototype.expandable=function(){return!this.parent_cid||!(n.find(this.parent_cid)||{}).parent_cid},n.prototype.sa=function(){return ScreenAlign.find(this.cid)||new ScreenAlign({cid:this.cid})},n.prototype.halignLines=function(){var e,t,n,i,r;for(i=this.sa().h.split(","),r=[],e=0,n=i.length;e<n;e++)t=i[e],t&&r.push(t);return r},n.prototype.valignLines=function(){var e,t,n,i,r;for(i=this.sa().v.split(","),r=[],e=0,n=i.length;e<n;e++)t=i[e],t&&r.push(t);return r},n.prototype.duplicate=function(){var e,t,i,r,s,a,o,c,l,d,u,h,p,f,m,g,b,v,y,w,_,x,M,k,S,B,$,T,C,P,E,j,I,A,L,O,W,N,D,z,R,q;for(t=new n({name:this.name+" Copy",project_cid:this.project_cid,orientation:this.orientation,cid:"s"+Math.uuid(10,16)+(new Date).valueOf(),parent_cid:this.parent_cid,width:this.width,height:this.height,hh:this.hh,fh:this.fh,bgcolor:this.bgcolor,bgimage:this.bgimage,state_cid:"default",position:this.position+1,artboard_id:this.artboard_id,artboard_asset_id:this.artboard_asset_id}),t.lsave(),(W=ScreenAlign.find(this.cid))&&(i=new ScreenAlign({cid:t.cid,h:W.h,v:W.v}),i.lsave()),l={},$={},D={"default":"default"},E=this.cscreenstates(),s=0,d=E.length;s<d;s++)N=E[s],k=new Screenstate({screen_cid:t.cid,name:N.name,timestamp:N.timestamp,cid:"ss"+Math.uuid(10,16)+(new Date).valueOf()}),k.lsave(),D[N.cid]=k.cid;for(j=this.clinks(),a=0,u=j.length;a<u;a++)g=j[a],c=new Link,c.restore(g),c.load({screen_cid:t.cid,widget_cids:null,cid:"l"+Math.uuid(10,16)+(new Date).valueOf(),sourcestate_cid:D[g.sourcestate_cid],targetstate_cid:D[g.targetstate_cid]}),c.lsave(),l[g.cid]=c.cid;for(I=this.cwidgets(),o=0,h=I.length;o<h;o++)for(R=I[o],R.setState("default",!1),B=null,B=Link.exists(R.gid)?l[R.gid]:$[y=R.gid]||($[y]=MB.nextgid(R.gid)),r=new Widget,r.restore(R),r.load({screen_cid:t.cid,cid:"w"+Math.uuid(10,16)+(new Date).valueOf(),gid:B}),r.lsave(),A=Widgetstate.findAllByAttribute("widget_cid",R.cid),b=0,p=A.length;b<p;b++)q=A[b],D[q.screenstate_cid]&&"default"!==q.screenstate_cid&&(B=Link.exists(q.gid)?l[q.gid]:$[w=q.gid]||($[w]=MB.nextgid(q.gid)),S=new Widgetstate,S.restore(q),S.load({cid:D[q.screenstate_cid]+r.cid,screenstate_cid:D[q.screenstate_cid],widget_cid:r.cid,gid:B}),S.lsave());for(L=this.cpanels(),v=0,f=L.length;v<f;v++)for(T=L[v],T.setState("default",!1),B=null,B=Link.exists(T.gid)?l[T.gid]:$[_=T.gid]||($[_]=MB.nextgid(T.gid)),z=Template.find(T.template_cid),"break_away"===z.behavior&&(z=z.duplicate(!1)),e=new Panel,e.restore(T),e.load({screen_cid:t.cid,cid:"p"+Math.uuid(10,16)+(new Date).valueOf(),template_cid:z.cid,gid:B}),e.lsave(),O=Panelstate.findAllByAttribute("panel_cid",T.cid),P=0,m=O.length;P<m;P++)C=O[P],D[C.screenstate_cid]&&"default"!==C.screenstate_cid&&(M=new Panelstate,M.restore(C),B=Link.exists(C.gid)?l[C.gid]:$[x=C.gid]||($[x]=MB.nextgid(C.gid)),M.load({cid:D[C.screenstate_cid]+e.cid,template_cid:e.template_cid,screenstate_cid:D[C.screenstate_cid],panel_cid:e.cid,gid:B}),M.lsave());return t;
},n.prototype.setupSplash=function(e){return this.w()>this.dH()?($(e).css("top",0-this.dW()+"px"),$(e).width(this.dH()),$(e).height(this.dW())):($(e).css("top","0px"),$(e).width(this.dW()),$(e).height("101%"))},n.prototype.setImage=function(e){return this.bgimage=e.cid,$("#canvas").css("background-image","url("+this.getRealBgImage()+")"),this.lsave()},n.prototype.getImage=function(){return this.bgimage},n.prototype.getRealBgImage=function(){var e;return e=Asset.find(this.bgimage),e?e.image||e.raw:this.bgimage},n.prototype.detectConflict=function(e){var t,n,i,r,s,a,o,c;for(a=e?[e]:this.clinks(),t=0,r=a.length;t<r;t++)if(i=a[t],["up","down"].indexOf(i.gesture)!==-1){if(this.height>this.dH())return $("#gesture_conflict .horizontal").hide(),$("#gesture_conflict .vertical").show(),void $("#gesture_conflict").modal()}else if(["left","right"].indexOf(i.gesture)!==-1)for(c=this.cpanels(),n=0,s=c.length;n<s;n++)if(o=c[n],o.width<o.ct().width)return $("#gesture_conflict .horizontal").show(),$("#gesture_conflict .vertical").hide(),void $("#gesture_conflict").modal()},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.ScreenAlign=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("screen_align","cid","h","v"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return n.__super__.load.call(this,e),this.h||(this.h=""),this.v||(this.v="")},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Screenstate=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Screenstate","cid","name","screen_cid","timestamp","hh","fh"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e)},n.prototype.cs=function(){return Screen.find(this.screen_cid)},n.prototype.widgetStates=function(){return Widgetstate.findAllByAttribute("screenstate_cid",this.cid)},n.prototype.panelStates=function(){return Panelstate.findAllByAttribute("screenstate_cid",this.cid)},n.prototype.stateLinks=function(){return Link.select(function(e){return function(t){return t.sourcestate_cid===e.cid||t.targetstate_cid===e.cid}}(this))},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Team=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Team","name","icon","cid","owner_id","owner_email","owner_name","owner_avatar","color","updated_at","created_at"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e)},n.prototype.cprojects=function(){return Project.select(function(e){return function(t){return t.team_cid===e.cid&&!t.deleted&&!t.template&&!t.combo&&t.screens_count}}(this))},n.prototype.collaborators=function(){return Collaborator.select(function(e){return function(t){return"MOCK"!==t.email&&t.team_cid===e.cid}}(this))},n.prototype.collaboratorByUid=function(e){var t,n,i,r;for(r=this.collaborators(),n=0,i=r.length;n<i;n++)if(t=r[n],t.user_id===e)return t;return null},n.prototype.roleByUid=function(e){var t;return e===this.owner_id?"admin":(t=this.collaboratorByUid(e),t?t.role:"none")},n.prototype.canAdmin=function(){return"admin"===this.roleByUid(MB.user.id)},n.prototype.isTeam=function(){return!0},n.prototype.colorO=function(e){return this.color.replace("RGB","RGBA").replace(")",","+e+")")},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Template=function(t){function n(){n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Project","cid","created_at","updated_at","password","access","access_token","name","icon","splash","screens_count","width","height","scale","device","model","shell_type","archived","deleted","destroyed","highlight","combo","template","wechat","owner_id","owner_email","owner_name","owner_avatar","owner_plan","expired","validated","parent_cid","auto_scale","description","version","team_cid","builtin","master","behavior","host_cid","consumer_cid"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.masters=function(){return this.select(function(e){return e.master&&!e.deleted})},n.prototype.load=function(e){return this.id=e.cid,n.__super__.load.call(this,e),this.access_token||(this.access_token=Math.uuid(33)),this.model||(this.model=this.device_model())},n.prototype.swidth=function(){return this.width},n.prototype.sheight=function(){return this.height},n.prototype.orient=function(){return"portrait"},n.prototype.updatePanelSize=function(e,t){var n,i,r,s,a,o,c,l;for(o=Panel.findAllByAttribute("template_cid",this.cid),n=0,r=o.length;n<r;n++)a=o[n],a.height=t,a.width===this.width&&(a.width=e),a.lsave();for(c=this.cscreens(),i=0,s=c.length;i<s;i++)l=c[i],l.height=t,l.width=e,l.lsave();return this.height=t,this.width=e,this.lsave()},n}(Project)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Widget=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Widget","screen_cid","name","text","icon","top","left","width","height","cid","fs","br","bs","is","ha","va","image","z","th","lh","o","ds","sc","bg","tc","bc","bo","i","td","f","ts","tsc","p","destroyed","ro","gid","timestamp","padding","ls","checked","numeric","tt_placement","tt_offset","tt_arrow_size","v","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration","screenstate_cid","input_type","slw","slt","clip","filter","locked"),n.include(Spine.Model.Dirty),n.include(Spine.Model.State),n.extend(Spine.Model.Ajax),n.ATTRS=["name","text","icon","width","height","left","top","gid","timestamp","fs","is","bs","br","va","ha","lh","z","th","image","bg","tc","bc","ds","sc","ts","tsc","o","bo","i","td","p","ro","ls","padding","checked","numeric","v","fixed","fixed_type","tt_placement","tt_offset","tt_arrow_size","ani_name","ani_delay","ani_count","ani_duration","input_type","slw","slt","clip","filter","locked"],n.FIX_TYPE={auto:1,top:2,bottom:3},n.MAXZ=Math.pow(2,30)-1,n.prototype.load=function(e){var t;if(this.id=e.cid,n.__super__.load.call(this,e),this.multiline=["text_view","sticky","rounded_rect","circle_rect","mtooltip","mselect"].indexOf(this.name)!==-1,this.richedit=["label","text_view","sticky","rounded_rect","circle_rect","mtooltip"].indexOf(this.name)!==-1,this.iconic=["icon_button","tab_item","button"].indexOf(this.name)!==-1,this.moveable=["status_bar","tab_bar","keyboard","navigation_bar"].indexOf(this.name)===-1,this.gestureable=["pg","lr","image_view","rectangle","rounded_rect","circle_rect"].indexOf(this.name)!==-1,"mcheckbox"===this.name&&(this.name="mcheckbox2"),MB.COMPONENTS[this.name]?this.zoomable=MB.COMPONENTS[this.name].zoomable||"n,s,e,w,ne,nw,se,sw":this.zoomable=" ",["text_field"].indexOf(this.name)!==-1&&(this.zoomable="n,s,e,w,ne,nw,se,sw"),t=MB.COMPONENTS[this.name],t&&("number"!=typeof this.fs&&(this.fs=t.fs),"number"!=typeof this.is&&(this.is=t.is),"number"!=typeof this.br&&(this.br=t.br),"number"!=typeof this.bs&&(this.bs=t.bs),this.ha||(this.ha=t.ha),this.va||(this.va=t.va),0!==this.z&&(this.z||(this.z=t.z)),t.lh&&(this.lh||(this.lh=Math.floor(this.fs*t.lh))),this.padding||(this.padding=t.padding)),this.text||(this.text=""),"label"===this.name&&(this.text=this.text.replace(/\n$/,"")),this.autoWidth="label"===this.name,this.autoHeight=["mtooltip","text_view"].indexOf(this.name)!==-1,this.th||(this.th="status_bar"===this.name?"light":""),0!==this.o&&(this.o||(this.o=100)),this.ds||(this.ds=0),this.bs||(this.bs=0),this.br||(this.br=0),this.sc||(this.sc=MB.currentProject&&MB.currentProject.isAndroid()?"#222222":"#aaaaaa"),this.ts||(this.ts=0),this.tsc||(this.tsc="#aaaaaa"),this.bo||(this.bo=0),this.i||(this.i=0),this.td||(this.td="normal"),this.bg||(this.bg=""),this.tc||(this.tc=""),this.bc||(this.bc=""),0!==this.z&&(this.z||(this.z=5)),this.ro||(this.ro=0),this.ls||(this.ls=0),this.filter||(this.filter=""),this.input_type||(this.input_type="text"),this.timestamp||(this.timestamp=MB.lastTimestamp()),this.timestamp>MB.maxTimestamp&&(MB.maxTimestamp=this.timestamp),this.padding||(this.padding=0),this.checked!==!1&&(this.checked||(this.checked=!0)),this.numeric||(this.numeric=!1),this.v!==!1&&(this.v||(this.v=!0)),this.locked||(this.locked=!1),this.fixed||(this.fixed=!1),this.fixed_type=parseInt(this.fixed_type||1),this.tt_placement||(this.tt_placement="left"),this.tt_offset||(this.tt_offset=10),this.tt_arrow_size||(this.tt_arrow_size=10),this.screenstate_cid||(this.screenstate_cid="default"),this.ani_name||(this.ani_name="none"),this.slt||(this.slt=20),this.slw||(this.slw=50),void 0===this.p?this.p=1:this.p=this.p?1:0,"sticky"===this.name&&(this.z=n.MAXZ),"label"===this.name&&/\n/.test(this.text))return this.name="text_view",this.lsave()},n.prototype.cs=function(){return this._cs||(this._cs=Screen.find(this.screen_cid))},n.prototype.isContainer=function(){return["navigation_bar","rectangle","rounded_rect"].indexOf(this.name)!==-1},n.prototype.isFullWidth=function(){return["navigation_bar","status_bar","tab_bar","keyboard"].indexOf(this.name)!==-1},n.prototype.isFooter=function(){return["tab_bar","keyboard"].indexOf(this.name)!==-1},n.prototype.themeable=function(){return["status_bar","navigation_bar","tab_bar","search_bar","image_view","keyboard"].indexOf(this.name)!==-1},n.prototype.inScreen=function(){return this.r()>0&&this.l()<this.cs().w()},n.prototype.inHeader=function(){return this.b()<=this.cs().headerHeight()},n.prototype.inFooter=function(){return!this.isFooter()&&this.t()>=this.cs().footerTop()&&this.t()<=this.cs().h()},n.prototype.getState=function(e){var t;return t=Widgetstate.find(e+this.cid),t||new Widgetstate({cid:e+this.cid,screenstate_cid:e,widget_cid:this.cid}).restore(this)},n.prototype.restore=function(e){var t,i,r,s;for(e.screen_cid&&(this.screen_cid=e.screen_cid),s=n.ATTRS,i=0,r=s.length;i<r;i++)t=s[i],this[t]=e[t];return this},n.prototype.equals=function(e){var t,i,r,s;for(s=n.ATTRS,i=0,r=s.length;i<r;i++)if(t=s[i],this[t]!==e[t])return!1;return!0},n.prototype.status_bar_t=function(){return 0},n.prototype.keyboard_t=function(){return this.cs().height-this.height},n.prototype.tab_bar_t=function(){return this.cs().height-this.height},n.prototype.navigation_bar_t=function(){return this.cs().sbH()},n.prototype.l=function(){return(this.left||0)*this.s()/100},n.prototype.t=function(){var e;return e=this.moveable?this.top:this[this.name+"_t"](),e*this.s()/100},n.prototype.w=function(){return"pg"===this.name?this.width:this.width*this.s()/100},n.prototype.h=function(){return"pg"===this.name?this.height:this.height*this.s()/100},n.prototype.r=function(){return this.l()+this.w()},n.prototype.b=function(){return this.t()+this.h()},n.prototype._setAttr=function(e,t,n){if(this[e]=100*t/this.s(),this[n]()<t&&(this[e]+=1),this[n]()>t)return this[e]-=1},n.prototype.setL=function(e){return this._setAttr("left",e,"l")},n.prototype.setT=function(e){return this._setAttr("top",e,"t")},n.prototype.setW=function(e){return this._setAttr("width",e,"w")},n.prototype.setH=function(e){return this._setAttr("height",e,"h")},n.prototype.setTheme=function(e){var t;if(e)return this.th=e,this.bg=this.tc=this.bc=null,t=MB.themes[this.th],["status_bar","navigation_bar","tab_bar","search_bar","keyboard","hr","ve","mtooltip"].indexOf(this.name)!==-1&&(this.bg||(this.bg=t[1]||""),this.bc||(this.bc=t[0]||""),this.tc||(this.tc="light"!==this.th?"#fff":"")),["label","text_view","icon_button","tab_item","triangleb","triangletl"].indexOf(this.name)!==-1&&(this.tc||(this.tc=t[1]||"#fff")),["rectangle","rounded_rect","button","text_field","mtext_input","mtextarea","mselect","circle_rect","image_view","sticky"].indexOf(this.name)!==-1?(this.bg||(this.bg=t[2]||""),this.bc||(this.bc=t[0]||""),this.tc||(this.tc="light"!==this.th?"#fff":"")):void 0},n.prototype.s=function(){return $("body").data("scale")},n.prototype.fS=function(){var e;return e=(this.fs*this.s()/100).toFixed(1),!MB.isMobile()&&!MB.isPhantom()&&!MB.config.minFSWarned&&e<MB.config.minFS&&e>0&&(MB.config.minFSWarned=!0,$("#chrome-warning").modal()),e},n.prototype.bS=function(){return Math.floor(this.bs*this.s()/100)},n.prototype.iS=function(){return Math.round(this.is*this.s()/100)},n.prototype.bR=function(){return Math.round(this.br*this.s()/100)},n.prototype.lH=function(){return Math.round(this.lh*this.s()/100)},n.prototype.paddingS=function(){return Math.round(this.padding*this.s()/100)},n.prototype.lineStyle=function(){return["solid","dotted","dashed"][this.ls]},n.prototype.arrowSize=function(){return Math.round(this.tt_arrow_size*this.s()/100)},n.prototype.ttOffset=function(){return Math.round(this.tt_offset*this.s()/100)},n.prototype.inspectables=function(){return MB.INSPECTABLES[this.name]},n.prototype.textWidth=function(){var e;return $("#fontawesome .aw").css("font-size",this.fs),$("#fontawesome .aw").css("font-weight",this.bo?"bold":"normal"),e=$("#fontawesome .aw").html(this.text).width()+1+2*this.padding+2*this.bs,e<20&&(e=20),e},n.prototype.textHeightS=function(){return this._textHeight(this.text)*this.s()/100},n.prototype.textHeight=function(){return this._textHeight(this.text)},n.prototype._textHeight=function(e){var t,n,i,r,s;return s=this.width-2*this.padding-2*this.bs,"mtooltip"===this.name&&["left","right"].indexOf(this.tt_placement)!==-1&&(s-=10),i=this.bo?"bold":"normal",n=document.getElementById("fontawesome"),t=n.getElementsByClassName("ah")[0],t.style.fontSize!==this.fs+"px"&&(t.style.fontSize=this.fs+"px"),t.style.width!==s+"px"&&(t.style.width=s+"px"),t.style.lineHeight!==this.lh+"px"&&(t.style.lineHeight=this.lh+"px"),t.style.fontWeight!==i&&(t.style.fontWeight=i),t.innerHTML=MB.v.multiline(e),r=t.offsetHeight+2*this.padding+2*this.bs,r<10&&(r=10),r},n.prototype.minWidthS=function(){return Math.round(this.minWidth()*this.s()/100)},n.prototype.minHeightS=function(){return Math.round(this.minHeight()*this.s()/100)},n.prototype.minWidth=function(){return["label","button"].indexOf(this.name)!==-1?this.textWidth():10},n.prototype.minHeight=function(){return["label","button"].indexOf(this.name)!==-1?this.lh+2*this.padding+2*this.bs:["mtooltip","text_view"].indexOf(this.name)!==-1?this.textHeight():10},n.prototype.initialWidth=function(){return["label"].indexOf(this.name)!==-1?this.textWidth():null},n.prototype.initialHeight=function(){return["mtooltip","text_view"].indexOf(this.name)!==-1?this.textHeight():null},n.prototype.updateSideline=function(e,t){if(20!==this.slt||50!==this.slw)return this.slt=this.initialSlt-t,this.slw=this.initialSlw+(this.initialL>160?e:0-e),this.slw<20?this.slw=20:void 0},n.prototype.clipType=function(){var e;return this.clip?(e=/(.*?)\(/.exec(this.clip)[1],e.charAt(0).toUpperCase()+e.slice(1)):null},n.prototype.clipPolygonPoints=function(){var e,t,n,i,r;for(i=this.clip.split(","),r=[],e=0,t=i.length;e<t;e++)n=i[e],r.push(n.replace(/[^\d\s\%]/g,""));return r},n.prototype.clipInsetPoints=function(){var e,t,n,i,r;for(i=this.clip.split(/\s/),r=[],e=0,t=i.length;e<t;e++)n=i[e],r.push(parseInt(n.replace(/[^\d]/g,"")));return r},n.prototype.clipCenter=function(){var e;return e=/at (\d*?)\% (\d*?)\%/.exec(this.clip)||[50,50],{x:parseInt(e[1]),y:parseInt(e[2])}},n.prototype.clipCRadius=function(){return parseInt(/(\d*?)\% at/.exec(this.clip)[1])},n.prototype.clipXRadius=function(){return parseInt(/(\d*?)\% (\d*?)\% at/.exec(this.clip)[1])},n.prototype.clipYRadius=function(){return parseInt(/(\d*?)\% (\d*?)\% at/.exec(this.clip)[2])},n.prototype.setClipPoint=function(e,t,n){return"number"==typeof e?this.set_poly_point(e,t):this["set_clip_"+e](t,n),this.lsave(!1)},n.prototype.set_clip_xradius=function(e){var t,n;return t=this.clipCenter(),n=Math.round(Math.abs(t.x-e.left)),this.clip="ellipse("+n+"% "+this.clipYRadius()+"% at "+t.x+"% "+t.y+"%)"},n.prototype.set_clip_yradius=function(e){var t,n;return t=this.clipCenter(),n=Math.round(Math.abs(t.y-e.top)),this.clip="ellipse("+this.clipXRadius()+"% "+n+"% at "+t.x+"% "+t.y+"%)"},n.prototype.set_clip_cradius=function(e,t){var n,i,r,s,a,o,c;return n=this.clipCenter(),r=this.w()*n.x/100,s=this.h()*n.y/100,o=t.position.left-r,c=t.position.top-s,a=Math.sqrt(Math.pow(o,2)+Math.pow(c,2)),i=Math.round(a/(this.w()+this.h())*200),this.clip="circle("+i+"% at "+n.x+"% "+n.y+"%)"},n.prototype.set_clip_ccenter=function(e){return this.clip="circle("+this.clipCRadius()+"% at "+e.left+"% "+e.top+"%)"},n.prototype.set_clip_ecenter=function(e){return this.clip="ellipse("+this.clipXRadius()+"% "+this.clipYRadius()+"% at "+e.left+"% "+e.top+"%)"},n.prototype.set_clip_linset=function(e){var t;return t=this.clipInsetPoints(),this.clip="inset("+t[0]+"% "+t[1]+"% "+t[2]+"% "+e.left+"%)"},n.prototype.set_clip_tinset=function(e){var t;return t=this.clipInsetPoints(),this.clip="inset("+e.top+"% "+t[1]+"% "+t[2]+"% "+t[3]+"%)"},n.prototype.set_clip_rinset=function(e){var t;return t=this.clipInsetPoints(),this.clip="inset("+t[0]+"% "+(100-e.left)+"% "+t[2]+"% "+t[3]+"%)"},n.prototype.set_clip_binset=function(e){var t;return t=this.clipInsetPoints(),this.clip="inset("+t[0]+"% "+t[1]+"% "+(100-e.top)+"% "+t[3]+"%)"},n.prototype.set_clip_cinset=function(e){var t,n,i;return t=this.clipInsetPoints(),n=(100-t[1]-t[3])/2,i=(100-t[0]-t[2])/2,e.top>100-i&&(e.top=100-i),e.top<i&&(e.top=i),e.left>100-n&&(e.left=100-n),e.left<n&&(e.left=n),this.clip="inset("+(e.top-i)+"% "+(100-e.left-n)+"% "+(100-e.top-i)+"% "+(e.left-n)+"%)"},n.prototype.set_poly_point=function(e,t){var n;return n=this.clipPolygonPoints(),n[e]=t.left+"% "+t.top+"%",this.clip="polygon("+n.join(",")+")"},n.prototype.isBottomFixed=function(e){return parseInt(this.fixed_type)===n.FIX_TYPE.bottom||this.fixed_type===n.FIX_TYPE.auto&&this.t()>e.h()-e.dH()/2},n}(Spine.Model)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.Widgetstate=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.configure("Widgetstate","screen_cid","name","text","icon","top","left","width","height","cid","fs","br","bs","is","ha","va","image","z","th","lh","o","ds","sc","bg","tc","bc","bo","i","td","f","ts","tsc","p","destroyed","ro","gid","timestamp","padding","ls","checked","numeric","tt_placement","tt_offset","tt_arrow_size","v","fixed","fixed_type","ani_name","ani_delay","ani_count","ani_duration","screenstate_cid","widget_cid","input_type","slt","slw","clip","filter","locked"),n.include(Spine.Model.Dirty),n.extend(Spine.Model.Ajax),n.serverCount=function(){return this.records.reduce(function(e,t){return e+="d"!==t.screenstate_cid[0]?1:0},0)},n.prototype.load=function(e){if(n.__super__.load.call(this,e),"default"!==this.screenstate_cid&&(this.screen_cid=null),"label"===this.name&&/\n/.test(this.text))return this.name="text_view",this.lsave()},n}(Widget)}.call(this),function(){MB.Screen=function(e){return"<div id='screen' class=\"screen "+e.orient()+" "+e.device()+" x"+e.scale()+"\" data-selectable='true' data-cid=\""+e.cid+'">\n  <div id=\'canvas\' class="canvas" data-selectable=\'true\'></div>\n  <div class="actions">\n    <div class="resizer_y resizer">\n      <span class="enlarge">\n        <i class="fa fa-chevron-down"></i>\n      </span>\n      <span class="tip">\n        '+I18N.drag_to_resize+'\n      </span>\n      <span class="reduce">\n        <i class="fa fa-chevron-up"></i>\n      </span>\n    </div>\n    <a class="sbgcolor" title="'+I18N.screen_bgcolor+'" data-placement="bottom"></a>\n    <a class="sbgimage" title="'+I18N.screen_bgimage+'" data-placement="bottom">\n      <i class="fa fa-image"></i>\n    </a>\n  </div>\n  <div class="resizer_x resizer">\n    <i class="fa fa-chevron-right"></i>\n  </div>\n  <div class="slider" data-selectable="true">\n    <a class="tip" href=\'#slider_modal\' data-toggle=\'modal\'>\n      <i class="fa fa-question-circle"></i>\n    </a>\n    <div class="hh">\n      <div class="triangle"></div>\n      <div class="counter"></div>\n    </div>\n    <div class="fh">\n      <div class="triangle"></div>\n      <div class="counter"></div>\n    </div>\n  </div>\n</div>'},MB.renderScreen=function(){var e;return e="<div class=\"screen_container\" data-selectable='true'>\n  "+MB.Screen(MB.currentScreen)+"\n</div>",$("#screens").html(e)}}.call(this),function(){var e;e=50,MB.renderSimulator=function(t,n){var i,r,s,a,o,c,l;return r=MB.isMobile()||MB.isEmbedded()||MB.isPhantom()?"":"width:auto;right:"+e+"px;",c=200===t.scale?"disabled":"",l=50===t.scale?"disabled":"",o=t.splash?'<img src="'+t.splash+'">':"",a=!window.MBData,i=a?"":"none",s='<div id="actions" class="mhide">\n  <a class="design" data-toggle="tooltip" data-placement="left" title="'+I18N.back+'">\n    <i class="fa fa-times"></i>\n  </a>\n  <a id="switch-sharing" data-toggle="tooltip" data-placement="left" title="'+I18N.sharing+'">\n    <i class="fa fa-share-alt"></i>\n  </a>\n  <a id="switch-screen" data-toggle="tooltip" data-placement="left" title="'+I18N.screen_list+'">\n    <i class="fa fa-navicon"></i>\n  </a>\n  <a id="switch-mode" data-toggle="tooltip" data-placement="left" title="'+I18N.text_mode+"/"+I18N.link_mode+'">\n    <i class="fa fa-font"></i>\n  </a>\n  <a id="back_prev" class="disabled" data-toggle="tooltip" data-placement="left" title="'+I18N.link_back+'">\n    <i class="fa fa-reply"></i>\n  </a>\n  <a id="zoomin" class="'+c+'" data-toggle="tooltip" data-placement="left" title="'+I18N.zoomin+'">\n    <i class="fa fa-search-plus"></i>\n  </a>\n  <a id="zoomout" class="'+l+'" data-toggle="tooltip" data-placement="left" title="'+I18N.zoomout+'">\n    <i class="fa fa-search-minus"></i>\n  </a>\n  <a id="switch-comment" style="display:'+i+';" data-toggle="tooltip" data-placement="left" title="'+I18N.preview.comment["switch"]+'">\n    <i class="fa fa-commenting-o"></i>\n    <div id="switch-comment-switch" class="switch-vertical">\n      <div class="thumb"></div>\n    </div>\n  </a>\n</div>\n<div id="ui-screen-panel" class="mhide"></div>\n<div id="ui-comment-panel" class="mhide"></div>\n<div id="simulator-container" style="'+r+'">\n  <div id="simulator-wrapper">\n    <div id="simulator" class="'+t.shell().device+" "+t.orientation+" "+t.device+'">\n      <div class="splash">\n        '+o+'\n        <div class="loading">\n          <div class="spinner"></div>\n        </div>\n      </div>\n      <div id="app" class="screens">\n        <div id="gs"></div>\n        <div id="gh" class="fixed '+t.device+'"></div>\n        <div id="gf" class="fixed"></div>\n      </div>\n      <div id="sticky-container">\n        <div id="stickies"></div>\n        <div id="ui-comment-marker-panel"></div>\n      </div>\n    </div>\n  </div>\n  <div id="ui-comment-tip" class="hide">\n    <span></span>\n  </div>\n</div>',n.html(s),$("#actions a").tooltip({container:"body",trigger:"hover focus click"})}}.call(this),function(){var e,t;e={},MB.v.multiline=function(e){var t,n,i,r,s;if(/^\<p\>/.test(e))return t=e;for(t="",r=e.split(/\n/),n=0,i=r.length;n<i;n++)s=r[n],s||(s="&nbsp;"),t+="<p>"+s+"</p>";return t},e.text_field=e.navigation_bar=function(e){return'<span class="text">'+e.text+"</span>"},e.mtext_input=function(e,t){var n;return n=/p$/.test(t)?"":'readonly="readonly"','<input type="'+e.input_type+'" placeholder="'+e.text+'" '+n+"></input>"},e.mtextarea=function(e,t){var n,i,r,s;return n=/p$/.test(t)?"":'readonly="readonly"',i=Math.round(e.padding*MB.scale()/100),s=Math.round(i-(e.lh-e.fs)/2),s<0&&(s=0),r="padding:"+s+"px "+i+"px;",'<textarea style="'+r+'" placeholder="'+e.text+'" '+n+"></textarea>"},e.mcheckbox2=function(e){var t;return t=e.checked?"checked":"",'<input type="checkbox" '+t+"></input>"},e.mfile_input=function(e,t){var n;return n=/p$/.test(t)?"onclick='MB.config.fileSelecting = true;'":"",'<input type="file" '+n+"></input>"},e.mradiobutton=function(e){var t;return t=e.checked?"checked":"",'<input type="radio" name="'+e.gid+'" '+t+"></input>"},e.mselect=function(e){var t,n;return n=function(){var n,i,r,s;for(r=e.text.split(/\n/),s=[],n=0,i=r.length;n<i;n++)t=r[n],s.push("<option>"+t+"</option>");return s}().join(""),"<select>"+n+"</select>"},e.button=function(e){var t;return t=e.icon?"inline-block":"none",'<p><i class="fa fa-'+e.icon+'" style="font-size:'+e.iS()+"px;display:"+t+';"></i><span class="text">'+e.text+"</span></p>"},e.hr=function(e){var t;return t=e.h()-10*MB.scale()/100,t<1&&(t=1),'<span style="border-top-width: '+t+'px;"></span>'},e.ve=function(e){var t;return t=e.w()-10*MB.scale()/100,t<1&&(t=1),'<span style="border-left-width: '+t+'px;"></span>'},e.triangleb=function(e){var t;return t="border-left-width:"+e.w()/2+"px;border-right-width:"+e.w()/2+"px;border-bottom-width:"+e.h()+"px;border-bottom-color:"+(e.tc||"#666")+";",'<span style="'+t+'"></span>'},e.triangletl=function(e){var t;return t="border-top-width:"+e.h()+"px;border-right-width:"+e.w()+"px;border-top-color:"+(e.tc||"#666")+";",'<span style="'+t+'"></span>'},e.lr=e.tab_bar=e.rectangle=function(){return"<span></span>"},e.image_view=function(e){var t,n,i,r,s,a;return i=e.p?"auto":"100%",s="",e.image&&("i"===e.image[0]&&e.image.indexOf("images")===-1?(t=Asset.find(e.image),t&&(t.raw||t.image)&&(s="src='"+(t.image||t.raw)+"'")):s="src='"+e.image+"'"),s?(r="none",n="block"):(n="none",r="flex"),a="height:"+i+";display:"+n+";",e.filter.trim()&&(a+="filter:"+e.filter.trim()+";-webkit-filter:"+e.filter.trim()+";"),'<span style="background-color:'+e.bg+";display:"+r+';"><i class="fa fa-picture-o"></i></span>\n<div class="wrapper"><img '+s+' style="'+a+'"></div>'},e.webpage=function(e){return'<span class="text">'+e.text+'</span>\n<p class="notice">'+I18N.https_only+'</p>\n<object class="iframe" type="text/html"></object>'},e.video_view=function(){return'<span><i class="fa fa-play-circle-o"></i></span>'},e.keyboard=function(e){var t,n,i,r;return t=MB.project().device,r=e.numeric?"n":"r",n=e.cs().orientation,i="images/keyboards/"+t+"_"+r+"_"+n+".png","<img src='"+i+'\' class="keyboard-img" alt="keyboard">'},e.map_view=function(){return'<div class="image design">\n  <img src="'+MB.staticMap()+'">\n</div>'},e.search_bar=function(e,t){var n,i;return i=e.th&&"light"!==e.th?"style='background-color:"+MB.themes[e.th][2]+";'":"",n=/p$/.test(t)?"":'readonly="readonly"','<div class="text_edit" '+i+'>\n  <input type="text" '+n+' placeholder="'+e.text+'"></input>\n</div>\n<i class="fa fa-search"></i>'},e.status_bar=function(e){var t,n;return e.tc?(n="background-color:"+e.tc+";",t="border-color:"+e.tc+";"):n=t="",'<div class="signal">\n  <div class="ball" style="'+n+'"></div>\n  <div class="ball" style="'+n+'"></div>\n  <div class="ball" style="'+n+'"></div>\n  <div class="ball" style="'+n+'"></div>\n  <div class="ball" style="'+n+'"></div>\n</div>\n<div class="carrier">\n  <span class="text">'+e.text+'</span>\n</div>\n<div class="time">\n  12:00<span class="meridian"> AM</span>\n</div>\n<div class="battery">\n  <div class="body" style="'+t+'">\n    <div class="inner" style="'+n+'"></div>\n  </div>\n  <div class="head" style="'+n+'"></div>\n</div>\n<div class="border"></div>'},e["switch"]=function(){return'<div class="wrapper"></div>\n<div class="circle"></div>'},e.tab_item=function(e){return'<div class="wrapper">\n  <div class="wrapper2">\n    <p class="icon">\n      <i class="fa fa-'+e.icon+'" style="font-size:'+e.iS()+'px;"></i>\n    </p>\n    <p class="tab">\n      <span class="text">'+e.text+"</span>\n    </p>\n  </div>\n</div>"},e.pg=function(e){var t,n;return n=Link.find(e.gid),t=n?n.gesture:"tap",'<i class="fa fa-'+t+'"></i>'},e.icon_button=function(e,t){var n,i;return i="font-size:"+e.iS()+"px;",n="fa fa-"+e.icon,!MB.isPhantom()&&t&&"spinner"===e.icon&&(n+=" fa-spin"),'<i class="'+n+'" style="'+i+'"></i>'},e.label=function(e){var t;return t=e.text,/<p>/.test(e.text)||(t="<p>"+t+"</p>"),t},e.circle_rect=e.rounded_rect=e.text_view=function(e){var t;return t="padding: "+e.paddingS()+"px;",e.text&&"middle"===e.va&&(t+="margin-top: "+(0-e.textHeightS()/2)+"px;"),'<div class="text" style="'+t+'">'+MB.v.multiline(e.text)+"</div>"},e.sticky=function(e){return'<div class="text">'+MB.v.multiline(e.text)+'</div>\n<div class="sideline">\n  <div class="box"></div>\n  <div class="line"><div class="arrow"></div></div>\n</div>'},e.mtooltip=function(e){var t,n,i,r;return t={top:"border-bottom-color",bottom:"border-top-color",left:"border-right-color",right:"border-left-color"},n=t[e.tt_placement],i="top"===e.tt_placement||"bottom"===e.tt_placement?"left:"+e.ttOffset()+"px":"top:"+e.ttOffset()+"px",r="padding: "+e.paddingS()+"px;",e.text&&"middle"===e.va&&(r+="margin-top: "+(0-e.textHeightS()/2)+"px;"),'<div class="arrow1 arrow '+e.tt_placement+'" style="border-width:'+e.arrowSize()+"px;"+e.tt_placement+":"+(0-e.arrowSize())+"px;"+n+":"+(e.bc||"#aaa")+";"+i+';"></div>\n<div class="arrow2 arrow '+e.tt_placement+'" style="border-width:'+e.arrowSize()+"px;"+e.tt_placement+":"+(0-e.arrowSize()+e.bS())+"px;"+n+":"+(e.bg||"white")+";"+i+';"></div>\n<div class="text" style="'+r+'">'+MB.v.multiline(e.text)+"</div>"},MB.l.getMaterialShadow=function(e,t){var n,i,r;return n=e>15?(15+e)/100:(12+3*e)/100,i=(23+e)/100,r="0 "+e+"px "+2*e+"px rgba("+t.r+","+t.g+","+t.b+","+n+"), 0 "+2*e+"px "+2*e+"px rgba("+t.r+","+t.g+","+t.b+","+i+")"},MB.widgetStyle=function(e,t){var n,i,r,s,a,o,c,l,d,u,h,p;return null==t&&(t=""),i=e.inspectables(),u=[]," "!==e.zoomable&&(h=e.w(),s=e.h(),"mtooltip"===e.name&&("top"===e.tt_placement||"bottom"===e.tt_placement?s-=e.arrowSize():h-=e.arrowSize()),e.isFullWidth()||u.push("width:"+h+"px"),u.push("height:"+s+"px")),"mtooltip"===e.name&&(o=function(){var t,n,i,s;for(i=["top","right","bottom","left"],s=[],t=0,n=i.length;t<n;t++)r=i[t],r===e.tt_placement?s.push(e.tt_arrow_size+"px"):s.push("0");return s}(),u.push("margin: "+o.join(" "))),"number"==typeof e.left&&u.push("left:"+e.l()+"px"),"number"==typeof e.top&&u.push("top:"+e.t()+"px"),i.indexOf("tc")!==-1&&u.push("color:"+e.tc),i.indexOf("bg")!==-1&&u.push("background-color:"+e.bg),i.indexOf("bc")!==-1&&u.push("border-color:"+e.bc),e.ds>0&&(d=MB.currentProject.isAndroid()?MB.l.getMaterialShadow(e.ds,MB.hex2rgb(e.sc)):"0 0 "+e.ds+"px "+e.sc,"icon_button"===e.name?u.push("text-shadow: "+d):u.push("box-shadow: "+d)),e.ts>0&&u.push("text-shadow: 0 0 "+e.ts+"px "+e.tsc),i.indexOf("ro")!==-1&&(u.push("transform: rotate("+e.ro+"deg)"),u.push("-webkit-transform: rotate("+e.ro+"deg)")),i.indexOf("clip")!==-1&&(u.push("clip-path: "+e.clip),u.push("-webkit-clip-path:  "+e.clip)),i.indexOf("fs")!==-1&&e.fS()>0&&u.push("font-size:"+e.fS()+"px"),i.indexOf("padding")!==-1&&"mtextarea"!==e.name&&u.push("padding:"+e.paddingS()+"px"),i.indexOf("br")!==-1&&u.push("border-radius:"+e.bR()+"px"),i.indexOf("bs")!==-1&&u.push("border-width:"+e.bs+"px"),i.indexOf("ls")!==-1&&u.push("border-style:"+e.lineStyle()),i.indexOf("ha")!==-1&&"label"!==e.name&&u.push("text-align:"+e.ha),i.indexOf("lh")!==-1&&u.push("line-height:"+e.lH()+"px"),u.push("font-weight:"+(e.bo?"bold":"normal")),u.push("font-style:"+(e.i?"italic":"normal")),"label"===e.name&&(a={left:"flex-start",center:"center",right:"flex-end"}[e.ha],n={top:"flex-start",middle:"center",bottom:"flex-end"}[e.va],u.push("justify-content: "+a),u.push("align-items: "+n)),!MB.isPhantom()&&"none"!==e.ani_name&&t&&(u.push("animation-delay: "+e.ani_delay),u.push("animation-iteration-count: "+e.ani_count),"0"!==e.ani_duration&&u.push("animation-duration: "+e.ani_duration)),e.v?(l="auto",c=i.indexOf("o")!==-1?e.o/100:"",e.fixed?(p=Widget.MAXZ+e.z,/(p|pgh|pgf)$/.test(t)&&(c=0)):p=e.z):t?(l="none",c=0,p=e.z):(c=.4,p=-Widget.MAXZ),u.push("z-index:"+p),u.push("opacity:"+c),u.push("pointer-events:"+l),u},MB.widgetClassName=function(e,t){var n,i;return null==t&&(t=""),n="widget "+e.name,e.inspectables().indexOf("va")!==-1&&(n+=" v"+e.va),"normal"!==e.td&&(n+=" td"+e.td),"pg"===e.name&&(n+=" s"+e.icon),
"switch"===e.name&&e.checked&&(n+=" checked"),t&&(i=Link.find(e.gid))&&e.v&&(n+=" clickable"),!MB.isPhantom()&&"none"!==e.ani_name&&t&&e.v&&(n+=" animated "+e.ani_name),n},MB.widget=function(t,n){var i,r,s,a,o,c;return null==n&&(n=""),i=MB.widgetClassName(t,n),c=MB.widgetStyle(t,n),n&&(s=Link.find(t.gid))&&t.v&&(a=s.cid,r="tap"!==s.gesture?s.gesture:"",o="<div class='region gesture "+r+"'></div>"),'<div class="'+i+'" id="widget'+t.cid+n+'" data-cid="'+t.cid+'" data-link_cid="'+(a||"")+'" style="'+c.join(";")+'">\n  '+e[t.name](t,n)+"\n  "+(o||"")+"\n</div>"},MB.PanelState=function(e,t,n){var i,r,s,a,o,c,l,d,u;for(a=t?"state"+e.panel_cid+e.cid+"p":"state"+e.panel_cid+e.cid,r=t?"pstate state":"state",n&&(r+=" active"),i=e.bgimage?"background-image:url("+e.getRealBgImage()+");":"",l=t?"p":"",s="",d=e.cwidgets(),o=0,c=d.length;o<c;o++)u=d[o],"sticky"!==u.name&&("pg"===u.name&&(u.top=u.left=null),s+=MB.widget(u,e.panel_cid+l));return'<div id="'+a+'" class="'+r+'" data-cid="'+e.cid+'" data-selectable="true" style="background-color:'+e.bgcolor+";width:"+e.w()+"px;height:"+e.h()+"px;"+i+'"><div class="pwidgets"><div class="pscontainer">'+s+"</div></div></div>"},t=function(e,t){var n,i,r,s;return e.v?(s=e.fixed?Widget.MAXZ+e.z:e.z,i=e.fixed&&t?0:1):(s=-Widget.MAXZ,i=t?0:.4),r="top:"+e.t()+"px;left:"+e.l()+"px;width:"+e.w()+"px;height:"+e.h()+"px;z-index:"+s+";opacity:"+i+";",!MB.isPhantom()&&t||(r+="overflow:hidden;"),n=e.mainState(),(e.w()<n.w()||e.h()<n.h())&&(r+="pointer-events:auto;"),r},MB.Panel=function(e){var n,i;return i=t(e,!1),'<div id="panel'+e.cid+'" class="panel" data-cid="'+e.cid+'" style="'+i+'">\n  <div class="behavior">'+I18N.dblclick_to_edit+"</div>\n  "+function(){var t,i,r,s;for(r=e.states(),s=[],t=0,i=r.length;t<i;t++)n=r[t],s.push(MB.PanelState(n,!1,n.cid===e.mainState().cid));return s}().join("")+"\n</div>"},MB.PanelPreview=function(e){var n,i,r,s,a,o,c,l;return l=t(e,!0),n="ppanel panel",(s=Link.find(e.gid))&&e.v?(n+=" clickable",a=s.cid,r="tap"!==s.gesture?s.gesture:"",o="<div class='region gesture "+r+"'></div>"):(i="",a=null,o=""),c=e.mainState(),c.panel_cid=e.cid,'<div id="panel'+e.cid+'p" class="'+n+'" data-cid="'+e.cid+'" data-link_cid="'+a+'" style="'+l+'">\n  <div class="fixed"></div>\n  '+MB.PanelState(c,!0,!0)+"\n  "+o+"\n</div>"}}.call(this),function(){this.AutoSaver=function(){function e(){$("body").on("queue:add",function(e){return function(t,n,i){return e.add(n,i)}}(this)),$("body").on("queue:save",function(e){return function(){return e.save()}}(this)),this.queue=[],this.setup(),setInterval(function(e){return function(){if(e.save(),MB.refreshCoWorkers)return MB.refreshCoWorkers()}}(this),2e4)}return e.prototype.updateQueueLength=function(){return this.queue.length?$("#last_saved .progress").text("("+this.queue.length+" "+I18N.unsaved+")"):$("#last_saved .progress").text("("+I18N.all_saved+")")},e.prototype.add=function(e,t){var n,i,r,s;for($("#save").removeClass("saved"),this.updateQueueLength(),s=this.queue,i=0,r=s.length;i<r;i++)if(n=s[i],n.cid===e.cid&&!n.saving&&n.constructor===e.constructor)return void(n.destroyed=t);return this.queue.push(e)},e.prototype.save=function(){var e,t;if(!this.queue.length)return $("#save").removeClass("saving"),void $("#save").addClass("saved");if(!this.queue[0].saving){this.queue[0].saving=!0,$("#save").addClass("saving");try{return this.queue[0].constructor.exists(this.queue[0].cid)?this.queue[0].constructor===Asset?(e=this.queue[0].constructor.find(this.queue[0].cid),e.id=null,e.save()):this.queue[0].constructor.find(this.queue[0].cid).save():this.queue[0].destroyed&&this.queue[0].constructor!==Asset?this.queue[0].destroy():this.queue[0].save()}catch(e){return t=e,MB.ga("send","event","saving","exception",t.stack+("("+MB.user.email+")")),this.queue.splice(0,1),this.save()}}},e.prototype.setup=function(){return MB.myXhr=$.ajaxSettings.xhr(),MB.myXhr.upload&&MB.myXhr.upload.addEventListener("progress",function(e){return function(t){var n,i;if(n=Math.floor(100*t.loaded/t.total),100!==n)return i="("+n+"% "+e.queue.length+" "+I18N.unsaved+")",$("#last_saved .progress").text(i)}}(this),!1),$.ajaxSettings.xhr=function(){return MB.myXhr},$.ajaxSetup({timeout:6e4}),window.onbeforeunload=function(e){return function(){var t;if(e.queue.length)return MB.isElectron()?(t=confirm(I18N.data_lost_warning),!t||void 0):I18N.data_lost_warning}}(this),window.onerror=function(e,t,n,i,r){var s,a;if(!/(Network error|Uncaught InvalidStateError|Uncaught #<Event>|Blocked a frame)/.test(e)&&r.stack)return s=(MB.currentProject||{cid:"none"}).cid,a=$("#screen").data("cid"),MB.ga("send","event","exception",e+","+MB.user.email+","+s+","+a,r.stack+("("+MB.user.email+")"))},$(document).on("ajaxComplete",function(e){return function(t,n,i){var r;if(200===n.status||422===n.status){if(!n.responseJSON||!n.responseJSON.cid)return;return(r=MB.currentProject)&&(r.updated_at=(new Date).toISOString(),r.lsave(!1)),e.queue[0]&&(e.queue[0].saving=!1,e.queue.splice(0,1)),e.save(),$("#last_saved").length&&($("#last_saved abbr.timeago").attr("title",(new Date).toISOString()),$("#last_saved abbr.timeago").timeago("updateFromDOM")),e.updateQueueLength()}if(0===n.status?($("#timeout_modal").modal({backdrop:"static"}),$.ajaxSettings.timeout<12e4&&$.ajaxSetup({timeout:2*$.ajaxSettings.timeout}),MB.ga("send","event","saving","saving timeout",i.url+"("+i.type+")("+i.data+")("+MB.user.email+")")):$("#safemode").is(":visible")||(MB.safeAlert(I18N.unknown_error),MB.ga("send","event","saving","saving error: "+n.status,n.status+": "+i.url+"("+i.type+")("+i.data+")("+MB.user.email+")")),$("#save").removeClass("saving saved"),e.queue[0])return e.queue[0].saving=!1}}(this))},e}()}.call(this),function(){this.WidgetManager=function(){function e(){$("#design").on("click","#canvas > .widget",function(t){var n;return n=$(t.target).closest(".widget"),n.css("border",n.data("old-border")),e.select(t)}),$("#design").on("mousedown","#canvas select",function(e){return e.preventDefault()}),$("#design").on("mousedown","#canvas input",function(e){return e.preventDefault()}),$("#design").on("mousedown","#canvas textarea",function(e){return e.preventDefault()})}return e.select=function(e){var t,n;if(!(MB.selection.flagBucket.selectingMoved&&MB.selection.flagBucket.selectEffect||$("#text_editor").length))return e.preventDefault(),e.stopPropagation(),t=$(e.target).closest(".widget").attr("data-cid"),n=Widget.find(t),e.shiftKey?$("body").trigger("selection:append",[n]):e.ctrlKey||e.metaKey?MB.penetrateSelect(e,n.cid):($("body").trigger("selection:clear"),$("body").trigger("selection:select",[[n]])),MB.selection.flagBucket.selectingMoved=!1,MB.selection.flagBucket.selectEffect=!1},e.remove=function(e){var t;return $("#widget"+e).remove(),Widget.exists(e)&&(t=Widget.find(e),t.ldestroy()),$("#design").trigger("slider:update")},e.update=function(e,t){var n;if(null==t&&(t=""),n=document.getElementById("widget"+e.cid+t))return n.outerHTML=MB.widget(e,t),n=document.getElementById("widget"+e.cid+t),"sticky"===e.name?this.renderSticky(e,n,t):void 0},e.updateClipPath=function(e){var t;return t=document.getElementById("widget"+e.cid),t.style.clipPath=t.style.webkitClipPath=e.clip},e.renderOutline=function(e){var t;if(t=document.getElementById("widget"+e.cid))return"number"==typeof e.left&&(t.style.left=e.l()+"px"),"number"==typeof e.top?t.style.top=e.t()+"px":void 0},e.bg=function(e,t){return MB.rgb2hex($(t).css("background-color"))},e.bc=function(e,t){var n;return n=$(t).css("border-left-color")||$(t).css("border-top-color")||$(t).css("border-right-color")||$(t).css("border-bottom-color"),MB.rgb2hex(n)},e.tc=function(e,t){return MB.rgb2hex($(t).css("color"))},e.newImageView=function(e,t,n,i){var r,s,a,o;return o=e.width,r=e.height,o>i.width&&(r=Math.round(r*(i.width/o)),o=i.width),s="image_view",a=new Widget({name:s,width:o,height:r,bs:MB.COMPONENTS[s].bs,br:MB.COMPONENTS[s].br,image:e.cid,screen_cid:i.cid,cid:"w"+Math.uuid(10,16)+(new Date).valueOf(),z:Math.max(i.maxZ(),MB.COMPONENTS.image_view.z)}),a.setL(t),a.setT(n),$("#canvas").append(MB.widget(a)),a.lsave(),a},e.render=function(e,t){var n,i,r,s,a,o;if(null==t&&(t=""),"panel"!==e.name&&(n=document.getElementById("widget"+e.cid+t))){for(n.className=MB.widgetClassName(e,t),s=MB.widgetStyle(e,t),i=0,r=s.length;i<r;i++)o=s[i],a=o.split(":"),n.style[a[0]]=a[1];return this.renderText(e,n),this.renderExtras(e,n,t),"sticky"===e.name?this.renderSticky(e,n,t):void 0}},e.renderText=function(e,t){var n;if(t&&(n=t.getElementsByClassName("text")[0]))return e.richedit?n.innerHTML=MB.v.multiline(e.text):n.innerHTML=""+e.text},e.renderExtras=function(e,t,n){var i;if(t)return i="_render_"+e.name,"function"==typeof this[i]?this[i](e,t,n):void 0},e._render_label=function(e,t){var n;return n=e.text,/<p>/.test(e.text)||(n="<p>"+n+"</p>"),t.innerHTML=n},e._render_text_align=function(e,t){var n;return t.className=t.className.replace(/v(middle|top|bottom)/,"v"+e.va),n=t.getElementsByClassName("text")[0],"middle"===e.va?n.style.marginTop=0-e.textHeightS()/2+"px":n.style.marginTop="0px"},e._render_text_view=function(e,t){var n;return t.style.clipPath=e.clip,t.style.webkitClipPath=e.clip,n=t.getElementsByClassName("text")[0],n.style.padding=e.paddingS()+"px",this._render_text_align(e,t)},e._render_rounded_rect=function(e,t){if(e.text)return this._render_text_align(e,t)},e._render_circle_rect=function(e,t){if(e.text)return this._render_text_align(e,t)},e._render_hr=function(e,t){var n,i;return i=t.getElementsByTagName("span")[0],n=e.h()-10*MB.scale()/100,n<1&&(n=1),i.style.borderTopWidth=n+"px"},e._render_ve=function(e,t){var n,i;return i=t.getElementsByTagName("span")[0],n=e.w()-10*MB.scale()/100,n<1&&(n=1),i.style.borderLeftWidth=n+"px"},e._render_triangleb=function(e,t){var n;return n=t.getElementsByTagName("span")[0],n.style.borderLeftWidth=e.w()/2+"px",n.style.borderRightWidth=e.w()/2+"px",n.style.borderBottomWidth=e.h()+"px",n.style.borderBottomColor=e.tc||$(t).css("color")},e._render_triangletl=function(e,t){var n;return n=t.getElementsByTagName("span")[0],n.style.borderTopWidth=e.h()+"px",n.style.borderRightWidth=e.w()+"px",n.style.borderTopColor=e.tc||$(t).css("color")},e._render_status_bar=function(e,t){var n,i,r,s,a,o,c;for(i=t.getElementsByClassName("body")[0],s=t.getElementsByClassName("inner")[0],r=t.getElementsByClassName("head")[0],c=t.getElementsByClassName("ball"),a=0,o=c.length;a<o;a++)n=c[a],n.style.backgroundColor=e.tc;return i.style.borderColor=e.tc,s.style.backgroundColor=e.tc,r.style.backgroundColor=e.tc},e._render_search_bar=function(e,t){var n;if(e.th&&"light"!==e.th)return n=t.getElementsByClassName("text_edit")[0],n.style.background=MB.themes[e.th][2]||""},e._render_button=function(e,t){return this._render_icon_button(e,t)},e._render_icon_button=function(e,t){var n;return n=t.getElementsByTagName("i")[0],n.className="fa fa-"+e.icon,n.style.fontSize=e.iS()+"px"},e._render_image_view=function(e,t){var n,i,r;if(t.style.clipPath=e.clip,t.style.webkitClipPath=e.clip,e.image)return"i"===e.image[0]&&e.image.indexOf("images")===-1?(n=Asset.find(e.image),n&&(r=n.raw||n.image)):r=e.image,i=t.getElementsByTagName("img")[0],r&&i.src!==r&&(i.src=r),i.style.filter=e.filter.trim(),i.style.webkitFilter=e.filter.trim()},e._render_webpage=function(e,t){var n;if(n=$(t).find(".iframe"),n[0]&&n.attr("data")!==e.text)return n.attr("data",MB.unescape(e.text))},e._render_switch=function(e,t){return e.checked?t.classList.add("checked"):t.classList.remove("checked")},e._render_mtooltip=function(e,t){var n,i,r,s,a,o,c,l,d,u;for(r=t.querySelectorAll(".arrow"),c=0,l=r.length;c<l;c++)s=r[c],s.classList.remove("top","right","bottom","left"),s.classList.add(e.tt_placement),s.style.borderWidth=e.arrowSize()+"px",s.style.borderColor="transparent",s.style.left=s.style.top=s.style.bottom=s.style.right=null;return n=t.querySelector(".arrow1"),i=t.querySelector(".arrow2"),n.style[e.tt_placement]=0-e.arrowSize()+"px",i.style[e.tt_placement]=0-e.arrowSize()+e.bS()+"px",a={top:"borderBottomColor",bottom:"borderTopColor",left:"borderRightColor",right:"borderLeftColor"},o=a[e.tt_placement],n.style[o]=e.bc||"#aaa",i.style[o]=e.bg||"white","top"===e.tt_placement||"bottom"===e.tt_placement?(t.style.height=e.h()-e.arrowSize()+"px",n.style.left=i.style.left=e.ttOffset()+"px"):(t.style.width=e.w()-e.arrowSize()+"px",n.style.top=i.style.top=e.ttOffset()+"px"),d=function(){var t,n,i,r;for(i=["top","right","bottom","left"],r=[],t=0,n=i.length;t<n;t++)o=i[t],o===e.tt_placement?r.push(e.tt_arrow_size+"px"):r.push("0");return r}(),t.style.margin=d.join(" "),u=t.getElementsByClassName("text")[0],u.style.padding=e.paddingS()+"px",this._render_text_align(e,t)},e._render_mtext_input=function(e,t){var n;return n=t.getElementsByTagName("input")[0],n.placeholder=e.text},e._render_mtextarea=function(e,t){var n,i,r;return n=t.getElementsByTagName("textarea")[0],i=Math.round(e.padding*MB.scale()/100),r=Math.round(i-(e.lh-e.fs)/2),r<0&&(r=0),n.placeholder=e.text,n.style.padding=r+"px "+i+"px"},e._render_mcheckbox2=function(e,t){var n;return n=t.getElementsByTagName("input")[0],n.checked=e.checked},e._render_mradiobutton=function(e,t){var n;return n=t.getElementsByTagName("input")[0],n.checked=e.checked},e._render_mselect=function(e,t){var n,i;return i=function(){var t,i,r,s;for(r=e.text.split(/\n/),s=[],t=0,i=r.length;t<i;t++)n=r[t],s.push("<option>"+n+"</option>");return s}().join(""),t.innerHTML="<select>"+i+"</select>"},e.design=function(e,t){var n;if(null==t&&(t=""),n=document.getElementById("widget"+e.cid+t))return"sticky"===e.name?this.renderSticky(e,n,t):void 0},e.renderSticky=function(t,n,i){var r,s,a,o,c,l,d,u,h,p;if(c=n.className.replace(/(l|r)sticky/,""),a=t.l()>160?"rsticky":"lsticky",n.className=c.replace("sticky","sticky "+a),d=$(n).find(".sideline"),s=$(n).find(".box"),o=$(n).find(".line"),r=$(n).find(".arrow"),d.css("width",t.slw*t.s()/100+"px"),d.css("display",""),u=t.slt,t.slt<20?(u=20,s.css("border-bottom-width","2px"),s.css("border-top-width","0")):t.slt>t.height-20&&(u=t.height-20,s.css("border-bottom-width","0"),s.css("border-top-width","2px")),l=(t.slt-u)*t.s()/100,d.css("top",u*t.s()/100+"px"),t.bg&&d.css("border-color",t.bg),s.css("height",Math.abs(l)+"px"),t.slt<=t.top-20?s.css("top",l+"px"):s.css("top",""),o.css("top",l+"px"),/p$/.test(i)){if(20===t.slt&&50===t.slw)return d.css("display","none")}else if(!r.hasClass("ui-draggable"))return r.on("click",function(e){return e.stopPropagation()}),h=p=null,r.draggable({scroll:!1,start:function(){return d.css("opacity","1"),t=Widget.find(t.cid),h=t.slt,p=t.slw},drag:function(i,r){return t.slt=h+r.position.top+6,t.l()>160?t.slw=p-r.position.left-10:t.slw=p+r.position.left-.64*p,t.slw<20&&(t.slw=20),e.renderSticky(t,n)},stop:function(){return d.css("opacity",""),h=t.slt,p=t.slw,t.lsave()}})},e.transform=function(e,t,n,i){var r,s;if(i.className=MB.widgetClassName(n,"p").replace("animated",""),s=i.style,t.fs!==n.fs&&(s.fontSize=n.fS()+"px"),t.bs!==n.bs&&(s.borderWidth=n.bs+"px"),t.br!==n.br&&(s.borderRadius=n.bR()+"px"),t.lh!==n.lh&&(s.lineHeight=n.lH()+"px"),t.padding!==n.padding&&(s.padding=n.paddingS()+"px"),n.bg!==t.bg&&(s.backgroundColor=n.bg),n.tc!==t.tc&&(s.color=n.tc),n.bc!==t.bc&&(s.borderColor=n.bc),n.ls!==t.ls&&(s.borderStyle=n.lineStyle()),n.bo!==t.bo&&(s.fontWeight=n.bo?"bold":"normal"),n.i!==t.i&&(s.fontStyle=n.i?"italic":"normal"),n.ds===t.ds&&n.sc===t.sc||(r=MB.currentProject.isAndroid()?MB.l.getMaterialShadow(n.ds,MB.hex2rgb(n.sc)):"0 0 "+n.ds+"px "+n.sc,"icon_button"!==n.name?s.boxShadow=r:s.textShadow=r),n.ts===t.ts&&n.tsc===t.tsc||(s.textShadow="0 0 "+n.ts+"px "+n.tsc),"label"===n.name&&(n.ha!==t.ha&&(s.justifyContent={left:"flex-start",center:"center",right:"flex-end"}[n.ha]),n.va!==t.va&&(s.alignItems={top:"flex-start",middle:"center",bottom:"flex-end"}[n.va])),MB.isPhantom()||"none"===n.ani_name||("0"!==n.ani_delay&&(s.animationDelay=n.ani_delay),s.animationIterationCount=n.ani_count,"0"!==n.ani_duration&&(s.animationDuration=n.ani_duration)),n.ro!==t.ro)return s.transform="rotate("+n.ro+"deg)"},e}()}.call(this),function(){this.ScreenManager=function(){function e(){var t,n;t=$("#design"),n=$("#screen"),t.on("orient:update",function(e){return function(t){return e.updateOrientation(t)}}(this)),t.on("carrier:update",function(e){return function(t,n){return e.updateCarrier(n)}}(this)),t.on("status_bar:update",function(t,n){return e.updateStatusBar(n)}),t.on("screens:setBgColor",function(e){return function(t,n){return e.setBgColor(n)}}(this)),t.on("click",".sbgcolor",function(e){return function(t){return e.chooseBgColor(t)}}(this)),t.on("click",".sbgimage",function(e){return function(t){return e.chooseBgImage(t)}}(this)),t.on("click",".enlarge",function(e){return function(){return n.enableTransition("0.3s"),e.updateSize(0,80,!0,!0),MB.renderLinks(!0)}}(this)),t.on("click",".reduce",function(e){return function(){return n.enableTransition("0.3s"),e.updateSize(0,-80,!0,!0),MB.renderLinks(!0)}}(this)),t.on("screen:restore",function(e){return function(t,n){return e.restoreScreen(n)}}(this)),t.on("click","#new_screen",function(t){return e.add(t)}),t.on("position:reset",e.resetPosition),$("body").sortable("#screen_list .sortable",Screen,e.sort),this.initScreenListDnD(),this.initCanvasDnd(),this.initScreenResizer()}return e.resetPosition=function(){var e;if(e=document.getElementById("screens"))return e.scrollTop=0,e.scrollLeft=($("#screens .screen_container").width()-e.clientWidth)/2},e.append=function(e,t){var n,i,r,s,a;if(a=Screen.find($("#screen").data("cid"))){for(s=a.citems(),i=0,r=s.length;i<r;i++)if(n=s[i],n.timestamp>t)return void("panel"===n.name?$("#panel"+n.cid).before(e):$("#widget"+n.cid).before(e));return $("#canvas").append(e)}},e.appendPanel=function(e){return this.append(MB.Panel(e),e.timestamp)},e.appendWidget=function(e){return this.append(MB.widget(e),e.timestamp)},e.activate=function(t){var n,i;return MB.currentScreen=t,MB.selection.clear(),n=$("#canvas"),i=$("#screen"),n.html(""),i.data("cid",t.cid),i.attr("class","screen "+t.orient()+" "+t.device()+" x"+t.scale()),t.setState("default"),this.render(t),i.css({width:t.outerWidth(),height:t.outerHeight(),marginLeft:0-t.outerWidth()/2}),i.addClass("active"),$("#text_editor").remove(),MB.preference().grid&&n.addClass("grid"),i.find(".actions .sbgcolor").css("background-color",t.bgcolor),MB.toolboxes.setState({activePanelState:null,groupedItems:MB.selection.groupedItems}),MB.renderRightNav(),MB.rightNav.stateList.activateGlobal(),$("#design").trigger("slider:update"),e.updateStatusBar(!!$("#screen .status_bar").length),e.updateScreenContainer(),MB.linkCaches={},MB.renderLinks(),e.renderRuler(t),MB.preference().grid?$("#screen .sgrid").show():$("#screen .sgrid").hide(),$("#screen .actions a").tooltip({container:"body",trigger:"hover focus click"}),MB.renderToolbar()},e.renderRuler=function(e){var t,n,i;if(MB.ruler&&MB.ruler.destroy(),$("#screens").length>0)return MB.preference().ruler?(t=$("#canvas").offset(),n=$("#screens").offset(),i=24,MB.ruler=$("#screens").getRuler({bgColor:"white",fgCOlor:"#333",shadowColor:"#e9e9e9",horLineValue:e.halignLines(),verLineValue:e.valignLines(),startX:n.left+i-t.left-$("#screens")[0].scrollLeft,startY:n.top+i-t.top-$("#screens")[0].scrollTop,perWidth:10*MB.scale()/100,thick:i}),MB.ruler.setSelect(0,0,e.width,e.height),$(".ltoggle").css("right",-37),$("#toolboxbar .tools").css("top",23)):($(".ltoggle").css("right",-15),$("#toolboxbar .tools").css("top",0)),$(document.body).unbind("setAlignLine"),$(document.body).on("setAlignLine",function(e,t){var n;return n=MB.currentScreen.sa(),n.h=t.horValue.join(","),n.v=t.verValue.join(","),n.lsave()}),$("#screens").onScroll(this.onScroll)},e.onScroll=function(){if(ReactDOM.unmountComponentAtNode(document.getElementById("context-menu")),$("body").trigger("selection:render"),MB.renderLinks(!0),MB.ruler)return MB.ruler.update()},e.render=function(e){var t,n,i,r,s,a,o,c,l,d;if(e){for(t=$("#canvas"),t.css({"background-color":e.bgcolor,"background-image":e.bgimage?"url("+e.getRealBgImage()+")":"none"}),i='<div class="sgrid" data-selectable="true">\n  <div class="first-page-divider"></div>\n</div>\n<div class="vertical_line left"></div>\n<div class="vertical_line right"></div>\n<div class="vertical_line center"></div>\n<div class="horizon_line top"></div>\n<div class="horizon_line bottom"></div>\n<div class="horizon_line center"></div>',n=[],l=e.citems(),s=0,o=l.length;s<o;s++)r=l[s],r.setState(e.state_cid,!0),"panel"===r.name?r.valid()&&(i+=MB.Panel(r)):i+=MB.widget(r),["sticky"].indexOf(r.name)!==-1&&n.push(r);for(t.html(i),a=0,c=n.length;a<c;a++)d=n[a],WidgetManager.design(d);return this.renderFirstPageDivider()}},e.renderFirstPageDivider=function(e){var t,n,i;return t=$("#screen .first-page-divider"),e=e||Screen.find($("#screen").data("cid")),i=Math.floor(e.height*(e.scale()/100)),n=Math.floor(e.dH()),i>n?t.css("top",n).show():t.hide()},e.updateStatusBar=function(e){var t,n;return t=$("#canvas"),e?(t.addClass("sb"),$(".istatus_bar").hide(),n=$("#screen .status_bar span.text").text(),MB.COMPONENTS.status_bar.text=MB.COMPONENTS.status_bar.tb_text=n,$("#components .tstatus_bar span").html(n)):(t.removeClass("sb"),MB.project().template?void 0:$(".istatus_bar").show())},e.updateScreenContainer=function(){var e;return e=document.getElementById("screens"),e.scrollTop=0,e.scrollLeft=($("#screens .screen_container").width()-$("#screens").width())/2},e.updateState=function(e,t){var n,i,r,s,a,o,c,l,d,u;for(c=e.cwidgets(),n=0,s=c.length;n<s;n++)u=c[n],u.setState(t,!0),(r=Link.find(u.gid))&&r.reload(),WidgetManager.update(u);for(l=e.cpanels(),d=[],i=0,a=l.length;i<a;i++)o=l[i],o.setState(t,!0),(r=Link.find(o.gid))&&r.reload(),d.push(PanelManager.design(o));return d},e.remove=function(t){var n;return t.cid===MB.currentScreen.cid&&(n=Screen.find($("#sli"+t.cid).prev().data("cid")),n||(n=t.parent_cid?Screen.find(t.parent_cid):MB.project().homeScreen()),e.activate(n)),MB.renderRightNav(),MB.renderLinks()},e.add=function(e){var t,n,i;if(e.preventDefault(),!MB.exceedWidgetLimit(MB.currentProject))return i=MB.project().rootScreens(),n=MB.currentScreen.position+1,t=I18N.screen+" "+(i.length+1),this.newScreen(t,n,MB.currentScreen.parent_cid,MB.currentScreen.orientation,!0)},e.newScreen=function(e,t,n,i,r,s){var a,o,c,l,d,u;for(null==s&&(s=!0),a=MB.project().template?"transparent":"#F0F0F2",l=new Screen({name:e,project_cid:MB.project().cid,parent_cid:n,orientation:i,cid:"s"+Math.uuid(10,16)+(new Date).valueOf(),bgcolor:a,position:t}),l.lsave(),d=MB.project().cscreens(),o=0,c=d.length;o<c;o++)u=d[o],u.cid!==l.cid&&u.parent_cid===l.parent_cid&&u.position>=l.position&&(u.position+=1,u.lsave());return r&&!MB.project().template&&l.setup(null),s&&(MB.EditableSpan.expecting=l.cid),this.activate(l),MB.renderRightNav(),l},e.prototype.initScreenListDnD=function(){return $("body").on("dragleave","#screen_list",function(e){if($(e.target).closest(".item").length)return $(e.target).closest(".item").removeClass("linking")}),$("body").on("dragover","#screen_list",function(e){if(e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy",$(e.target).closest(".item").length)return $(e.target).closest(".item").addClass("linking")}),$("body").on("drop","#screen_list",function(t){return function(n){var i,r;if(n.stopPropagation(),n.preventDefault(),i=n.originalEvent.dataTransfer.files,i.length)return localStorage["feature.imageScreen"]||(localStorage["feature.imageScreen"]=!0,MB.mp("\u521b\u5efa\u4e86\u5355\u56fe\u9875\u9762")),$("#screen_list .item.linking").removeClass("linking"),r=$(n.target).closest(".sli"),r.hasClass("last_child")&&(r=r.prev()),r.length||(r=$("#screen_list > .sli").last()),r=Screen.find(r.data("cid")),Asset.createFromFiles(i,function(n){var i,s,a;return i=n.name.replace(/\.[^\.]+$/,""),s=e.newScreen(i,r.position+1,r.parent_cid,MB.currentScreen.orientation,!1,!1),a=WidgetManager.newImageView(n,0,0,s),$("#design").trigger("height:adjust"),t.updateSize(0,a.height-s.height,!0,!1)})}}(this))},e.sort=function(e,t,n){var i,r,s,a,o,c,l,d;for(d=Screen.find(e),d.position=t,d.parent_cid=n,d.lsave(),o=d.parent_cid?$("#children"+d.parent_cid+" > .sli"):$("#screen_list > .sli"),r=1,s=0,a=o.length;s<a;s++)i=o[s],l=Screen.find($(i).data("cid")),r===t&&(r+=1),l.cid!==d.cid&&(c=l.position,l.position=r,c!==l.position&&l.lsave(),r+=1);return MB.renderRightNav(),MB.renderLinks()},e.prototype.updateCarrier=function(e){return MB.COMPONENTS.status_bar.text=MB.COMPONENTS.status_bar.tb_text=e,$("#components .tstatus_bar span").html(e)},e.prototype.updateOrientation=function(){var t,n,i,r,s,a,o,c;if(!this.inTransition){for(this.inTransition=!0,s=$("#screen").hasClass("portrait")?"landscape":"portrait",n=$("#screen").data("cid"),o=Screen.find(n),o.setOrientation(s),o.lsave(),a=o.cwidgets(),i=0,r=a.length;i<r;i++)c=a[i],c.isFullWidth()&&(c.setW(o.width),"keyboard"===c.name&&(c.height=o.kbDH()),c.lsave(),WidgetManager.update(c));return $(".widget").hide(),$("#links").hide(),t=$("#screen"),t.hasClass("portrait")?t.removeClass("portrait").addClass("landscape"):t.removeClass("landscape").addClass("portrait"),t.css({width:o.outerWidth()+"px","margin-left":0-o.outerWidth()/2+"px",height:o.outerHeight()+"px"}),setTimeout(function(t){return function(){return $(".widget").show(),$("#links").show(),MB.renderLinks(),$("#design").trigger("slider:update"),t.inTransition=!1,e.renderRuler(MB.currentScreen),e.renderFirstPageDivider()}}(this),300)}},e.prototype.initCanvasDnd=function(){return $("#design").on("dragleave","#screens",function(){return $(".canvas").removeClass("hover")}),$("#design").on("dragover","#screens",function(e){return e.stopPropagation(),e.preventDefault(),$("#canvas").addClass("hover"),e.originalEvent.dataTransfer.dropEffect="copy"}),$("#design").on("drop","#screens",function(e){return function(t){return t.stopPropagation(),t.preventDefault(),MB.globalStateAlert()?void $("#canvas").removeClass("hover"):e.dropImage(t)}}(this))},e.prototype.dropImage=function(e){var t,n,i,r;return $("#canvas").removeClass("hover"),n=e.originalEvent.pageX-MB.canvasLeft(),r=e.originalEvent.pageY-MB.canvasTop(),t=e.originalEvent.dataTransfer.files,i=Screen.find($("#screen").data("cid")),Asset.createFromFiles(t,function(e){var t;return t=WidgetManager.newImageView(e,n,r,i),MB.trigger("undoStack:add",[null,[t.dup()]]),MB.selection.clear(),MB.trigger("selection:select",[[t]]),$("#design").trigger("height:adjust"),r+=e.height})},e.prototype.restoreScreen=function(e){var t;if(t=Screen.find(e.cid))return e.width!==t.width||e.height!==t.height?(this.updateSize(e.width-t.width,e.height-t.height,!0,!1),$("#screen").css("margin-left",0-e.outerWidth()/2+"px"),MB.renderLinks(!0)):e.bgcolor!==t.bgcolor&&($(".sbgcolor").css("background-color",e.bgcolor),$("#canvas").css("background-color",e.bgcolor),t.bgcolor=e.bgcolor),e.bgimage?($("#canvas").css("background-image","url("+e.getRealBgImage()+")"),t.bgimage=e.bgimage):($("#canvas").css("background-image",""),t.bgimage=""),t.lsave()},e.prototype.updateSize=function(t,n,i,r,s){var a,o,c,l,d,u,h,p,f;if(a=$("#screen"),p=Screen.find($("#screen").data("cid")),o=[p.dup()],u=p.height,p.height+=n,d=Math.round(100*p.dH()/MB.scale()),MB.project().template||MB.project().combo)p.width+=t,p.height<10&&(p.height=10),p.width<10&&(p.width=10),s&&(n&&(p.height=10*Math.round(p.height/10)),t&&(p.width=10*Math.round(p.width/10)));else for(s&&(p.height=10*Math.round(p.height/10)),p.height<d&&(n=d-u,p.height=d),h=p.cwidgets(),c=0,l=h.length;c<l;c++)f=h[c],f.inFooter()&&(f.top&&(f.top+=n),i&&f.lsave(),WidgetManager.renderOutline(f));return i&&(p.lsave(),(MB.project().template||MB.project().combo)&&MB.project().updatePanelSize(p.width,p.height)),r&&$("body").trigger("undoStack:add",[o,[p.dup()]]),a.outerHeight(p.outerHeight()),a.outerWidth(p.outerWidth()),MB.ruler&&MB.ruler.setSelect(0,0,100*p.w()/MB.scale(),100*p.h()/MB.scale()),e.renderFirstPageDivider(),p},e.prototype.initScreenResizer=function(){return $(document).on("mousedown",".screen .resizer",function(e){return function(t){var n,i;return e.origX=$(t.target).closest(".resizer_x").length?t.pageX:0,e.origY=$(t.target).closest(".resizer_y").length?t.pageY:0,i=$("#screens"),n=$("#screen"),e.scrollStartL=i[0].scrollLeft,e.scrollStartT=i[0].scrollTop,$("body").trigger("selection:clear"),n.disableTransition()}}(this)),$(document).on("mousemove",function(t){return function(n){var i,r,s,a,o,c,l,d;if(t.origY||t.origX)return i=$("#screens"),c=i[0].scrollLeft-t.scrollStartL,l=i[0].scrollTop-t.scrollStartT,a=t.origY?Math.round(100*(n.pageY-t.origY+l)/MB.scale()):0,s=t.origX?Math.round(100*(n.pageX-t.origX+c)/MB.scale()):0,o=t.updateSize(s,a,!1,!1,n.shiftKey),d=o.width,r=o.height,e.renderFirstPageDivider(o),$("#screen .resizer span.tip").text(d+"x"+r)}}(this)),$(window).mouseup(function(t){return function(n){var i,r,s,a,o,c;if(t.origY||t.origX)return i=$("#screen"),o=$("#screens")[0].scrollLeft-t.scrollStartL,c=$("#screens")[0].scrollTop-t.scrollStartT,s=t.origY?Math.round(100*(n.pageY-t.origY+c)/MB.scale()):0,r=t.origX?Math.round(100*(n.pageX-t.origX+o)/MB.scale()):0,t.origY=t.origX=null,a=t.updateSize(r,s,!0,!0,n.shiftKey),a.detectConflict(),i.css("margin-left",0-a.outerWidth()/2),i.find(".resizer span.tip").text(I18N.drag_to_resize),i.enableTransition("0.3s"),setTimeout(function(){if(MB.renderLinks(!0),MB.project().template||MB.project().combo)return e.renderRuler(MB.currentScreen)},500)}}(this))},e.prototype.chooseBgColor=function(e){return e.stopPropagation(),MB.selection.clear(),MB.toolboxes.setState({pickColorFor:"screen"})},e.prototype.setBgColor=function(e){var t,n,i,r;return t=$("body"),n=$("#canvas"),$(".sbgcolor").css("background-color",e),n.css("background-color",e),r=Screen.find($("#screen").data("cid")),i=[r.dup()],r.bgcolor=e,r.bgimage="",r.lsave(),n.css("background-image",""),t.trigger("undoStack:add",[i,[r.dup()]])},e.prototype.chooseBgImage=function(e){var t;return e.stopPropagation(),MB.selection.clear(),t=Screen.find(MB.currentScreen.cid),MB.renderAssetsManager(t)},e}()}.call(this),function(){this.PanelManager=function(){function e(){$("#design").on("click",".panel",function(t){return e.select(t)}),$("#design").on("click",".pscontainer > .widget",function(t){return e.selectWidget(t)})}return e.select=function(t){var n,i,r;if(!$(t.target).closest(".panel").hasClass("selected"))return i=Panel.find($(".panel.selected").data("cid")),i&&e.deactivate(i),t.preventDefault(),t.stopPropagation(),n=$(t.target).closest(".panel").attr("data-cid"),r=Panel.find(n),t.shiftKey?$("body").trigger("selection:append",[r]):t.ctrlKey||t.metaKey?MB.penetrateSelect(t,r.cid):($("body").trigger("selection:clear"),$("body").trigger("selection:select",[[r]])),MB.selection.flagBucket.selectingMoved=!1,MB.selection.flagBucket.selectEffect=!1},e.selectWidget=function(e){var t,n;if($(e.target).closest(".panel").hasClass("selected"))return e.preventDefault(),e.stopPropagation(),t=$(e.target).closest(".widget").attr("data-cid"),n=Widget.find(t),e.shiftKey?$("body").trigger("selection:append",[n]):($("body").trigger("selection:clear"),$("body").trigger("selection:select",[[n]]))},e.activate=function(e,t){var n,i;return n=new GroupedItems,n.push(e),MB.selection.clear(),MB.toolboxes.setState({activePanelState:t,groupedItems:n}),$("#panel"+e.cid+" .state.active").removeClass("active"),i=document.getElementById("state"+e.cid+t),i.className+=" active",$("#panel"+e.cid).addClass("selected"),MB.renderLinks()},e.deactivate=function(e){var t;return $("#panel"+e.cid).removeClass("selected"),$("#panel"+e.cid+" .state.active").removeClass("active"),t=document.getElementById("state"+e.cid+e.mainState().cid),t.className+=" active",MB.selection.clear(),MB.renderLinks(),MB.toolboxes.setState({activePanelState:null,groupedItems:MB.selection.groupedItems})},e.design=function(e){var t,n,i,r;if(i=document.getElementById("panel"+e.cid))return r=e.mainState(),t=$(i).find(".state.active"),n=$(i).find("#state"+e.cid+r.cid),t.data("cid")!==r.cid&&(t.removeClass("active"),n.addClass("active")),i.style.top=e.t()+"px",i.style.left=e.l()+"px",i.style.width=e.w()+"px",i.style.height=e.h()+"px",e.v?(i.style.zIndex=e.fixed?Widget.MAXZ+e.z:e.z,i.style.opacity=1):(i.style.zIndex=-Widget.MAXZ,i.style.opacity=.4)},e.remove=function(e,t){var n;if(null==t&&(t=!0),$("#panel"+e).remove(),n=Panel.find(e))return n.ldestroy(t)},e}()}.call(this),function(){var e,t,n,i,r,s=function(e,t){function n(){this.constructor=e}for(var i in t)a.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;e=50,t=320,r=[50,75,100,150,200],i={},n=function(){function n(){var n;MB.setRunnerExtra(i),this.scrollSync=new i.ScrollSync,this.webpackInvasion=new i.WebpackInvasion,this.timeoutBucket=new i.TimeoutBucket,
this.eventBucket=new i.EventBucket,this.runnerUtil=new i.RunnerUtil,this.transitionUtil=new i.TransitionUtil,this.muteSimulatorMouseDown=!1,n=function(e){return function(t){return e.muteSimulatorMouseDown=t}}(this),this.toggleBoard=new i.ToggleBoard(function(i){var r,s,a,o,c,l,d,u;if(a=i.Screen,s=i.Comment,o=i.TextSelecting,$("#simulator-container").length)return l=Math.max(a?t+e:0,e),r=$("#simulator-container"),c=r[0],u=c.scrollLeft/(c.scrollWidth-r.width()),d=Math.round((c.scrollWidth+l-$(window).width())*u),c.style.right=l+"px",r.animate({scrollLeft:d,duration:100}),n(s||o)}),this.toggleBoard.addToggle("Screen",!1,function(e){return function(t){return t&&e.webpackInvasion.safeCall("webpackInterface","callViewMethod","screen","start"),t&&e.webpackInvasion.safeCall("webpackInterface","updateCurrentScreen"),!t&&e.webpackInvasion.safeCall("webpackInterface","callViewMethod","screen","stop")}}(this)),this.toggleBoard.addToggle("Comment",!1,function(e){return function(t){return t&&e.webpackInvasion.safeCall("webpackInterface","callViewMethod","comment","start"),t&&e.webpackInvasion.safeCall("webpackInterface","updateCurrentScreen"),!t&&e.webpackInvasion.safeCall("webpackInterface","callViewMethod","comment","stop")}}(this)),this.toggleBoard.addToggle("TextSelecting",!1,function(){return function(e){return $("#switch-mode").toggleClass("active",e),$("#app").toggleClass("text-selecting",e),$("#sticky-container").toggleClass("text-selecting",e),$("#simulator-container").toggleClass("text-selecting",e)}}(this)),this.clearCallbackBucket={},this.clearCallbackBucket.webpackInvasion=function(e){return function(){return e.webpackInvasion.clear()}}(this),this.clearCallbackBucket.toggleBoard=function(e){return function(){return e.toggleBoard.toggle("Screen",!1),e.toggleBoard.toggle("Comment",!1),e.toggleBoard.toggle("TextSelecting",!1)}}(this),$("body").on("click","#switch-sharing",function(){return function(){return MB.ga("send","event","feature","\u70b9\u51fb\u4e86\u5206\u4eab\u6309\u94ae"),MB.renderSharing(MB.project()),$("#sharing-modal").modal()}}(this)),$("body").on("click","#switch-screen",function(e){return function(){return MB.ga("send","event","feature","\u70b9\u51fb\u4e86\u8fd0\u884c\u9875\u9875\u9762\u5217\u8868"),e.toggleBoard.toggle("Screen")}}(this)),$("body").on("click","#switch-comment",function(e){return function(){var t,n;return MB.mp("\u70b9\u51fb\u4e86\u8bc4\u8bba\u6309\u94ae"),t=MB.project(),n=t.owner_plan,t.expired&&MB.user.id?MB.promptRenew(t,"comments"):(MB.mp("\u6253\u5f00\u4e86\u8bc4\u8bba\u9762\u677f"),e.toggleBoard.toggle("Comment"))}}(this)),$("body").on("click","#switch-mode",function(e){return function(){return e.toggleBoard.toggle("TextSelecting")}}(this)),$("body").on("click","#back_prev",function(e){return function(){return e.backPrev()}}(this)),$("body").on("click","#zoomin",function(e){return function(){return e.zoom(1)}}(this)),$("body").on("click","#zoomout",function(e){return function(){return e.zoom(-1)}}(this)),this.eventBucket.bind({onScreenFocus:function(e){return function(){return MB.config.fileSelecting?MB.config.fileSelecting=!1:e.reload()}}(this)}),MB.isMobile()?this.eventBucket.bindMobile({onOrientationChange:function(e){return function(){return setTimeout(function(){return e.reload(!0)},100)}}(this)}):this.eventBucket.bindDesktop({onAppMouseDown:function(e){return function(t,n){var i,r,s,a;return!!e.muteSimulatorMouseDown||(!!$(t.target).closest(".sticky, .webpage, .comment-marker").length||(i=$(t.target).closest(".map_view .image"),!(!i.length&&(i=$(t.target).closest(".ppanel"),s=Panel.find(i.data("cid")),s&&s.timerFired))&&(i.length?r=a=i[0]:(r=$(t.target).closest(".widgets")[0],r&&"web"!==MB.currentProject.device||(r=$("#simulator-container")[0]),a=$(t.target).closest(".widgets")[0]||r),!r&&!a||(!($(r).width()<r.scrollWidth||$(a).height()<a.scrollHeight)||(n.vScrollTarget=a,n.hScrollTarget=r,n.top=a.scrollTop,n.left=r.scrollLeft,!1)))))}}(this),onAppMouseMove:function(){return function(e,t,n){var i,r,s,a,o,c;return i=t.hScrollTarget,a=t.vScrollTarget,s=t.top,r=t.left,o=t.x,c=t.y,!n.down||(e.preventDefault(),i&&(i.scrollLeft=Math.min(r-e.clientX+o,i.scrollWidth-$(i).width())),a?a.scrollTop=Math.min(s-e.clientY+c,a.scrollHeight-$(a).height()):void 0)}}(this)}),window.addEventListener("message",function(e){return function(t){var n;try{if(n=JSON.parse(t.data),"back"===n.event)return e.backPrev()}catch(e){}}}(this),!1),MB.isMobile()||$(document).on("dragstart",function(e){if("IMG"===e.target.nodeName.toUpperCase())return e.preventDefault(),!1})}return n.prototype.init=function(){var e,t;return e="transparent"===this.home.bgcolor?"#f2f2f2":this.home.bgcolor,$("#simulator .splash").css("background-color",e),$("#app").show(),$("#simulator").css("overflow","hidden"),this.prepareOrientation(this.home),this.home.setupSplash("#simulator .splash img"),this.project.setup(),this.pages={},this.setupPG(),this.currentScreen=this.currentMenu=null,t=setTimeout(function(e){return function(){return $("#gs").show(),$("#simulator .splash").hide(),$("#splash").hide(),$("#simulator").css("overflow","visible"),e.renderScreen(),e.doneTransition($(".pcanvas.active")),"function"==typeof MB.onload&&MB.onload(),window.parent.postMessage(JSON.stringify({event:"ready"}),"*"),window.parent.WebViewBridge&&window.parent.WebViewBridge.send("ready"),e.webpackInvasion.initWebpackInterface(e.webpackInvasion.getPreviewObserverMap(e))}}(this),1e3),this.clearCallbackBucket.init=function(){return clearTimeout(t)}},n.prototype.clear=function(){var e,t,n;n=this.clearCallbackBucket;for(t in n)(e=n[t])();return this.timeoutBucket.clear(),this.pages={}},n.prototype.loadScreen=function(e){var t,n,i,r;if(this.currentMenu)return void this.closeMenu(function(t){return function(){return t.loadScreen(e)}}(this));if($(".pcanvas.active").data("cid")!==e&&(this.currentScreen=this.currentMenu=null,i=Screen.find(e)))return this.timeoutBucket.clear(),r=this.setOrientation(i.cid,"none",!0),this.prepareTransition(i.cid,r),$(".pcanvas.menu").removeClass("lmenu rmenu menu"),t=$(".pcanvas.active"),n=$("#pscreen"+i.cid),this.transitionUtil.doTransition("none",t,n,new Link)},n.prototype.backPrev=function(){var e;return this.home.cid===$(".pcanvas.active").data("cid")?void window.parent.postMessage(JSON.stringify({event:"exit"}),"*"):(e=new Link({target_cid:"prev",transition:"none"}),this.j(e))},n.prototype.closeMenu=function(e){var t,n,i;return n=$("#pscreen"+this.currentScreen),t=$("#pscreen"+this.currentMenu),i=function(i){return function(){return i.transitionUtil.hideScreen(t),t.removeClass("drawer ldrawer rdrawer"),n.removeClass("menu lmenu rmenu"),i.doneTransition(n),i.currentScreen=i.currentMenu=null,$.nextTick(function(){if("function"==typeof e)return e()})}}(this),n.hasClass("menu")?(n.transitionEnd(i),n.enableTransition("0.3s"),n.translateX(0)):t.hasClass("drawer")?(t.transitionEnd(i),t.enableTransition("0.3s"),t.hasClass("ldrawer")?t.translateX(0-this.transitionUtil.activeWidth()):t.translateX(this.transitionUtil.activeWidth())):void 0},n.prototype.pj=function(e,t){var n,i,r,s,a,o,c,l,d,u,h;if(!this.muteSimulatorMouseDown&&this.eventBucket.isCoolDown()&&!this.timerFired){if(n=$(e.target).closest(".clickable"),r=$(e.target).closest(".ppanel"),i=$(e.target).closest(".pcanvas"),"shake"===t&&(i=this.currentMenu?$("#pscreen"+this.currentMenu):$(".pcanvas.active")),this.currentMenu&&i.data("cid")!==this.currentMenu&&!$(e.target).closest("#gh, #gf").length)return this.closeMenu();if(r.length){if(this.panelEventHandler(e,t))return}else if(n.length&&(c=Link.find(n.attr("data-link_cid")),c&&c.gesture===t))return this.j(c);if(s=i.data("cid"),d=Screen.find(s)){for(l=Widget.records,a=0,o=l.length;a<o;a++)if(u=l[a],u.screen_cid===d.cid&&"pg"===u.name&&(h=u.getState(d.state_cid),h.gid&&(c=Link.find(h.gid))&&c.gesture===t))return this.j(c);if(!this.eventBucket.mouseState.moved){if("hold"===t)return window.parent.postMessage(JSON.stringify({event:"settings"}),"*"),void(window.parent.WebViewBridge&&window.parent.WebViewBridge.send("settings"));if(!$(e.target).closest(".widget").hasClass("sticky"))return MB.project().highlight?this.highlightClickables(e):void 0}}}},n.prototype.panelEventHandler=function(e,t){var n,i,r,s,a,o,c,l,d,u,h,p;if(i=$(e.target).closest(".clickable"),n=$(e.target).closest(".ppanel"),r=n.find(".pstate.active"),s=n.data("cid"),l=Panel.find(s),i.length){if(c=Link.find(i.attr("data-link_cid")),!c)return!1;if("prev"===c.target_cid)return this.j(c),!0;if(c.gesture===t){if(n[0]===i[0])this.j(c);else if($("#pscreen"+c.target_cid).length)this.j(c);else{if(l.timerFired)return!1;h="#"+n.attr("id").replace(/pg[h|f]$/,"p"),this.panelWJ(c,$(h)),$("#panel"+s+"pgh").length&&this.panelWJ(c,$("#panel"+s+"pgh")),$("#panel"+s+"pgf").length&&this.panelWJ(c,$("#panel"+s+"pgf"))}return!0}}if(u=Screen.find(r.data("cid")),!u)return!1;for(d=u.cwidgets(),a=0,o=d.length;a<o;a++)if(p=d[a],"pg"===p.name&&(c=Link.find(p.gid),p.icon===t&&c))return!l.timerFired&&(h="#"+n.attr("id").replace(/pg[h|f]$/,"p"),this.panelWJ(c,$(h)),$("#panel"+s+"pgh").length&&this.panelWJ(c,$("#panel"+s+"pgh")),$("#panel"+s+"pgf").length&&this.panelWJ(c,$("#panel"+s+"pgf")),!0);return!1},n.prototype.highlightClickables=function(){return $(".pcanvas.active .region, #gh .region, #gf .region").show(),$(".pcanvas.active .pg").css("opacity","0.8").show(),this.hightTimer=setTimeout(function(){return $(".pcanvas.active .region, #gh .region, #gf .region").hide(),$(".pcanvas.active .pg").css("opacity","0").hide()},400)},n.prototype.j=function(e){var t,n,i,r,s,a;if(e){if(this.timeoutBucket.clear(),s=e.screen_cid,n=e.target_cid,a=e.transition,this.currentMenu)return n===$(".pcanvas.active").data("cid")?this.closeMenu():e.targetstate_cid?this.stateTransition(e):void this.closeMenu(function(t){return function(){return t.j(e)}}(this));if(e.targetstate_cid)return this.stateTransition(e);if(n&&("prev"===n||$("#pscreen"+n).length)){if("prev"===n){if(r=$(".pcanvas.active").data("prev"),!r)return;if(n=r.pop(),!n)return;$(".pcanvas.active").data("prev",r)}else r=$("#pscreen"+n).data("prev"),r||(r=[]),r.push($(".pcanvas.active").data("cid")),$("#pscreen"+n).data("prev",r);return t=$(".pcanvas.active"),i=$("#pscreen"+n),a=this.setOrientation(n,a,e.reset),this.prepareTransition(n,a),this.transitionUtil.doTransition(a,t,i,e)}}},n.prototype.panelWJ=function(e,t){var n,i,r;if(e&&(n=e.target_cid,r=e.transition,i=t.data("cid"),n))return this.preparePanelTransition(n,r,t,function(s){return function(){var a,o;return a=t.find(".pstate.active"),o=t.find("#state"+i+n+"p"),s.transitionUtil.doTransition(r,a,o,e)}}(this))},n.prototype.prepareTransition=function(e,t){var n,i,r,s,a,o,c,l,d;if(this.timerFired=!0,n=$(".pcanvas.active").removeClass("top drawer ldrawer rdrawer"),n.find(".pstate").css("transition","none"),i=$("#pscreen"+e),i.show(),d=Screen.find(e),this.renderWidgets(d),"leftmenu"!==t&&"rightmenu"!==t&&"leftdrawer"!==t&&"rightdrawer"!==t||(this.currentScreen=n.data("cid"),this.currentMenu=e,t.indexOf("menu")!==-1&&($(".pcanvas.active .widgets")[0].scrollTop=0)),"slideleft"!==t&&"slideright2"!==t&&"slideright"!==t&&"slideleft2"!==t&&this.runnerUtil.setScreenBg(n),"slideright"!==t&&"slideleft"!==t&&"slidebottom"!==t&&"slidetop"!==t&&this.runnerUtil.setScreenBg(i),this.transitionUtil.transitionHandler(t,n,i,this.transitionUtil.activeWidth()-1,this.transitionUtil.activeHeight()-1),$("#gf .keyboard").hide(),$(".pcanvas.active .sheader").css("height",0),$(".pcanvas.active .sfooter").css("height",0),"slideright"!==t&&"slideleft"!==t&&"none"!==t&&($("#gh").css("top",0-$("#gh").height()),$("#gf").css("bottom",0-$("#gf").height())),$("#pscreen"+d.cid+" .panel").length){for(c=d.cpanels(),l=[],s=0,a=c.length;s<a;s++)o=c[s],(r=$("#panel"+o.cid+"p")[0])&&this.activatePanelMainState(o,r,"p"),(r=$("#panel"+o.cid+"pgh")[0])&&this.activatePanelMainState(o,r,"pgh"),(r=$("#panel"+o.cid+"pgf")[0])?l.push(this.activatePanelMainState(o,r,"pgf")):l.push(void 0);return l}},n.prototype.preparePanelTransition=function(e,t,n,i){var r,s,a,o,c;return null==i&&(i=null),"leftmenu"!==t&&"rightmenu"!==t&&"leftdrawer"!==t&&"rightdrawer"!==t||(t="none"),o=n.data("cid"),a=Panel.find(o),c=Screen.find(e),s=n.find("#state"+o+e+"p"),s.length||(c.panel_cid=a.cid,n[0].innerHTML+=MB.PanelState(c,!0,!1),s=n.find("#state"+o+e+"p")),r=n.find(".pstate.active"),s.show(),s.enableTransition("10ms"),i&&"function"==typeof i&&("popin"===t||"slidebottom"===t||"topin"===t||"slidetop"===t||"slideright"===t||"slideleft2"===t||"slideleft"===t||"slideright2"===t?s.transitionEnd(function(){return i()}):setTimeout(function(){return i()},10)),setTimeout(function(e){return function(){return e.transitionUtil.transitionHandler(t,r,s,n.width()-1,n.height()-1)}}(this))},n.prototype.doneTransition=function(e){var t,n,i;return e.removeClass("menu lmenu rmenu"),e.zindex(""),e.disableTransition(),e.hasClass("state")?(this.setupPanelLinks(e),this.setupPanelAnimationAndFixed(e),t=Panel.find(e.closest(".ppanel").data("cid")),n=Screen.find(e.data("cid")),this.setupPanelTimers(t,n),t.timerFired=!1,void t.lsave(!1)):(i=Screen.find(e.data("cid")),this.setupBackground(e,i),this.setupPageTimers(i),this.setupFixedWidgets(i),this.setupStatusBar(i),MB.isAndroid()&&this.setupPageGesture(i),this.timerFired=!1,MB.isMobile()||(this.updateBackButton(e),MB.currentScreen=i,this.webpackInvasion.safeCall("webpackInterface","updateCurrentScreen"),$("#sticky-container #stickies").html($(".pcanvas.active .stickies").html()),this.scrollSync.init($(".pcanvas.active .widgets")[0],$("#sticky-container")[0]),MB.isPhantom()||($("#gs .ppanel, #gh .ppanel, #gf .ppanel").perfectScrollbar({handlers:["click-rail","drag-scrollbar","wheel","touch"]}),e.find(".ppanel").perfectScrollbar({handlers:["click-rail","drag-scrollbar","wheel","touch"]}))),"function"==typeof MB.screenLoaded&&MB.screenLoaded(i.cid),setTimeout(function(e){return function(){var t,n,r,s,a,o;for(s=i.clinks(),a=[],t=0,r=s.length;t<r;t++)n=s[t],n.target_cid&&"prev"!==n.target_cid&&(o=Screen.find(n.target_cid),o&&o.project_cid===i.project_cid?(e.renderWidgets(o),a.push($("#pscreen"+o.cid).enableTransition("10ms"))):a.push(void 0));return a}}(this),10))},n.prototype.updateBackButton=function(e){return e.data("cid")!==this.project.homeScreen().cid?$("#back_prev").removeClass("disabled"):$("#back_prev").addClass("disabled")},n.prototype.prepareOrientation=function(e){var t,n,i,r,s,a,o,c,l,d,u,h,p;return t=$("#simulator"),MB.isMobile()?(h=[],s="",i=u=0,MB.validDevice(this.project)?this.runnerUtil.deviceOrient()===e.orient()?(p=$(window).width(),n=$(window).height()):(n=$(window).width(),p=$(window).height(),u=0-n,h.push("rotate(90deg)"),s="bottom left"):(p=e.dW(),n=e.dH(),MB.isiPad()&&["ipad_3_4","ipad_pro"].indexOf(this.project.model)!==-1&&p<=$(window).width()?(i=0,u=($(window).height()-n)/2):(this.runnerUtil.deviceOrient()===e.orient()||"web"===e.cp().device?(this.scale=$(window).width()/p,n=Math.floor($(window).height()/this.scale)):(this.scale=$(window).height()/p,n=Math.round($(window).width()/this.scale),u=0-n,h.push("rotate(90deg)"),s="bottom left"),MB.isWechat()&&MB.isAndroid()?(r=window.onresize,window.onresize=null,document.querySelector("meta[name=viewport]").setAttribute("content","width=device-width, initial-scale="+this.scale+", maximum-scale="+this.scale+", user-scalable=0"),setTimeout(function(){return window.onresize=r},10)):h.push("scale("+this.scale+")"))),s?setTimeout(function(){return t.css({"transform-origin":s,transform:h.join(" ")})},0):t.css({"transform-origin":s,transform:h.join(" ")})):MB.isEmbedded()||MB.isPhantom()?(p=e.dW(),n=e.dH(),u=i=0):this.project.isWeb()?(p=e.dW(),n=Math.min(e.h(),$(window).height()),u=n>$(window).height()?0:Math.round(($(window).height()-n)/2)+"px",i=600,t.css({padding:0,"border-radius":0}),$("#sticky-container").css({top:0,left:0}),$("#simulator-wrapper").css("height",""),this.setupSimulatorWrapper(p)):(d=e.cp().shell(),l=this.project.scale/100,p=Math.round(d.width*l),n=Math.round(d.height*l),o=Math.round(d.top*l),a=Math.round(d.left*l),e.orient()!==MB.currentProject.homeScreen().orient()&&(c=[n,p,a,o],p=c[0],n=c[1],o=c[2],a=c[3]),$("#sticky-container").css({top:o,left:a}),t.css({"padding-top":o,"padding-left":a,"padding-bottom":n-e.dH()-o,"padding-right":p-e.dW()-a,"border-radius":10}),u=Math.max(10,Math.round(($(window).height()-n)/2)),$("#simulator-wrapper").outerHeight(2*u+n),i=600,this.setupSimulatorWrapper(p)),this.scale||(this.scale=1),p&&t.outerWidth(p),n&&t.outerHeight(n),t.css({left:i,top:u}),t.attr("class",this.project.shell().device+" "+e.orient()+" "+this.project.device+" x"+this.project.scale)},n.prototype.setupSimulatorWrapper=function(e){var t,n;return $("#simulator-wrapper").outerWidth(e+1200),t=$("#simulator-container").width(),e+1200<t?($("#simulator-wrapper").css("left",(t-(e+1200))/2),n=0):n=(e-t+1200)/2,$("#simulator-container")[0].scrollLeft=n},n.prototype.setOrientation=function(e,t,n){var i,r,s;if(Screen.exists(e))return s=Screen.find(e),r=s.orient(),i=$("#simulator"),i.hasClass(r)||(i.removeClass("portrait landscape"),i.addClass(r),this.prepareOrientation(s),this.hideActive(),this.clearCanvas(),t="none"),n&&"default"!==s.state_cid&&this.resetScreen(e),t},n.prototype.hideActive=function(){var e;return e=$(".pcanvas.active").data("cid"),$(".pcanvas.active").hide()},n.prototype.resetScreen=function(e){return $("#pscreen"+e+" .scontainer").html('<div class="sheader"></div><div class="sfooter"></div>'),$("#pscreen"+e+" .stickies").html(""),setTimeout(function(){return $("#pscreen"+e+" .widgets")[0].scrollTop=0},100)},n.prototype.clearCanvas=function(){var e,t,n,i,r;for($(".scontainer").html('<div class="sheader"></div><div class="sfooter"></div>'),$(".stickies").html(""),$("#gh").html(""),$("#gf").html(""),$("#gs").html(""),i=$(".pcanvas .widgets"),r=[],t=0,n=i.length;t<n;t++)e=i[t],r.push(e.scrollTop=0);return r},n.prototype.reload=function(e){var t,n;return null==e&&(e=!1),this.currentMenu?void this.closeMenu(function(t){return function(){return t.reload(e)}}(this)):(t=$(".pcanvas.active").data("cid"),Screen.exists(t)?(n=Screen.find(t),e&&this.prepareOrientation(n),this.clearCanvas(),this.prepareTransition(t,"none"),this.doneTransition($(".pcanvas.active"))):void 0)},n.prototype.transformItem=function(e,t,n,i,r){var s,a,o,c,l,d,u;return l=i.style,l.transition=r,t.width!==n.width&&(l.width=n.w()+"px"),t.height!==n.height&&(l.height=n.h()+"px"),d=n.t(),n.fixed?n.isBottomFixed(e)&&(d=MB.isIOS9()&&MB.runner.deviceOrient()===e.orient()?$("#simulator").height()-(e.h()-d)+MB.COMPONENTS.status_bar.height:$("#simulator").height()-(e.h()-d)):/gf$/.test(i.id)&&(s=n.t()+n.h(),a=0===e.footerHeight()?Number.MAX_VALUE:Math.floor(e.h()-e.footerHeight()),s>=a&&d<e.h()&&(d-=a)),!n.fixed||t.fixed||/gh$/.test(i.id)?!n.fixed&&t.fixed&&/gh$/.test(i.id)&&(d-=$(".pcanvas.active .widgets")[0].scrollTop):d+=$(".pcanvas.active .widgets")[0].scrollTop,d!==t.t()&&(l.top=d+"px"),t.l()!==n.l()&&(l.left=n.l()+"px"),n.v?(c="auto",o=n.o/100,u=n.fixed?Widget.MAXZ+n.z:n.z):(o=0,u=n.z,c="none"),l.zIndex=u,l.opacity=o,l.pointerEvents=c},n.prototype.transformWidget=function(e,t,n,i,r){return this.transformItem(e,t,n,i,r),WidgetManager.transform(e,t,n,i,r)},n.prototype.activatePanelMainState=function(e,t,n){var i;return this.timeoutBucket.clearTimeoutByKey(e.cid),i=e.mainState(),$("#panel"+e.cid+n+" .state").disableTransition(function(){var r,s;return s=$(t).find("#state"+e.cid+i.cid+n),s.length||(i.panel_cid=e.cid,t.innerHTML+=MB.PanelState(i,!0,!1),s=$(t).find("#state"+e.cid+i.cid+n),MB.runner.setupPanelLinks(s)),r=$(t).find(".state.active"),r.css("transform",""),r.removeClass("active top"),MB.runner.transitionUtil.hideScreen(r),MB.runner.setupPanelAnimationAndFixed(s),s.css("transform",""),s.addClass("active top"),s.show()})},n.prototype.transformPanel=function(e,t,n,i,r,s){var a;if(this.transformItem(e,t,n,i,r),a=!(!n.main_state_cid||t.main_state_cid===n.main_state_cid))return this.activatePanelMainState(n,i,s),this.setupPanelTimers(n,n.mainState())},n.prototype.stateTransition=function(e){var t,n,i,r,s,a,o,c,l,d,u;if(r=Screen.find(e.screen_cid),r.state_cid!==e.targetstate_cid)return c=e.targetstate_cid,d=e.ani_duration+" "+(e.ani_delay||"0s")+" "+(e.ani_easing||"linear"),o=Screenstate.find(c),u=[],Widget.select(function(e){var t,n,i,s,a;return e.screen_cid===r.cid&&(a=Widgetstate.find(r.state_cid+e.cid),s=Widgetstate.find(c+e.cid),a||s?(a&&(a.screen_cid=r.cid),s&&(s.screen_cid=r.cid),a||(a=e),s||(s=e),(t=$("#widget"+e.cid+"p")[0])&&MB.runner.transformWidget(r,a,s,t,d),(n=$("#widget"+e.cid+"pgf")[0])&&MB.runner.transformWidget(r,a,s,n,d),(i=$("#widget"+e.cid+"pgh")[0])&&MB.runner.transformWidget(r,a,s,i,d),u.push([a,s,t,i,n]),!1):void 0)}),i=[],Panel.select(function(e){var t,n,s,a,o;if(e.screen_cid===r.cid&&(o=Panelstate.find(r.state_cid+e.cid),a=Panelstate.find(c+e.cid),o||a))return a&&(a.cid=e.cid),o||(o=e),a||(a=e),(t=$("#panel"+e.cid+"p")[0])&&MB.runner.transformPanel(r,o,a,t,d,"p"),(s=$("#panel"+e.cid+"pgh")[0])&&MB.runner.transformPanel(r,o,a,s,d,"pgh"),(n=$("#panel"+e.cid+"pgf")[0])&&MB.runner.transformPanel(r,o,a,n,d,"pgf"),i.push([o,a,t,s,n]),!1}),n=r.headerHeight(),t=r.footerHeight(),r.setState(c,!0),this.timerFired=!1,a=u.sort(function(e,t){return e[1].timestamp-t[1].timestamp}),s=i.sort(function(e,t){return e[1].timestamp-t[1].timestamp}),this.timeoutBucket.setTimeout("stateTimer",function(e){return function(){var i,o,c,l,d,h,p,f,m,g,b,v,y,w,_,x,M;for(d=r.headerHeight(),c=r.footerHeight(),n!==d&&($("#gh").css("height",d),$(".pcanvas.active .scontainer > .sheader").css("height",d)),t!==c&&($("#gf").css("height",c),$(".pcanvas.active .scontainer > .sfooter").css("height",c)),a=u.sort(function(e,t){return e[1].timestamp-t[1].timestamp}),p=0,g=a.length;p<g;p++)h=a[p],w=h[0],M=h[1],i=h[2],l=h[3],o=h[4],"none"!==M.ani_name&&(i&&(i.className+=" animated"),l&&(l.className+=" animated"),o&&(o.className+=" animated")),w.text!==M.text&&(WidgetManager.renderText(M,i),WidgetManager.renderText(M,o),WidgetManager.renderText(M,l)),WidgetManager.renderExtras(M,i,"p"),WidgetManager.renderExtras(M,l,"p"),WidgetManager.renderExtras(M,o,"p");for(_=a.concat(s),x=[],f=0,b=_.length;f<b;f++)h=_[f],y=h[0],v=h[1],i=h[2],l=h[3],o=h[4],m=Link.find(v.gid),m&&(m.targetstate_cid&&m.sourcestate_cid===v.screenstate_cid||m.target_cid)?(v.v&&(i&&e.setupWidgetLink($(i),m),l&&e.setupWidgetLink($(l),m),o&&e.setupWidgetLink($(o),m)),MB.isPhantom()||!(m.timer>0)||m.targetstate_cid&&m.sourcestate_cid!==v.screenstate_cid?x.push(void 0):x.push(e.pageTimer(m))):x.push($(i).removeClass("clickable"));return x}}(this),0),l=1e3*(parseFloat(e.ani_duration)+parseFloat(e.ani_delay||"0")),this.timeoutBucket.setTimeout("stateTimer2",function(t){return function(){var n,i,o,c,l,d,u,h,p,f,m,g,b;for(u=r.headerHeight(),c=r.footerHeight(),b=a.concat(s),p=0,f=b.length;p<f;p++)h=b[p],g=h[0],m=h[1],i=h[2],d=h[3],o=h[4],!g.fixed&&m.fixed?(d&&d.remove(),d=t.runnerUtil.cloneFixed(r,m,$(i))[0],$("#gs")[0].appendChild(d)):g.fixed&&!m.fixed&&($(i).show(),d&&d.remove(),d=null),!m.fixed&&i&&(m.t()<u&&!d?(d=$(i).clone()[0],d.id=i.id+"gh",$("#gh")[0].appendChild(d)):m.t()>=u&&d&&(d.remove(),d=null,$(i).show()),n=m.t()+m.h(),l=0===r.footerHeight()?Number.MAX_VALUE:Math.floor(r.h()-r.footerHeight()),n>=l?(o||(o=$(i).clone()[0],o.id=o.id+"gf",$("#gf")[0].appendChild(o)),$(o).disableTransition(function(){return $(o).enableTransition(),o.style.top=m.t()-l+"px"})):n<l&&o&&($(i).show(),o.remove(),o=null));if(!MB.isMobile())return $("#sticky-container #stickies").html($("#pscreen"+e.screen_cid+" .stickies").html())}}(this),l)},n.prototype.setupWidgetLink=function(e,t){var n,i;if(i=this.currentMenu?Screen.find(this.currentMenu):Screen.find($(".pcanvas.active").data("cid")),!(t.target_cid===i.cid||t.targetstate_cid&&t.targetstate_cid===i.state_cid))return e.addClass("clickable"),e.attr("data-link_cid",t.cid),e.find(".region").length?void 0:(n="tap"!==t.gesture?t.gesture:"",e.append("<div class='region gesture "+n+"'></div>"))},n.prototype.setupPanelLinks=function(e){var t,n,i,r,s,a,o,c,l,d,u,h,p,f;for(d=Link.findAllByAttribute("screen_cid",e.data("cid")),n=0,s=d.length;n<s;n++)r=d[n],h=e[0].id.replace(e.data("cid"),r.target_cid),$("#"+h).enableTransition("10ms");for(l=e[0].parentElement.dataset.cid,p=Link.findAllByAttribute("state_cid",e.data("cid")),i=0,a=p.length;i<a;i++)for(r=p[i],u=r.cwidgets(),c=0,o=u.length;c<o;c++)f=u[c],f.v&&(t=e.find("#widget"+f.cid+l+"p"),this.setupWidgetLink(t,r));return setTimeout(function(e){return function(){var t,n,i,s;for(i=[],n=0,t=p.length;n<t;n++)r=p[n],s=Screen.find(r.target_cid),s?(e.renderWidgets(s),i.push($("#pscreen"+s.cid).enableTransition("10ms"))):i.push(void 0);return i}}(this),100)},n.prototype.setupPanelAnimationAndFixed=function(e){var t,n,i,r,s,a,o,c,l,d;for(s=e[0].parentElement,n=s.getElementsByClassName("fixed")[0],a=s.dataset.cid,l=Screen.find(e.data("cid")),n.innerHTML="",o=l.cwidgets(),c=[],i=0,r=o.length;i<r;i++)d=o[i],t=e.find("#widget"+d.cid+a+"p"),d.fixed&&(t=this.runnerUtil.cloneFixed(l,d,t,!1),n.appendChild(t[0])),"webpage"===d.name&&d.text&&!MB.isPhantom()?c.push(this.runnerUtil.setObjectUrl(t.find(".iframe")[0],d.text.replace(/&amp;/g,"&"))):c.push(void 0);return c},n.prototype.setupFixedWidgets=function(e){var t,n,i,r,s,a,o,c,l,d,u,h,p,f,m,g,b,v,y,w,_,x,M,k;if(e){for(h=e.headerHeight(),o=e.footerHeight(),$("#gh").css("height",h).css("top",0).html("").removeClass("sb"),$("#gf").css("height",o).css("bottom",0).html("").removeClass("sb"),$(".pcanvas.active .scontainer > .sheader").css("height",h),$(".pcanvas.active .scontainer > .sfooter").css("height",o),$("#gs").html(this.pages[e.cid].sbHTML),this.pages[e.cid].sbHTML&&$("#gh, #gf").addClass("sb"),c=0===o?Number.MAX_VALUE:Math.floor(e.h()-o),u=document.createDocumentFragment(),d=document.createDocumentFragment(),l=document.createDocumentFragment(),m=function(){var t,n,i,r;for(i=e.citems(),r=[],t=0,n=i.length;t<n;t++)p=i[t],["sticky","pg"].indexOf(p.name)===-1&&r.push(p);return r}(),g=0,v=m.length;g<v;g++)p=m[g],k=p.t(),n="panel"===p.name?$("#panel"+p.cid+"p"):$("#widget"+p.cid+"p"),s=Math.floor(k+n.outerHeight()),"webpage"===p.name&&(p.text&&!MB.isPhantom()?this.runnerUtil.setObjectUrl(n.find(".iframe")[0],p.text.replace(/&amp;/g,"&")):this.runnerUtil.setObjectUrl(n.find(".iframe")[0],"about:blank")),"image_view"===p.name&&(/.gif$/.test(p.image)||(i=Asset.find(p.image))&&/.gif$/.test(i.image))&&(f=n.find("img")[0],f.src=f.src),p.fixed?(n.removeClass("animated"),u.appendChild(this.runnerUtil.cloneFixed(e,p,n)[0])):(k<h&&(t=n.clone(),t.attr("id",t.attr("id")+"gh"),d.appendChild(t[0])),s>=c&&k<e.h()&&(t=n.clone(),t.attr("id",t.attr("id")+"gf"),t.css("top",k-c),l.appendChild(t[0])));for($("#gs")[0].appendChild(u),$("#gh")[0].appendChild(d),$("#gf")[0].appendChild(l),b=0,y=m.length;b<y;b++)if(p=m[b],"panel"===p.name)for(M=["p","pgh","pgf"],_=0,w=M.length;_<w;_++)x=M[_],"panel"===p.name&&(a=document.getElementById("panel"+p.cid+x),a&&(r=$(a).find(".state.active"),this.setupPanelLinks(r),this.setupPanelAnimationAndFixed(r)));return $("#gf .keyboard").show(),$("#gs .status_bar").css("background-color","transparent")}},n.prototype.setupStatusBar=function(e){var t,n;if(e)return MB.isIOS()&&window.navigator.standalone&&($(window).height()>$(window).width()?($("#gs .status_bar").addClass("standalone"),t=e.sb(),!t||t.th&&"light"!==t.th||$("#gs .status_bar").addClass("light")):($("#gs .status_bar").removeClass("standalone"),$("#gs .status_bar").removeClass("light")),MB.isIOS9()&&this.runnerUtil.deviceOrient()===e.orient())?(this.scale<1&&(this.scale=1),n=MB.COMPONENTS.status_bar.height,$("#app").css({position:"absolute",height:($(window).height()+n)/this.scale,top:0-n/this.scale,bottom:0})):void 0},n.prototype.setupPG=function(){var e;return this.hammertime=new Hammer($("#app")[0],{touchAction:"auto"}),this.hammertime.get("swipe").set({direction:Hammer.DIRECTION_ALL,velocity:.05,threshold:50}),this.hammertime.on("swipeleft",function(e){return function(t){return setTimeout(function(){return e.pj(t,"left")})}}(this)),this.hammertime.on("swiperight",function(e){return function(t){return setTimeout(function(){return e.pj(t,"right")})}}(this)),this.hammertime.on("swipeup",function(e){return function(t){return setTimeout(function(){return e.pj(t,"up")})}}(this)),this.hammertime.on("swipedown",function(e){return function(t){return setTimeout(function(){return e.pj(t,"down")})}}(this)),this.hammertime.on("press",function(e){return function(t){return setTimeout(function(){return e.pj(t,"hold")})}}(this)),this.hammertime.on("tap",function(e){return function(t){var n;if(1===t.tapCount){if(n=$(t.target).closest(".widget"),n.hasClass("switch"))return n.toggleClass("checked"),void setTimeout(function(){if(n.hasClass("clickable"))return e.pj(t,"tap")},250);setTimeout(function(){return e.pj(t,"tap")})}if(2===t.tapCount)return e.eventBucket.resetCoolDown(),e.hightTimer&&clearTimeout(e.hightTimer),setTimeout(function(){return e.pj(t,"dtap")})}}(this)),e=new Shake({threshold:15}),e.start(),window.addEventListener("shake",function(e){return function(t){return setTimeout(function(){return e.pj(t,"shake")})}}(this),!1),$("#sticky-container").on("click",".sticky",function(e){return function(t){return e.pj(t,"tap")}}(this))},n.prototype.setupPageGesture=function(e){var t,n,i,r,s,a;for(t=[],s=e.clinks(),n=0,r=s.length;n<r;n++)i=s[n],"left"!==i.gesture&&"right"!==i.gesture||t.indexOf("pan-y")===-1&&t.push("pan-y"),"up"!==i.gesture&&"down"!==i.gesture||t.indexOf("pan-x")===-1&&t.push("pan-x");return a=t.length?t.join(" "):"auto",this.hammertime.touchAction.actions=a,$(".pcanvas.active .widgets").css("touch-action",a)},n.prototype.pageTimer=function(e){return this.timeoutBucket.setTimeout(e.cid,function(t){return function(){if(!t.timerFired)return t.timerFired=!0,t.j(e)}}(this),1e3*e.timer)},n.prototype.panelTimer=function(e,t){if(Screen.find(e.target_cid))return this.timeoutBucket.setTimeout(t.cid,function(n){return function(){if(!t.timerFired&&!n.timerFired)return t.timerFired=!0,t.lsave(!1),n.panelWJ(e,$("#panel"+t.cid+"p")),$("#panel"+t.cid+"pgh").length&&n.panelWJ(e,$("#panel"+t.cid+"pgh")),$("#panel"+t.cid+"pgf").length?n.panelWJ(e,$("#panel"+t.cid+"pgf")):void 0}}(this),1e3*e.timer)},n.prototype.setupPanelTimers=function(e,t){var n,i,r,s,a,o,c,l,d;if(!MB.isPhantom()&&(t||(n=$("#panel"+e.cid+"p .pstate.active").data("cid"),t=Screen.find(n)),t)){for(this.timeoutBucket.clearTimeoutByKey(e.cid),e.timerFired=!1,e.lsave(!1),c=t.clinks(),i=0,s=c.length;i<s;i++)o=c[i],o.timer>0&&this.panelTimer(o,e);for(l=Link.findAllByAttribute("state_cid",t.cid),d=[],r=0,a=l.length;r<a;r++)o=l[r],o.timer>0&&d.push(this.pageTimer(o));return d}},n.prototype.setupPageTimers=function(e,t){var n,i,r,s,a,o,c,l,d,u;if(null==t&&(t="default"),!MB.isPhantom()){for(this.timeoutBucket.clear(),l=e.cwidgets(),i=0,a=l.length;i<a;i++)n=l[i],t&&n.setState(t,!1),s=Link.find(n.gid),s&&s.timer>0&&(!s.targetstate_cid||s.sourcestate_cid===t)&&this.pageTimer(s);for(d=e.cpanels(),u=[],r=0,o=d.length;r<o;r++)c=d[r],u.push(this.setupPanelTimers(c));return u}},n.prototype.setupBackground=function(e,t){var n;if(n="transparent"===t.bgcolor?"#f0f0f2":t.bgcolor,$("#app").css({"background-color":n,"background-image":t.bgimage?"url("+t.getRealBgImage()+")":""}),$(".pcanvas.active .sheader, .pcanvas.active .sfooter").css("background-color",n),t.bgimage&&$(".pcanvas.active .sheader").css("background-image","url("+t.getRealBgImage()+")"),!e.hasClass("drawer"))return e.css({"background-image":"","background-color":"transparent"})},n.prototype.renderScreen=function(){var e,t,n,i,r,s,a,o;for(o="",r=this.project.cscreens(),e=0,n=r.length;e<n;e++)a=r[e],o+=this.runnerUtil.screenPreview(a);for($("#app").append(o),s=this.project.cscreens(),t=0,i=s.length;t<i;t++)a=s[t],a.cid!==this.home.cid&&this.transitionUtil.hideScreen("#pscreen"+a.cid);return $("#pscreen"+this.home.cid).addClass("active"),this.renderWidgets(this.home)},n.prototype.renderWidgets=function(e){var t,n,i,r,s,a,o,c,l,d,u,h,p,f,m,g,b,v,y;if(!$("#pscreen"+e.cid+" .widget").length){for(g=new Date,e.setState("default",!0),f=e.citems(),o=0,l=f.length;o<l;o++)a=f[o],a.setState("default",!0);for(p=document.getElementById("pscreen"+e.cid),t=p.getElementsByClassName("scontainer")[0],b=p.getElementsByClassName("stickies")[0],n="",v="",i=[],this.pages[e.cid]={sbHTML:""},m=e.citems(),c=0,d=m.length;c<d;c++)if(a=m[c],"panel"===a.name)a.valid()&&(n+=MB.PanelPreview(a));else{if(y=a,"sticky"===y.name){MB.isMobile()||MB.isPhantom()||(i.push(y),v+=MB.widget(y,"p"));continue}s="",("pg"!==y.name||/^l/.test(y.gid))&&("pg"===y.name&&(y.top=y.left=null),s=MB.widget(y,"p")),"status_bar"===y.name&&(p.className.indexOf("sb")===-1&&(p.className+=" sb"),
this.pages[e.cid].sbHTML=s),n+=s}for(t.innerHTML+=n,b.innerHTML+=v,t.style.height=e.h()+"px",h=0,u=i.length;h<u;h++)y=i[h],WidgetManager.design(y,"p");return MB.isMobile()||(this.scrollSync.init($(".pcanvas.active .widgets")[0],$("#sticky-container")[0]),$("#pscreen"+e.cid+" .widgets").onScroll(this.scrollSync.delaySync),$("#pscreen"+e.cid+" .widgets").perfectScrollbar({suppressScrollX:!0})),r=new Date,r-g>500?MB.ga("send","event","performance","render("+(r-g)+")("+e.cid+")("+MB.project().model+")("+navigator.userAgent+")"):void 0}},n.prototype.zoom=function(e){var t,n;return t=r.indexOf(this.project.scale),n=t+e,this.project.scale=r[n],this.project.lsave(!1),$("body").data("scale",this.project.scale),$("a#zoomin").toggleClass("disabled",this.project.scale===r[r.length-1]),$("a#zoomout").toggleClass("disabled",this.project.scale===r[0]),this.reload(!0)},n}(),this.DesignerRunner=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.render=function(e,t){return this.project=Project.find(e)||Template.find(e)||Combo.find(e),this.project?($("body").data("scale",this.project.scale),this.home=Screen.find(t),this.home.setState("default",!0),this.project.orientation=this.home.orientation,MB.renderSimulator(this.project,$("#preview")),this.init()):MB.webpackInterface.navigateTo("/workspace/apps")},t}(n),this.SharingRunner=function(e){function t(e){this.project=e,t.__super__.constructor.apply(this,arguments),MB.isIOS()&&this.disableRubberBand()}return s(t,e),t.prototype.disableRubberBand=function(){return document.body.ontouchstart=function(e){return function(t){return e.touchStartY=t.touches[0].screenY}}(this),document.body.ontouchmove=function(e){return function(t){var n;if(!$(t.target).closest(".ppanel").length)return n=$(t.target).closest(".widgets")[0],!n||t.touches[0].screenY>e.touchStartY&&0===n.scrollTop||t.touches[0].screenY<e.touchStartY&&n.scrollTop===n.scrollHeight-$(n).height()?t.preventDefault():void 0}}(this)},t.prototype.render=function(){return MB.currentScreen=this.home=this.project.homeScreen(),this.project.orientation=this.home.orientation,MB.isMobile()||MB.isEmbedded()?(this.project.scale=100,this.project.lsave(!1),$("body").data("scale",100)):$("body").data("scale",this.project.scale),MB.renderSimulator(this.project,$("#workspace")),setTimeout(function(e){return function(){return $("#workspace").show(),$("a.design").hide(),e.init()}}(this),100)},t}(n)}.call(this),function(){this.Pusher=function(){function e(){var e,t,n,i;/modao.cc/.test(MBServer)?(t="zr0zakpglowydpzdfm9biewf3e1mv43ykz24ieu20vb8s3bl",n="0qbkbb3sxie08vnnac8ns2bz86lu9m8oam4wlvynh3mu3n08",i="cn"):(t="mw2fpdz5dqyge9ag4u9oxj6bvmx6fs1m3zq6po8dy36zkl8v",n="b3jezh7100lhusvjy7mzktticqzkrx7yj7y7j04lon7ct9c9",i="us"),this.open=!1,this.subscribed=[],this.pusher=AV.push({appId:t,appKey:n,region:i});try{this.pusher.open(function(e){return function(){return e.open=!0}}(this)),this.pusher.subscribe([MB.user.channel],function(){return console.log("\u8ba2\u9605\u6210\u529f\uff01")})}catch(e){}this.pusher.on("close",function(e){return function(){return e.open=!1}}(this)),this.pusher.on("open",function(e){return function(){return e.open=!0,e.onOpen&&e.onOpen(),e.onOpen=null}}(this)),this.pusher.on("message",function(e){return function(t){return e.onReceive(t)}}(this)),this.pusher.on("error",function(e){return function(){return e.open=!1}}(this)),e=$("#notification"),e.on("click",".close, .ask_later",function(){return e.find(".request_permission").remove(),e.translateY(0)})}return e.prototype.subscribe=function(e){if(this.subscribed.indexOf(e)===-1)return this.subscribed.push(e)},e.prototype.onReceive=function(e){var t,n,i;if(e._channel===MB.user.channel)switch(e.event){case"notification":return MB.notifier&&this.handleNotification(e);case"order":return this.handleOrder(e);case"collaboration":if("Project"===e.t)return this.updateProject(e.action,e.object);if("Team"===e.t)return this.updateTeam(e.action,e.object);if("Collaborator"===e.t)return this.updateCollaborator(e.action,e.object);if(e.from.id===MB.user.id)return;switch(e.t){case"Asset":return this.updateAsset(e.action,e.object);case"PointComments::Thread":return MB.webpackInterface&&MB.webpackInterface.callViewMethod("comment","pushData","thread",e.action,e.object);case"PointComments::Comment":return MB.webpackInterface&&MB.webpackInterface.callViewMethod("comment","pushData","comment",e.action,e.object);default:if(MB.pusher.subscribed.indexOf(e.to)===-1)return;if(MB.f.inSharing)return;switch(e.t){case"Widget":this.updateWidget(e.action,e.object);break;case"Link":this.updateLink(e.action,e.object);break;case"Screen":this.updateScreen(e.action,e.object);break;case"Panel":this.updatePanel(e.action,e.object,e.extras);break;case"Screenstate":this.updateScreenstate(e.action,e.object);break;case"Widgetstate":this.updateWidgetstate(e.action,e.object);break;case"Panelstate":this.updatePanelstate(e.action,e.object)}if(n="Screen"===e.t?e.object.cid:e.object.screen_cid,!n&&e.object.screenstate_cid&&(i=Screenstate.find(e.object.screenstate_cid),i&&(n=i.screen_cid)),!e.from.id)return;return t=CoWorker.find(e.from.id),t||(t=new CoWorker({cid:e.from.id,name:e.from.name,avatar:e.from.avatar})),t.screen_cid=n,t.last_seen=new Date,t.save(),MB.renderCoWorkers()}}},e.prototype.handleNotification=function(e){var t,n;if(!(e._channel!==MB.user.channel||e._expired||"new_thread_comment"===e.event_type&&MB.commentModeOn))return n={body:e.message},MB.isElectron()||(n.icon="/images/mockingbot-logo80x80.png"),MB.notifier.notify(I18N.got_message,n,1e4,function(t){var n;return t.preventDefault(),n=window,n.focus(),MB.notification.markRead(e.id,function(){return MB.notification.gotoDataUrl(e.url,n,e.need_reload,e.need_new_win)}),this.close()},void 0,function(t){return function(){return t.notifyFallback(e)}}(this)),t=$("#header .notifications-dropdown")[0],t?(ReactDOM.unmountComponentAtNode(t),MB.renderNotifications(t)):void 0},e.prototype.notifyFallback=function(e){if($("#notification").translateY(70),$("#notification .message").text(e.message),setTimeout(function(){return $("#notification").translateY(0)},1e4),e.url)return $("#notification .message").off("click"),$("#notification .message").on("click",function(t){return t.preventDefault(),MB.notification.markRead(e.id,function(){return MB.notification.gotoDataUrl(e.url,window,e.need_reload,e.need_new_win)})})},e.prototype.handleOrder=function(e){return MB.trackOrder(e.order)},e.prototype.updateWidget=function(e,t){var n,i,r;if(n=$("#screen").data("cid"),"update"===e)r=Widget.find(t.cid),r?(r.refresh(t),n===r.screen_cid&&(WidgetManager.update(r),MB.selection.select(MB.selection.groupedItems.items()),(i=Link.find(r.gid))&&(i.reload(),MB.renderLinks()))):(r=new Widget,r.load(t),r.lsave(!1),n===r.screen_cid&&ScreenManager.appendWidget(r));else if("destroy"===e){if(r=Widget.find(t.cid),!r)return;r.ldestroy(!1),n===r.screen_cid&&($("#widget"+r.cid).remove(),$("#design").trigger("slider:update"),MB.selection.reductItem(r.cid))}if(r&&n===r.screen_cid)return MB.renderRightNav()},e.prototype.updatePanel=function(e,t,n){var i,r,s;if(i=$("#screen").data("cid"),"update"===e){if(s=Panel.find(t.cid),!s)return $.ajax({type:"GET",url:"/app/"+n.template_token+".json",success:function(e){if(Template.refresh([e.project]),Screen.refresh(e.screens),Widget.refresh(e.widgets),Link.refresh(e.links),MB.pusher.subscribe(e.project.cid),s=new Panel,s.load(t),s.lsave(!1),i===s.screen_cid)return ScreenManager.appendPanel(s),MB.renderLinks(),MB.renderLeftNav()}});if(s.refresh(t),i===s.screen_cid)return PanelManager.design(s),MB.selection.select(MB.selection.groupedItems.items()),r=$("#panel"+s.cid+" .state.active").data("cid"),Link.select(function(e){if(e.cid===s.gid||e.state_cid===r)return e.reload()}),MB.renderLinks()}else if("destroy"===e){if(s=Panel.find(t.cid),!s)return;return i===s.screen_cid?(PanelManager.remove(s.cid,!1),MB.selection.reductItem(s.cid)):s.ldestroy(!1)}},e.prototype.updateLink=function(e,t){var n,i;if(n=$("#screen").data("cid"),"update"===e)i=Link.find(t.cid),i?i.refresh(t):(i=new Link,i.load(t),i.lsave(!1));else if("destroy"===e){if(i=Link.find(t.cid),!i)return;i.ldestroy(!1)}if(i&&n===i.screen_cid)return MB.renderLinks()},e.prototype.updateScreen=function(e,t){var n,i;if(n=$("#screen").data("cid"),"update"===e){if(i=Screen.find(t.cid)){if(i.refresh(t),n!==i.cid)return;return $("#screen").css("height",i.outerHeight()+"px"),$("#screen").css("width",i.outerWidth()+"px"),MB.renderRightNav(),$("#design").trigger("slider:update"),i.bgcolor?($(".sbgcolor").css("background-color",i.bgcolor),$("#canvas").css("background-color",i.bgcolor),$("#canvas").css("background-image","")):$("#canvas").css("background-image","url("+i.getRealBgImage()+")")}if(i=new Screen,i.load(t),i.lsave(!1),MB.currentProject&&MB.currentProject.cid===i.project_cid)return MB.renderRightNav()}else if("destroy"===e){if(i=Screen.find(t.cid),!i)return;if(i.ldestroy(!1),MB.currentProject&&MB.currentProject.cid===i.project_cid)return ScreenManager.remove(i)}},e.prototype.updateProject=function(e,t){var n;if(!MB.f.inSharing){if("update"===e&&(n=Project.find(t.cid),n?n.refresh(t):(n=new Project,n.load(t),n.screens_count||(n.screens_count=2),n.lsave(!1)),MB.webpackInterface.refreshProject(),MB.webpackInterface.refreshTeam()),"destroy"===e){if(n=Project.find(t.cid),!n)return;MB.webpackInterface.deleteProjectByCid(n.cid)}return $(".timeago").timeago()}},e.prototype.updateTeam=function(e,t){var n;if(!MB.f.inSharing)return"update"===e&&(n=Team.find(t.cid),n?n.refresh(t):(n=new Team,n.load(t),n.lsave(!1)),MB.webpackInterface.refreshProject(),MB.webpackInterface.refreshTeam()),"destroy"===e&&(n=Team.find(t.cid))?MB.webpackInterface.deleteTeamByCid(n.cid):void 0},e.prototype.updateCollaborator=function(e,t){var n,i,r;if(!MB.f.inSharing&&("update"===e&&(n=Collaborator.find(t.cid),n?n.refresh(t):(n=new Collaborator,n.load(t),n.lsave(!1)),MB.webpackInterface.refreshProject(),MB.webpackInterface.refreshTeam()),"destroy"===e)){if(n=Collaborator.find(t.cid),!n)return;if(n.ldestroy(!1),n.user_id===MB.user.id&&(n.project_cid&&(i=Project.find(n.project_cid)),i&&MB.webpackInterface.deleteProjectByCid(i.cid),n.team_cid&&(r=Team.find(n.team_cid)),r))return MB.webpackInterface.deleteTeamByCid(r.cid)}},e.prototype.updateScreenstate=function(e,t){var n,i;if(n=MB.currentScreen,"update"===e){if(i=Screenstate.find(t.cid),i?i.refresh(t):(i=new Screenstate,i.load(t),i.lsave(!1)),n&&n.cid===i.screen_cid)return MB.renderRightNav()}else if("destroy"===e){if(i=Screenstate.find(t.cid),!i)return;if(i.ldestroy(!1),n&&n.cid===i.screen_cid)return n.state_cid===i.cid&&(ScreenManager.updateState(n,"default"),n.setState("default",!0)),MB.renderRightNav()}},e.prototype.updateWidgetstate=function(e,t){var n,i,r,s;if(i=MB.currentScreen,"update"===e&&(s=Widgetstate.find(t.cid),s?s.refresh(t):(s=new Widgetstate,s.load(t),s.lsave(!1)),i&&i.state_cid===s.screenstate_cid&&(r=Widget.find(s.widget_cid),r.screenstate_cid===s.screenstate_cid)))return r.restore(s),r.lsave(!1),(n=Link.find(r.gid))&&(n.reload(),MB.renderLinks()),WidgetManager.update(r),MB.selection.select(MB.selection.groupedItems.items())},e.prototype.updateAsset=function(e,t){var n;if(!MB.f.inSharing)return"create"===e?(n=new Asset,n.load(t),n.lsave(!1)):void 0},e.prototype.updatePanelstate=function(e,t){var n,i,r,s;if(s=MB.currentScreen,"update"===e&&(r=Panelstate.find(t.cid),r?r.refresh(t):(r=new Panelstate,r.load(t),r.lsave(!1)),s&&s.state_cid===r.screenstate_cid&&(i=Panel.find(r.panel_cid),i.screenstate_cid===r.screenstate_cid)))return i.restore(r),i.lsave(!1),PanelManager.design(i),MB.selection.select(MB.selection.groupedItems.items()),n=$("#panel"+i.cid+" .state.active").data("cid"),Link.select(function(e){if(e.cid===i.gid||e.state_cid===n)return e.reload()}),MB.renderLinks()},e}()}.call(this),function(){var e,t,n,i;MB.launch=function(e){return this.checkFA(function(){return $(".box").hide(),MB.currentProject=e,MB.runner=new SharingRunner(e),MB.runner.render()})},MB.init=function(e){var t;return $("#loading").hide(),MB.DEVICES=e.devices,t=e.project.template?new Template:e.project.combo?new Combo:new Project,t.load(e.project),t.lsave(!1),Template.refresh(e.templates),Screen.refresh(e.screens),Widget.refresh(e.widgets),Link.refresh(e.links),Panel.refresh(e.panels),Screenstate.refresh(e.screenstates),Widgetstate.refresh(e.widgetstates),Panelstate.refresh(e.panelstates),Collaborator.refresh(e.collaborators),CommentThread.refresh(e.threads),Comment.refresh(e.comments),Team.refresh(e.teams),MB.user=$("#workspace").data("user")||{},MB.mpIdentify(),MB.user.id&&(MB.pusher=new Pusher),MB.pusher&&MB.pusher.subscribe(t.cid),MB.isMobile()||(this.autoSaver=new AutoSaver),$("title").html(t.name),(new Image).src=MB.staticMap(),!t.validated&&MB.isMobile()&&$("#cheating-warning").modal(),MB.webpackInterface&&MB.webpackInterface.init(),MB.launch(t)},MB.initInstall=function(){return $("#splash").hide(),$("#loading").hide(),$("#workspace").show(),$.timeago.settings.lang=MB.locale,$("abbr.timeago").timeago(),$("#workspace").on("click",".cover.wechat, .cover.iphone, .cover.ipad",function(e){return $(e.target).closest(".cover").hide()}),$("a.install").click(function(t){return MB.isWechat()?(t.preventDefault(),$(".cover.wechat").show(),MB.mp("\u70b9\u51fb\u4e86\u5fae\u4fe1\u5b89\u88c5")):MB.isiPad()?($(".cover.ipad").show(),MB.mp("\u70b9\u51fb\u4e86 iOS \u5b89\u88c5")):MB.isIOS()?(MB.mp("\u70b9\u51fb\u4e86 iOS \u5b89\u88c5"),$(".cover.iphone").show()):(MB.mp("\u70b9\u51fb\u4e86\u5b89\u5353\u5b89\u88c5"),$(".cover.building").show(),$.ajax({url:"/app/"+$(this).data("token")+"/build/apk.json",type:"put",success:function(){return function(t){return e("apk",t)}}(this),error:function(){}}))}),$("#ios-download").click(function(e){if(MB.isWechat())return e.preventDefault(),$(".cover.wechat").show()})},MB.initWechat=function(e){if(MB.isWechat())return wx.ready(function(){var t,n,i,r;r=e.name,t=e.desc,i=window.location.href,n=window.location.origin+e.icon,wx.onMenuShareAppMessage({title:r,desc:t,link:i,imgUrl:n}),wx.onMenuShareTimeline({title:r,link:i,imgUrl:n}),wx.onMenuShareQQ({title:r,desc:t,link:i,imgUrl:n})})},MB.load=function(e,t,r){return MB.isMobile()&&$("body").addClass("mobile"),/qrcode/.test(window.location.href)&&(MB.mp("\u626b\u63cf\u4e86\u4e8c\u7ef4\u7801"),MB.ga("send","event","goal","\u626b\u63cf\u4e86\u4e8c\u7ef4\u7801")),MB.supportedBrowser()?(t&&(r||(r=localStorage[e+"_pwd"]||md5(prompt(I18N.credential_required)))),window.MBData?n(e,t,r):i(e,t,r)):($("#splash").hide(),$("#loading").hide())},n=function(e,i,r){var s,a,o,c,l,d,u,h,p,f,m;if(i){if(r||(r=localStorage[e+"_pwd"]||md5(prompt(I18N.credential_required))),r!==window.MBData.project.password)return void(localStorage[e+"_pwd"]?(localStorage.removeItem(e+"_pwd"),n(e,!0)):alert(I18N.invalid_credential));t()&&(localStorage[e+"_pwd"]=r)}for(window.MBData.project.splash="images/splash.png",u=window.MBData.widgets,s=0,c=u.length;s<c;s++)m=u[s],m.image&&(m.image=m.image.replace(/^.+uploads.*?\//,""));for(h=window.MBData.widgetstates,a=0,l=h.length;a<l;a++)m=h[a],m.image&&(m.image=m.image.replace(/^.+uploads.*?\//,""));for(p=window.MBData.screens,o=0,d=p.length;o<d;o++)f=p[o],f.bgimage&&(f.bgimage=f.bgimage.replace(/^.+uploads.*?\//,""));return $(".indicator").transitionEnd(function(){return MB.init(window.MBData)}),$(".indicator").css("height","100%"),MB.staticMap=function(){var e;return e=/modao.cc/.test(MBServer)?"zh-CN":"en","images/workspace/staticmap_"+MB.locale+".png"}},i=function(e,n,r){var s,a;return a="/app/"+e+".json?"+(new Date).valueOf(),n&&(r||(r=localStorage[e+"_pwd"]||md5(prompt(I18N.credential_required))),a+="&password="+r),s=$.getJSON(a,function(n){return t()&&(localStorage[e+"_pwd"]=r),setTimeout(function(){return MB.init(n)},300),$(".indicator").css("height","100%")}),s.fail(function(){return n?localStorage[e+"_pwd"]?(localStorage.removeItem(e+"_pwd"),i(e,!0)):alert(I18N.invalid_credential):alert("Failed to load this App.")})},t=function(){var e;try{return localStorage.setItem("localStorage",1),localStorage.removeItem("localStorage"),!0}catch(t){return e=t,!1}},e=function(e){var t;return this.progressInterval&&clearInterval(this.progressInterval),t=$("a.install").data("token"),this.progressInterval=setInterval(function(n){return function(){return $.ajax({url:"/app/"+t+"/status/"+e+".json",type:"get",success:function(e){if(100===e.progress)return clearInterval(n.progressInterval),window.location=e.link,n.progressInterval=null,$(".cover.building").hide()}})}}(this),5e3)}}.call(this);